<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Sun x4200 vs Sun T1000 => inQuireServer & inQuireWeb &middot; Ben Christensen
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class=" layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
          Ben Christensen
      </h1>
      <p class="lead">Software Engineer at Netflix, previously Apple</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/toc/">Posts</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="http://twitter.com/benjchristensen">Twitter</a>
      <a class="sidebar-nav-item" href="http://github.com/benjchristensen">Github</a>
      <a class="sidebar-nav-item" href="http://github.com/ReactiveX/RxJava">&bull; RxJava</a>
      <a class="sidebar-nav-item" href="http://github.com/Netflix/Hystrix">&bull; Hystrix</a>
      <a class="sidebar-nav-item" href="http://linkedin.com/in/benjchristensen">LinkedIn</a>
    </nav>


    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Sun x4200 vs Sun T1000 => inQuireServer & inQuireWeb</h1>
  <span class="post-date">04 Jan 2007</span>
  <p>inQuireServer Tests</p>

<p>A test was done using JMeter using an inQuire Client accessing an inQuire server running on the same local machine.</p>

<p>This is done over JINI using JERI.</p>

<p>Configuration was:
- Catalog: AIDC
- Server Heap: 1GB
- Client Heap: 512MB
- Server JVM: 1.5
- Client JVM: 1.5
- inQuire Build: 4th Jan 07
- Client side caching turned on: Yes</p>

<p>The following image shows the results (times in ms):</p>

<p><a href="http://bp0.blogger.com/_CvV7agFF3Zc/RaKlfxUhp6I/AAAAAAAAACQ/VBstnK8RqIw/s1600-h/t1000-x4200-inquire-server.png"><img src="http://bp0.blogger.com/_CvV7agFF3Zc/RaKlfxUhp6I/AAAAAAAAACQ/VBstnK8RqIw/s400/t1000-x4200-inquire-server.png" alt=""></a>
First Test - DC, Keyword and Complex</p>

<p>The T1000 performs very poorly when the thread count is low.</p>

<p>Interestingly however, even though it&#39;s gap with the X4200 does reduce, it never gets better, or even close to as good as the X4200.</p>

<p>And surprisingly, it crashes and burns when we try and hit 5000 threads -- a level that is ridiculously slow on the X4200, but at least it runs.</p>

<p>Second Test - DC Only</p>

<p>The second round of tests showed an interesting result -- that the T1000 performs MUCH better when IO intensive tasks are avoided -- such as keyword search which hits the filesystem.</p>

<p>It&#39;s still not as good as the X4200 at low thread counts, but much more reasonable -- and does end up scaling better than the X4200.</p>

<p>However, in my opinion, the scale it shows is not nearly superior enough to the X4200 to sacrifice the performance at low or single thread counts, and especially not the lack of Filesystem IO.</p>

<p>inQuireWeb Tests</p>

<p>The next round of testing as against Tomcat running inQuireWeb backed by inQuireServer instances as already tested above.</p>

<p>Client side caching was enabled in inQuireWeb so as to reduce hits to the servers and test Tomcat specifically.</p>

<p>The following image shows how if Tomcat and the inQuireServer were on the same machine, the X4200 was superior, while if Tomcat was on the T1000, and inQuireServer on the X4200, then the T1000 came out on top when it started to scale.</p>

<p><a href="http://bp0.blogger.com/_CvV7agFF3Zc/RaKl0xUhp7I/AAAAAAAAACY/C4k0dvoE_Og/s1600-h/t1000-x4200-inquireweb.png"><img src="http://bp0.blogger.com/_CvV7agFF3Zc/RaKl0xUhp7I/AAAAAAAAACY/C4k0dvoE_Og/s400/t1000-x4200-inquireweb.png" alt=""></a>So the conclusion from these tests are that the T1000 does indeed have certain niches where it can perform and scale better than the Opteron based X4200 -- but they are hard to find, and if you don&#39;t fit that exact niche, a huge performance hit will be incurred.</p>

<p>At this point, databases and the inQuireServer are out of the questions for the T1000 -- relegating it to a glorifed webserver ... able to host Apache and/or Tomat, as long as the heavy lifting of searches and IO are done elsewhere -- such as on the X4200.</p>

<p>Ben</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/architecture/code/infrastructure/performance/production/production%20problems/resilience%20engineering/tools/2013/06/10/application-resilience-in-a-service-oriented-architecture-using-hystrix/">
            Application Resilience in a Service-Oriented Architecture using Hystrix
            <small>10 Jun 2013</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/architecture/code/resilience%20engineering/tools/2013/05/24/hystrix-in-may-2013-thoughtworks-tech-radar/">
            Hystrix in May 2013 ThoughtWorks Tech Radar
            <small>24 May 2013</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/architecture/code/infrastructure/performance/production/resilience%20engineering/2013/05/01/functional-reactive-programming-in-the-netflix-api-qcon-london-2013/">
            Functional Reactive Programming in the Netflix API - QCon London 2013
            <small>01 May 2013</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
