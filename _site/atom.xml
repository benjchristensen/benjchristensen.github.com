<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Ben Christensen</title>
 <link href="http://benjchristensen.com/atom.xml" rel="self"/>
 <link href="http://benjchristensen.com/"/>
 <updated>2015-02-04T21:06:00-08:00</updated>
 <id>http://benjchristensen.com</id>
 <author>
   <name>Ben Christensen</name>
   <email></email>
 </author>

 
 <entry>
   <title>Application Resilience in a Service-Oriented Architecture using Hystrix</title>
   <link href="http://benjchristensen.com/architecture/code/infrastructure/performance/production/production%20problems/resilience%20engineering/tools/2013/06/10/application-resilience-in-a-service-oriented-architecture-using-hystrix/"/>
   <updated>2013-06-10T09:13:40-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/infrastructure/performance/production/production%20problems/resilience%20engineering/tools/2013/06/10/application-resilience-in-a-service-oriented-architecture-using-hystrix</id>
   <content type="html">&lt;p&gt;Originally written for &lt;a href=&quot;http://programming.oreilly.com/2013/06/application-resilience-in-a-service-oriented-architecture.html&quot;&gt;programming.oreilly.com&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Web-scale applications such as Netflix serve millions of customers using thousands of servers across multiple data centers. Unmitigated system failures impact user experience, product image, company brand and potentially even revenue. Service-oriented architectures such as these are too complex to completely understand or control and must be treated accordingly. The relationships between nodes are constantly changing as actors within the system independently evolve. Failure in the form of errors and latency will emerge from these relationships and resilient systems can easily &amp;quot;drift&amp;quot; into states of vulnerability. Infrastructure alone cannot be relied upon to achieve resilience. Application instances, as components of a complex system, must isolate failure and constantly audit for change.&lt;/p&gt;

&lt;p&gt;At Netflix, we have spent a lot of time and energy engineering resilience into our systems. Among the tools we have built is &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki&quot;&gt;Hystrix&lt;/a&gt; which specifically focuses on failure isolation and graceful degradation. It evolved from a series of production incidents involving saturated connection and/or thread pools, cascading failures, and misconfigurations of pools, queues, timeouts and other such &amp;quot;minor mistakes&amp;quot; which led to major user impact.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/06/blocked-requests-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;This open source library follows these principles in protecting our systems when novel failures inevitably occur:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Isolate client network interaction using the bulkhead and circuit breaker patterns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fallback and degrade gracefully when possible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fail fast when fallbacks aren&amp;#39;t available and rapidly recover.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Monitor, alert and push configuration changes with low latency (seconds).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Restricting concurrent access to a given backend service has proven to be an effective form of &lt;a href=&quot;http://www.infoq.com/interviews/Building-Resilient-Systems-Michael-Nygard&quot;&gt;bulkheading&lt;/a&gt; as it limits the resource utilization to a concurrent request limit smaller than the total resources available in an application instance. We do this using two techniques, &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/How-it-Works#wiki-Isolation&quot;&gt;thread pools and semaphores&lt;/a&gt;. Both provide the essential quality of restricting concurrent access while threads provide the added benefit of timeouts so the caller can &amp;quot;walk away&amp;quot; if the underlying work is latent.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/06/failing-dependency-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Isolating functionality rather than the transport layer is valuable as it not only extends the bulkhead beyond network failures and latency, but also those caused by client code. Examples include request validation logic, conditional routing to different or multiple backends, request serialization, response deserialization, response validation, and decoration. Network responses can be latent, corrupted or incompatibly changed at any time which in turn can result in unexpected failures in this application logic.&lt;/p&gt;

&lt;p&gt;Mixed environments will also have several types of clients for the many different types of backends. Each has different configurations and most clients don&amp;#39;t expose themselves easily for auditing or modification in a production environment. Unfortunately it is also generally true that default configurations are not optimal and despite best efforts these leak into a system (particularly via transitive dependencies) and it only takes one misconfigured client to expose a vulnerability that results in a system outage.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/06/failing-dependency-box-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Bulkheading around all of this - transport layer, network clients and client code - permits reliable protection against changing behavior, misconfigurations, transitive dependencies performing unexpected network activity, response handling failures and overall latency regardless of where it comes from.&lt;/p&gt;

&lt;p&gt;Applying bulkheads at the functional level also enables addition of business logic for &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/How-To-Use#wiki-Fallback&quot;&gt;fallback&lt;/a&gt; behavior to allow graceful degradation when failure occurs. Failure may come via network or client code exceptions, timeouts, short-circuiting, or concurrent request throttling.  All of them, however, can now be &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/How-it-Works#wiki-Flow&quot;&gt;handled&lt;/a&gt; with the same &amp;quot;failure handler&amp;quot; to provide fallback responses. Some functionality may not be able to gracefully degrade so will &amp;quot;fail fast&amp;quot; and shed load until recovery, but many others can return stale data, use secondary systems, use defaults or other such &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/How-To-Use#wiki-Common-Patterns&quot;&gt;patterns&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/Operations&quot;&gt;Operations and insight&lt;/a&gt; into what is going on is equally important to the actual isolation techniques. The key aspects of this are low latency metrics, low latency configuration changes and common insight into all service relationships regardless of how the network transport is being implemented.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/06/dashboard-annoted-circuit-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;A low-latency (~1 second) &lt;a href=&quot;https://github.com/Netflix/Turbine&quot;&gt;metrics stream&lt;/a&gt; is exposed to aggregate metrics from all application instances in a cluster. We use this stream for alerting and &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/Dashboard&quot;&gt;dashboards&lt;/a&gt; (as shown in a video clip below and the annotated image above) to provide visualizations of traffic, performance and health of all bulkheads on a system. Near real-time metrics have improved mean-time-to-detection (MTTD) and mean-time-to-recovery (MTTR) and increased operational effectiveness when doing deployments or dealing with production incidents. Configuration changes visually roll across a cluster of servers in seconds and the impact is seen immediately.&lt;/p&gt;

&lt;p&gt;[youtube http://www.youtube.com/watch?v=zWM7oAbVL4g&amp;amp;w=640&amp;amp;h=360]&lt;/p&gt;

&lt;p&gt;Auditing production is essential to maintaining a resilient system. &lt;a href=&quot;http://techblog.netflix.com/2011/07/netflix-simian-army.html&quot;&gt;Latency Monkey&lt;/a&gt; is used in production to inject latency into the system relationships of the service-oriented architecture. Latency can be far more damaging to a distributed system and is more difficult to address than &amp;quot;fast fail&amp;quot; of machines or code. While running latency simulations Hystrix real-time monitoring allows us to rapidly see the impact, determine if we are safe or need to end the test. Most times these simulations &amp;quot;light up&amp;quot; a Hystrix bulkhead on our dashboards to show they are doing their job to isolate the latency but sometimes we reveal a regression and quickly discover it, end the test and pursue a resolution which is validated in the next test run.&lt;/p&gt;

&lt;p&gt;Another form of auditing being applied is tracking all network traffic leaving the JVM and finding those not isolated behind a bulkhead. We use this like a &amp;quot;&lt;a href=&quot;https://github.com/Netflix/Hystrix/tree/master/hystrix-contrib/hystrix-network-auditor-agent&quot;&gt;canary in a coalmine&lt;/a&gt;&amp;quot; that permanently runs and takes a small percentage of production traffic to find network traffic that springs up without isolation. This can occur in the initial canary deployment with new code, or it may occur when unexpected code paths are enabled via transitive dependencies when AB tests are turned on or production configuration is changed and pushed out to a fleet of existing servers.&lt;/p&gt;

&lt;p&gt;Graceful degradation is not purely a server-side consideration and our device and UI teams play an equally important role in making the user experience robust and capable of degrading gracefully. For example, the server can use bulkheading to isolate failure and choose to &amp;quot;fail silently&amp;quot; on a portion of a request considered optional but UIs must behave correctly or we may cause the client to fail as it tries to render data not present in a response. Fault injection via Hystrix &lt;a href=&quot;http://netflix.github.io/Hystrix/javadoc/com/netflix/hystrix/strategy/executionhook/HystrixCommandExecutionHook.html&quot;&gt;execution hooks&lt;/a&gt; enables device teams to target specific UIs, devices and accounts to test failure, latency and fallback scenarios and determine whether the client code responds as it should. &lt;/p&gt;

&lt;p&gt;Engineering resilience into an application is critical to achieving fault and latency tolerance. Operational considerations and support by client applications are equally important. These principles can be applied in many different ways and approaches will differ by language, technology stack and personal preference but hopefully our experiences, and perhaps even our &lt;a href=&quot;http://netflix.github.io&quot;&gt;open source software&lt;/a&gt;, can inspire improved resilience in your systems.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/06/hystrix-logo-tagline-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hystrix in May 2013 ThoughtWorks Tech Radar</title>
   <link href="http://benjchristensen.com/architecture/code/resilience%20engineering/tools/2013/05/24/hystrix-in-may-2013-thoughtworks-tech-radar/"/>
   <updated>2013-05-24T12:34:11-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/resilience%20engineering/tools/2013/05/24/hystrix-in-may-2013-thoughtworks-tech-radar</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/Netflix/Hystrix&quot;&gt;Hystrix&lt;/a&gt; was listed in the &lt;a href=&quot;http://thoughtworks.fileburst.com/assets/technology-radar-may-2013.pdf&quot;&gt;May 2013 Tech Radar&lt;/a&gt; by ThoughtWorks as &amp;quot;Assess&amp;quot; under the Tools section.&lt;/p&gt;

&lt;blockquote&gt;Managing dependencies in distributed systems can become 
complicated, and is a problem more people are facing with the 
move to finer-grained micro services. Hystrix is a library for 
the JVM from Netflix that implements patterns for dealing with 
downstream failure, offers real-time monitoring of connections, 
and caching and batching mechanisms to make inter-service 
dependencies more efficient.&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/hystrix-logo-tagline-github-link-640.png?width=640&amp;amp;height=181&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Functional Reactive Programming in the Netflix API - QCon London 2013</title>
   <link href="http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/2013/05/01/functional-reactive-programming-in-the-netflix-api-qcon-london-2013/"/>
   <updated>2013-05-01T21:26:52-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/2013/05/01/functional-reactive-programming-in-the-netflix-api-qcon-london-2013</id>
   <content type="html">&lt;p&gt;I had the opportunity to speak at QCon London 2013 and present &lt;a href=&quot;http://qconlondon.com/london-2013/speaker/Ben+Christensen&quot;&gt;Functional Reactive Programming in the Netflix API&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://speakerdeck.com/benjchristensen/functional-reactive-programming-in-the-netflix-api-qcon-london-2013&quot;&gt;Slides on Speakerdeck&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.infoq.com/presentations/netflix-functional-rx&quot;&gt;Video on InfoQ&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.infoq.com/interviews/christensen-hystrix-rxjava&quot;&gt;Interview on InfoQ on Resilience at Netflix with Hystrix, Reactive Programming for the JVM with RxJava&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Functional Reactive in the Netflix API with RxJava</title>
   <link href="http://benjchristensen.com/architecture/code/performance/production/2013/05/01/functional-reactive-in-the-netflix-api-with-rxjava/"/>
   <updated>2013-05-01T21:08:24-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/performance/production/2013/05/01/functional-reactive-in-the-netflix-api-with-rxjava</id>
   <content type="html">&lt;p&gt;Originally written for and posted on the &lt;a href=&quot;http://techblog.netflix.com/2013/02/rxjava-netflix-api.html&quot;&gt;Netflix Tech Blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;by &lt;a href=&quot;https://twitter.com/benjchristensen/&quot;&gt;Ben Christensen&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/jhusain&quot;&gt;Jafar Husain&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Our recent post on &lt;a href=&quot;http://techblog.netflix.com/2013/01/optimizing-netflix-api.html&quot;&gt;optimizing the Netflix API&lt;/a&gt;  introduced how our web service endpoints are implemented using a &amp;quot;functional reactive programming&amp;quot; (FRP) model for composition of asynchronous callbacks from our service layer. &lt;/p&gt;

&lt;p&gt;This post takes a closer look at how and why we use the FRP model and introduces our open source project RxJava – a Java implementation of &lt;a href=&quot;https://rx.codeplex.com&quot;&gt;Rx (Reactive Extensions)&lt;/a&gt;.&lt;/p&gt;

&lt;h2&gt;Embrace Concurrency&lt;/h2&gt;

&lt;p&gt;Server-side concurrency is needed to effectively reduce network chattiness. Without concurrent execution on the server, a single &amp;quot;heavy&amp;quot; client request might not be much better than many &amp;quot;light&amp;quot; requests because each network request from a device naturally executes in parallel with other network requests.  If the server-side execution of a collapsed &amp;quot;heavy&amp;quot; request does not achieve a similar level of parallel execution it may be slower than the multiple &amp;quot;light&amp;quot; requests even accounting for saved network latency.&lt;/p&gt;

&lt;h2&gt;Futures are Expensive to Compose&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html&quot;&gt;Futures&lt;/a&gt; are straight-forward to use for a &lt;a href=&quot;https://gist.github.com/4670979&quot;&gt;single level&lt;/a&gt; of asynchronous execution but they start to add non-trivial complexity when they&amp;#39;re &lt;a href=&quot;https://gist.github.com/4671081&quot;&gt;nested&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Conditional asynchronous execution flows become &lt;a href=&quot;https://gist.github.com/4671081#file-futuresb-java-L163&quot;&gt;difficult&lt;/a&gt; to optimally compose (particularly as latencies of each request vary at runtime) using Futures. It &lt;a href=&quot;http://www.amazon.com/gp/product/0321349601?ie=UTF8&amp;amp;tag=none0b69&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=0321349601&quot;&gt;can be done&lt;/a&gt; of course, but it quickly becomes complicated (and thus error prone) or prematurely blocks on &amp;#39;Future.get()&amp;#39;, eliminating the benefit of asynchronous execution.&lt;/p&gt;

&lt;h2&gt;Callbacks Have Their Own Problems&lt;/h2&gt;

&lt;p&gt;Callbacks offer a solution to the tendency to block on Future.get() by not allowing anything to block. They are naturally efficient because they execute when the response is ready.&lt;/p&gt;

&lt;p&gt;Similar to Futures though, they are easy to use with a single level of asynchronous execution but become &lt;a href=&quot;https://gist.github.com/4677544&quot;&gt;unwieldy&lt;/a&gt; with nested composition.&lt;/p&gt;

&lt;h2&gt;Reactive&lt;/h2&gt;

&lt;p&gt;Functional reactive offers efficient execution and composition by providing a collection of operators capable of filtering, selecting, transforming, combining and composing Observable&amp;#39;s.&lt;/p&gt;

&lt;p&gt;The Observable data type can be thought of as a &amp;quot;push&amp;quot; equivalent to &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html&quot;&gt;Iterable&lt;/a&gt; which is &amp;quot;pull&amp;quot;. With an Iterable, the consumer pulls values from the producer and the thread blocks until those values arrive. By contrast with the Observable type, the producer pushes values to the consumer whenever values are available.  This approach is more flexible, because values can arrive synchronously or asynchronously.&lt;/p&gt;

&lt;p&gt;The Observable type adds two missing semantics to the Gang of Four&amp;#39;s &lt;a href=&quot;http://en.wikipedia.org/wiki/Observer_pattern&quot;&gt;Observer&lt;/a&gt; pattern, which are available in the Iterable type:  &lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The ability for the producer to signal to the consumer that there is no more data available.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The ability for the producer to signal to the consumer that an error has occurred.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;With these two simple additions, we have unified the Iterable and Observable types. The only difference between them is the direction in which the data flows. This is very important because now any operation we perform on an Iterable, can also be performed on an Observable. Let&amp;#39;s take a look at an example ...&lt;/p&gt;

&lt;p&gt;[gist https://gist.github.com/4676544 /]&lt;/p&gt;

&lt;h2&gt;Observable Service Layer&lt;/h2&gt;

&lt;p&gt;The Netflix API takes advantage of Rx by making the entire service layer asynchronous (or at least appear so) - all &amp;quot;service&amp;quot; methods return an Observable&lt;T&gt;.&lt;/p&gt;

&lt;p&gt;Making all return types Observable combined with a functional programming model frees up the service layer implementation to safely use concurrency. It also enables the service layer implementation to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;conditionally return immediately from a cache&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;block instead of using threads if resources are constrained&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;use multiple threads&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;use non-blocking IO&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;migrate an underlying implementation from network based to in-memory cache&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This can all happen without ever changing how client code interacts with or composes responses.&lt;/p&gt;

&lt;p&gt;In short, client code treats all interactions with the API as asynchronous but the implementation chooses if something is blocking or non-blocking.&lt;/p&gt;

&lt;p&gt;This next example code demonstrates how a service layer method can choose whether to synchronously return data from an in-memory cache or asynchronously retrieve data from a remote service and callback with the data once retrieved. In both cases the client code consumes it the same way.&lt;/p&gt;

&lt;p&gt;[gist https://gist.github.com/4675568 /]&lt;/p&gt;

&lt;p&gt;Retaining this level of control in the service layer is a major architectural advantage particularly for maintaining and optimizing functionality over time. Many different endpoint implementations can be coded against an Observable API and they work efficiently and correctly with the current thread or one or more worker threads backing their execution.&lt;/p&gt;

&lt;p&gt;The following code demonstrates the consumption of an Observable API with a common Netflix use case – a grid of movies:&lt;/p&gt;

&lt;p&gt;[gist https://gist.github.com/4679253 /]&lt;/p&gt;

&lt;p&gt;That code is declarative and &lt;a href=&quot;http://en.wikipedia.org/wiki/Lazy_evaluation&quot;&gt;lazy&lt;/a&gt; as well as functionally &amp;quot;pure&amp;quot; in that no mutation of state is occurring that would cause thread-safety issues.&lt;/p&gt;

&lt;p&gt;The API Service Layer is now free to change the behavior of the methods &amp;#39;getListOfLists&amp;#39;, &amp;#39;getVideos&amp;#39;, &amp;#39;getMetadata&amp;#39;, &amp;#39;getBookmark&amp;#39; and &amp;#39;getRating&amp;#39; – some blocking others non-blocking but all consumed the same way.&lt;/p&gt;

&lt;p&gt;In the example, &amp;#39;getListOfLists&amp;#39; pushes each &amp;#39;VideoList&amp;#39; object via &amp;#39;onNext()&amp;#39; and then &amp;#39;getVideos()&amp;#39; operates on that same parent thread. The implementation of that method could however change from blocking to non-blocking and the code would not need to change.&lt;/p&gt;

&lt;h2&gt;RxJava&lt;/h2&gt;

&lt;p&gt;RxJava is our implementation of Rx for the JVM and is available in the &lt;a href=&quot;https://github.com/Netflix/RxJava&quot;&gt;Netflix repository in Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is not yet feature complete with the .Net version of Rx, but what is implemented has been in use for the past year in production within the Netflix API. &lt;/p&gt;

&lt;p&gt;We are open sourcing the code as version 0.5 as a way to acknowledgement that it&amp;#39;s not yet feature complete. The outstanding work is logged in the &lt;a href=&quot;https://github.com/Netflix/RxJava/issues?milestone=1&amp;amp;state=open&quot;&gt;RxJava Issues&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Documentation is available on the &lt;a href=&quot;https://github.com/Netflix/RxJava/wiki&quot;&gt;RxJava Wiki&lt;/a&gt; including links to material available on the internet.&lt;/p&gt;

&lt;p&gt;Some of the goals of RxJava are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stay close to the original Rx.Net implementation while adjusting naming conventions and idioms to Java&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All contracts of Rx should be the same&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Target the JVM not a language. The first languages supported (beyond Java itself) are &lt;a href=&quot;https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-groovy&quot;&gt;Groovy&lt;/a&gt;, &lt;a href=&quot;https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-clojure&quot;&gt;Clojure&lt;/a&gt;, &lt;a href=&quot;https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-scala&quot;&gt;Scala&lt;/a&gt; and &lt;a href=&quot;https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-jruby&quot;&gt;JRuby&lt;/a&gt;. New language adapters can be &lt;a href=&quot;https://github.com/Netflix/RxJava/wiki/How-to-Contribute&quot;&gt;contributed&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Support Java 5 (to include Android support) and higher with an eventual goal to target a build for Java 8 with its lambda support.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is an implementation of one of the examples above but using Clojure instead of Groovy:&lt;/p&gt;

&lt;p&gt;[gist https://gist.github.com/4676533 /]&lt;/p&gt;

&lt;h1&gt;Summary&lt;/h1&gt;

&lt;p&gt;Functional reactive programming with RxJava has enabled Netflix developers to leverage server-side conconcurrency without the typical thread-safety and synchronization concerns. The API service layer implementation has control over concurrency primitives, which enables us to pursue system performance improvements without fear of breaking client code.&lt;/p&gt;

&lt;p&gt;RxJava is effective on the server for us and it spreads deeper into our code the more we use it.&lt;/p&gt;

&lt;p&gt;We hope you find the RxJava project as useful as we have and look forward to your contributions.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Optimizing the Netflix API</title>
   <link href="http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/2013/04/30/optimizing-the-netflix-api/"/>
   <updated>2013-04-30T21:05:36-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/2013/04/30/optimizing-the-netflix-api</id>
   <content type="html">&lt;p&gt;Originally written for and posted on the &lt;a href=&quot;http://techblog.netflix.com/2013/01/optimizing-netflix-api.html&quot;&gt;Netflix Tech Blog&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;About a year ago the Netflix API team began redesigning the API to improve performance and enable UI engineering teams within Netflix to optimize client applications for specific devices.  Philosophies of the redesign were introduced in a previous post about &lt;a href=&quot;http://techblog.netflix.com/2012/07/embracing-differences-inside-netflix.html&quot;&gt;embracing the differences&lt;/a&gt; between the different clients and devices.&lt;/p&gt;

&lt;p&gt;This post is part one of a series on the architecture of our redesigned API.&lt;/p&gt;

&lt;h1&gt;Goals&lt;/h1&gt;

&lt;p&gt;We had multiple goals in creating this system, as follows:&lt;/p&gt;

&lt;p&gt;Reduce Chattiness&lt;/p&gt;

&lt;p&gt;One of the key drivers in pursuing the &lt;a href=&quot;http://techblog.netflix.com/2011/02/redesigning-netflix-api.html&quot;&gt;redesign&lt;/a&gt; in the first place was to reduce the chatty nature of our client/server communication, which could be hindering the overall performance of our device implementations.&lt;/p&gt;

&lt;p&gt;Due to the generic and granular nature of the original REST-based Netflix API, each call returns only a portion of functionality for a given user experience, requiring client applications to make multiple calls that need to be assembled in order to render a single user experience.  This interaction model is illustrated in the following diagram:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/05/90083-request-multi_1252.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;To reduce the chattiness inherent in the REST API, the discrete requests in the diagram above should be collapsed into a single request optimized for a given client.  The benefit is that the device then pays the price of WAN latency once and leverages the low latency and more powerful hardware server-side. As a side effect, this also eliminates redundancies that occur for every incoming request.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/05/7d4c6-request-single_1252.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;A single optimized request such as this must embrace server-side parallelism to at least the same level as previously achieved through multiple network requests from the client.  Because the server-side parallelized requests are running in the same network, each one should be more performant than if it was executed from the device.  This must be achieved without each engineer implementing an endpoint needing to become an expert in low-level threading, synchronization, thread-safety, concurrent data structures, non-blocking IO and other such concerns.&lt;/p&gt;

&lt;p&gt;Distribute API Development&lt;/p&gt;

&lt;p&gt;A single team should not become a bottleneck nor need to have expertise on every client application to create optimized endpoints.  Rapid innovation through fast, decoupled development cycles across a wide variety of device types and distributed ownership and expertise across teams should be enabled.  Each client application team should be capable of implementing and operating their own endpoints and the corresponding requests/responses.&lt;/p&gt;

&lt;p&gt;Mitigate Deployment Risks&lt;/p&gt;

&lt;p&gt;The Netflix API is a Java application running on hundreds of servers processing 2+ billion incoming requests a day for millions of customers around the world.  The system must mitigate risks inherent in enabling rapid and frequent deployment by multiple teams with minimal coordination.&lt;/p&gt;

&lt;p&gt;Support Multiple Languages&lt;/p&gt;

&lt;p&gt;Engineers implementing endpoints come from a wide variety of backgrounds with expertise including Javascript, Objective-C, Java, C, C#, Ruby, Python and others.  The system should be able to support multiple languages at the same time.&lt;/p&gt;

&lt;p&gt;Distribute Operations&lt;/p&gt;

&lt;p&gt;Each client team will now manage the deployment lifecycle of their own web service endpoints.  Operational tools for monitoring, debugging, testing, canarying and rolling out code must be exposed to a distributed set of teams so teams can operate independently.&lt;/p&gt;

&lt;h1&gt;Architecture&lt;/h1&gt;

&lt;p&gt;To achieve the goals above our architecture distilled into a few key points:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;dynamic polyglot runtime&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;fully asynchronous service layer&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;functional reactive programming model&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following diagram and subsequent annotations explain the architecture:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/05/72a7d-architecture-overview_1252.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;[1] Dynamic Endpoints&lt;/p&gt;

&lt;p&gt;All new web service endpoints are now dynamically defined at runtime. New endpoints can be developed, tested, canaried and deployed by each client team without coordination (unless they depend on new functionality from the underlying API Service Layer shown at item 5 in which case they would need to wait until after those changes are deployed before pushing their endpoint).&lt;/p&gt;

&lt;p&gt;[2] Endpoint Code Repository and Management&lt;/p&gt;

&lt;p&gt;Endpoint code is published to a Cassandra multi-region cluster (globally replicated) via a RESTful Endpoint Management API used by client teams to manage their endpoints.&lt;/p&gt;

&lt;p&gt;[3] Dynamic Polyglot JVM Language Runtime&lt;/p&gt;

&lt;p&gt;Any JVM language can be supported so each team can use the language best suited to them.&lt;/p&gt;

&lt;p&gt;The Groovy JVM language was chosen as our first supported language. The existence of first-class functions (closures), list/dictionary syntax, performance and debuggability were all aspects of our decision.  Moreover, Groovy provides syntax comfortable to a wide range of developers, which helps to reduce the learning curve for the first language on the platform.&lt;/p&gt;

&lt;p&gt;[4 &amp;amp; 5] Asynchronous Java API + Functional Reactive Programming Model&lt;/p&gt;

&lt;p&gt;Embracing concurrency was a key requirement to achieve performance gains but abstracting away thread-safety and parallel execution implementation details from the client developers was equally important in reducing complexity and speeding up their rate of innovation.  Making the Java API fully asynchronous was the first step as it allows the underlying method implementations to control whether something is executed concurrently or not without the client code changing.  We chose a functional reactive approach to handling composition and conditional flows of asynchronous callbacks. Our implementation is modeled after &lt;a href=&quot;https://rx.codeplex.com/&quot;&gt;Rx Observables&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;[6] Hystrix Fault Tolerance&lt;/p&gt;

&lt;p&gt;As we have described in a &lt;a href=&quot;http://techblog.netflix.com/2012/02/fault-tolerance-in-high-volume.html&quot;&gt;previous post&lt;/a&gt;, all service calls to backend systems are made via the Hystrix fault tolerance layer (which was &lt;a href=&quot;http://techblog.netflix.com/2012/11/hystrix.html&quot;&gt;recently open sourced&lt;/a&gt;, along with its &lt;a href=&quot;http://techblog.netflix.com/2012/12/hystrix-dashboard-and-turbine.html&quot;&gt;dashboard&lt;/a&gt;) that isolates the dynamic endpoints and the API Service Layer from the inevitable failures that occur while executing billions of network calls each day from the API to backend systems.&lt;/p&gt;

&lt;p&gt;The Hystrix layer is inherently mutlti-threaded due to its use of threads for isolating dependencies and thus is leveraged for concurrent execution of blocking calls to backend systems. These asynchronous requests are then composed together via the functional reactive framework.&lt;/p&gt;

&lt;p&gt;[7] Backend Services and Dependencies&lt;/p&gt;

&lt;p&gt;The API Service Layer abstracts away all backend services and dependencies behind facades.  As a result, endpoint code accesses “functionality” rather than a “system”.  This allows us to change underlying implementations and architecture with no or limited impact on the code that depends on the API.  For example, if a backend system is split into 2 different services, or 3 are combined into one, or a remote network call is optimized into an in-memory cache, none of these changes should affect endpoint code and thus the API Service Layer ensures that object models and other such tight-couplings are abstracted and not allowed to “leak” into the endpoint code.&lt;/p&gt;

&lt;p&gt;Summary&lt;/p&gt;

&lt;p&gt;The new Netflix API architecture is a significant departure from our previous generic RESTful API. &lt;/p&gt;

&lt;p&gt;Dynamic JVM languages combined with an asynchronous Java API and the functional reactive programming model have proven to be a powerful combination to enable safe and efficient development of highly concurrent code.&lt;/p&gt;

&lt;p&gt;The end result is a fault-tolerant, performant platform that puts control in the hands of those who know their target applications the best.&lt;/p&gt;

&lt;p&gt;Following posts will provide further implementation and operational details about this new architecture.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hystrix Dashboard + Turbine Stream Aggregator</title>
   <link href="http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/tools/2013/01/15/hystrix-dashboard-turbine-stream-aggregator/"/>
   <updated>2013-01-15T12:49:51-08:00</updated>
   <id>http://benjchristensen.com/architecture/code/infrastructure/performance/production/resilience%20engineering/tools/2013/01/15/hystrix-dashboard-turbine-stream-aggregator</id>
   <content type="html">&lt;p&gt;Originally posted to the &lt;a href=&quot;http://techblog.netflix.com/2012/12/hystrix-dashboard-and-turbine.html&quot;&gt;Netflix Tech Blog&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;by Ben Christensen, Puneet Oberai and Ben Schmaus&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://techblog.netflix.com/2012/11/hystrix.html&quot;&gt;Two weeks ago&lt;/a&gt; we introduced &lt;a href=&quot;https://github.com/Netflix/Hystrix&quot;&gt;Hystrix&lt;/a&gt;, a library for engineering resilience into distributed systems. Today we&amp;#39;re open sourcing the Hystrix dashboard application, as well as a new companion project called Turbine that provides low latency event stream aggregation.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Netflix/Hystrix&quot;&gt;
&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/hystrix-logo-tagline-github-link-640.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The Hystrix dashboard has significantly improved our operations by reducing discovery and recovery times during operational events. The duration of most production incidents (already less frequent due to Hystrix) is far shorter, with diminished impact, because we are now able to get realtime insights (1-2 second latency) into system behavior.  &lt;/p&gt;

&lt;p&gt;The following snapshot shows six HystrixCommands being used by the Netflix API.  Under the hood of this example dashboard, Turbine is aggregating data from 581 servers into a single stream of metrics supporting the dashboard application, which in turn streams the aggregated data to the browser for display in the UI.  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/hystrix-dashboard-netflix-api-example-620.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;When a circuit is failing then it changes colors (gradient from green through yellow, orange and red) such as this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/dashboard-example-open-circuit-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;The diagram below shows one &amp;quot;circuit&amp;quot; from the dashboard along with explanations of what all of the data represents.  &lt;/p&gt;

&lt;p&gt;We&amp;#39;ve purposefully tried to pack a lot of information into the dashboard so that engineers can quickly consume and correlate data.  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/dashboard-annoted-circuit-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;The following video shows the dashboard operating with data from a Netflix API cluster:  &lt;/p&gt;

&lt;p&gt;[youtube http://www.youtube.com/watch?v=zWM7oAbVL4g?vq=hd720&amp;amp;w=640&amp;amp;h=360]&lt;/p&gt;

&lt;p&gt;The Turbine deployment at Netflix connects to thousands of Hystrix-enabled servers and aggregates realtime streams from them. Netflix uses Turbine with a &lt;a href=&quot;https://github.com/Netflix/eureka&quot;&gt;Eureka&lt;/a&gt; plugin that handles instances joining and leaving clusters (due to autoscaling, red/black deployments, or just being unhealthy).  &lt;/p&gt;

&lt;p&gt;Our alerting systems have also started migrating to Turbine-powered metrics streams so that in one minute of data there are dozens or hundreds of points of data for a single metric. This high resolution of metrics data makes for better and faster alerting.  &lt;/p&gt;

&lt;p&gt;The Hystrix dashboard can be used either to monitor an individual instance without Turbine or in conjunction with Turbine to monitor multi-machine clusters:  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2013/01/dashboard-direct-vs-turbine-640.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Turbine can be found on Github at: &lt;a href=&quot;https://github.com/Netflix/Turbine&quot;&gt;https://github.com/Netflix/Turbine&lt;/a&gt;  &lt;/p&gt;

&lt;p&gt;Dashboard documentation is at: &lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/Dashboard&quot;&gt;https://github.com/Netflix/Hystrix/wiki/Dashboard&lt;/a&gt;  &lt;/p&gt;

&lt;p&gt;We expect people to want to customize the UI so the javascript modules have been implemented in a way that they can easily be used standalone in existing dashboards and applications. We also expect different perspectives on how to visualize and represent data and look forward to contributions back to both Hystrix and Turbine.  &lt;/p&gt;

&lt;p&gt;We are always looking for talented engineers so if you&amp;#39;re interested in this type of work contact us via &lt;a href=&quot;http://jobs.netflix.com/jobs.html&quot;&gt;jobs.netflix.com&lt;/a&gt;.  &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hystrix for Resilience Engineering</title>
   <link href="http://benjchristensen.com/architecture/code/production/production%20problems/resilience%20engineering/2012/11/26/hystrix-for-resilience-engineering/"/>
   <updated>2012-11-26T20:33:56-08:00</updated>
   <id>http://benjchristensen.com/architecture/code/production/production%20problems/resilience%20engineering/2012/11/26/hystrix-for-resilience-engineering</id>
   <content type="html">&lt;p&gt;Today Hystrix was released on GitHub at &lt;a href=&quot;http://github.com/Netflix/Hystrix&quot;&gt;http://github.com/Netflix/Hystrix&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is a latency and fault tolerance library used for resilience engineering and something I have spent a good chunk of time on at Netflix. I&amp;#39;m happy to see it get released as open-source and be able to continue evolving it (hopefully with community involvement).&lt;/p&gt;

&lt;p&gt;As written originally for the &lt;a href=&quot;http://techblog.netflix.com/2012/11/hystrix.html&quot;&gt;Netflix Tech Blog&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;In a distributed environment, failure of any given service is inevitable. Hystrix is a library designed to control the interactions between these distributed services providing greater tolerance of latency and failure. Hystrix does this by isolating points of access between the services, stopping cascading failures across them, and providing fallback options, all of which improve the system&#39;s overall resiliency.

Hystrix evolved out of resilience engineering work that the Netflix API team began in 2011. Over the course of 2012, Hystrix continued to evolve and mature, eventually leading to adoption across many teams within Netflix. Today tens of billions of thread-isolated and hundreds of billions of semaphore-isolated calls are executed via Hystrix every day at Netflix and a dramatic improvement in uptime and resilience has been achieved through its use.&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/11/hystrix-logo-tagline-vertical.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Performance and Fault Tolerance for the Netflix API - QCon Sao Paulo</title>
   <link href="http://benjchristensen.com/architecture/code/performance/production/2012/08/12/performance-and-fault-tolerance-for-the-netflix-api-qcon-sao-paulo/"/>
   <updated>2012-08-12T15:24:02-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/performance/production/2012/08/12/performance-and-fault-tolerance-for-the-netflix-api-qcon-sao-paulo</id>
   <content type="html">&lt;p&gt;A presentation I gave at QCon Sao Paulo on August 4th 2012 (http://qconsp.com/palestrante/ben-christensen)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Presentation Description&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The Netflix API receives over a billion requests a day which translates into multiple billions of calls to underlying systems in the Netflix service-oriented architecture. These requests come from more than 800 different devices ranging from gaming consoles like the PS3, XBox and Wii to set-top boxes, TVs and mobile devices such as Android and iOS.&lt;/p&gt;

&lt;p&gt;This presentation describes how the Netflix API supports those devices and achieves fault tolerance in a distributed architecture while depending on dozens of systems which can fail at any time. It also explains how a new system design allows each device to optimize API calls to their unique needs and leverage concurrency on the server-side to improve their performance.&lt;/p&gt;

&lt;p&gt;(Some slides have been modified and notes included for readability and understanding of content without accompanying speech.)&lt;/p&gt;

&lt;p&gt;[slideshare id=13927636&amp;amp;doc=faulttolerancepresentation-qcon-sao-paulo-august2012-120809145821-phpapp02]&lt;/p&gt;

&lt;p&gt;Slides also available at &lt;a href=&quot;https://speakerdeck.com/u/benjchristensen/p/performance-and-fault-tolerance-for-the-netflix-api-qcon-sao-paulo&quot;&gt;SpeakerDeck&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/08/azdpfe3cyaacgwb.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/08/azdmroxcyaey4hz.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://maps.google.com/maps?q=%22Federacao+Comercio+Estado+Sao+Paulo%22,+S%C3%A3o+Paulo,+Brazil&amp;amp;hl=en&amp;amp;ie=UTF8&amp;amp;ll=-23.557654,-46.652498&amp;amp;spn=0.030999,0.065103&amp;amp;sll=-23.558425,-46.653431&amp;amp;sspn=0.041384,0.07699&amp;amp;hq=%22Federacao+Comercio+Estado+Sao+Paulo%22,&amp;amp;hnear=Sao+Paulo+-+S%C3%A3o+Paulo,+Brazil&amp;amp;t=m&amp;amp;z=15&amp;amp;layer=c&amp;amp;cbll=-23.557616,-46.652401&amp;amp;panoid=FGfV2pbo0UZi3fgLfQOSgQ&amp;amp;cbp=12,145.88,,0,-4.96&quot;&gt;Conference center on Google Maps&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Interactive Line Graph using d3.js</title>
   <link href="http://benjchristensen.com/code/user%20interface/2012/05/15/interactive-line-graph-using-d3-js/"/>
   <updated>2012-05-15T15:57:46-07:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2012/05/15/interactive-line-graph-using-d3-js</id>
   <content type="html">&lt;p&gt;Continuing with the series of examples I&amp;#39;ve provided while using d3.js, this one is a javascript object which renders data as a line graph which can then be interacted with by scrubbing over it or changing the y-axis scale.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/2657838&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/05/interactive-line-graph.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Click on the image or the &lt;a href=&quot;http://bl.ocks.org/2657838&quot;&gt;bl.ocks.org&lt;/a&gt; link to see it in action.&lt;/p&gt;

&lt;p&gt;Code: &lt;a href=&quot;https://gist.github.com/2657838&quot;&gt;https://gist.github.com/2657838&lt;/a&gt; &lt;a href=&quot;http://bl.ocks.org/2657838&quot;&gt;http://bl.ocks.org/2657838&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Line Graphs Using d3.js</title>
   <link href="http://benjchristensen.com/code/user%20interface/2012/05/02/line-graphs-using-d3-js/"/>
   <updated>2012-05-02T13:04:33-07:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2012/05/02/line-graphs-using-d3-js</id>
   <content type="html">&lt;p&gt;Simple examples of line graphs implemented using d3.js:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/2579599&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/05/line-graph-single-axis.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Simple Line Graph &lt;a href=&quot;http://bl.ocks.org/2579599&quot;&gt;http://bl.ocks.org/2579599&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/2579599&quot;&gt;https://gist.github.com/2579599&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;//bl.ocks.org/2579619&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/05/line-graph-dual-axes.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Line Graph with Dual-scaled Axes &lt;a href=&quot;http://bl.ocks.org/2579619&quot;&gt;http://bl.ocks.org/2579619&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/2579619&quot;&gt;https://gist.github.com/2579619&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/2580640&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/05/line-graph-over-time.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Line graph over time with multiple data points &lt;a href=&quot;http://bl.ocks.org/2580640&quot;&gt;http://bl.ocks.org/2580640&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/2580640&quot;&gt;https://gist.github.com/2580640&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;UPDATE: I added an &lt;a href=&quot;http://benjchristensen.com/2012/05/15/interactive-line-graph-using-d3-js/&quot;&gt;interactive version&lt;/a&gt; with scrubbing and dynamic updating.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fault Tolerance in a High Volume, Distributed System</title>
   <link href="http://benjchristensen.com/architecture/code/infrastructure/performance/production/production%20problems/2012/03/01/fault-tolerance-in-a-high-volume-distributed-system/"/>
   <updated>2012-03-01T10:45:49-08:00</updated>
   <id>http://benjchristensen.com/architecture/code/infrastructure/performance/production/production%20problems/2012/03/01/fault-tolerance-in-a-high-volume-distributed-system</id>
   <content type="html">&lt;p&gt;Originally posted on the &lt;a href=&quot;http://techblog.netflix.com/2012/02/fault-tolerance-in-high-volume.html&quot;&gt;Netflix Tech Blog&lt;/a&gt;:&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;In an &lt;a href=&quot;http://techblog.netflix.com/2011/12/making-netflix-api-more-resilient.html&quot;&gt;earlier post&lt;/a&gt; by &lt;a href=&quot;http://twitter.com/schmaus&quot;&gt;Ben Schmaus&lt;/a&gt;, we shared the principles behind our circuit-breaker implementation. In that post, Ben discusses how the Netflix API interacts with dozens of systems in our service-oriented architecture, which makes the API inherently more vulnerable to any system failures or latencies underneath it in the stack. The rest of this post provides a more technical deep-dive into how our API and other systems isolate failure, shed load and remain resilient to failures.&lt;/p&gt;

&lt;p&gt;Fault Tolerance is a Requirement, Not a Feature&lt;/p&gt;

&lt;p&gt;The Netflix API receives more than 1 billion incoming calls per day which in turn fans out to several billion outgoing calls (averaging a ratio of 1:6) to dozens of underlying subsystems with peaks of over 100k dependency requests per second.
&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies1.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies1.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This all occurs in the cloud across thousands of EC2 instances.&lt;/p&gt;

&lt;p&gt;Intermittent failure is guaranteed with this many variables, even if every dependency itself has excellent availability and uptime.&lt;/p&gt;

&lt;p&gt;Without taking steps to ensure fault tolerance, 30 dependencies each with 99.99% uptime would result in 2+ hours downtime/month (99.99%30 = 99.7% uptime = 2+ hours in a month).&lt;/p&gt;

&lt;p&gt;When a single API dependency fails at high volume with increased latency (causing blocked request threads) it can rapidly (seconds or sub-second) saturate all available Tomcat (or other container such as Jetty) request threads and take down the entire API.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies3.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies3.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thus, it is a requirement of high volume, high availability applications to build fault tolerance into their architecture and not expect infrastructure to solve it for them.&lt;/p&gt;

&lt;p&gt;Netflix DependencyCommand Implementation&lt;/p&gt;

&lt;p&gt;The service-oriented architecture at Netflix allows each team freedom to choose the best transport protocols and formats (XML, JSON, Thrift, Protocol Buffers, etc) for their needs so these approaches may vary across services.&lt;/p&gt;

&lt;p&gt;In most cases the team providing a service also distributes a Java client library.&lt;/p&gt;

&lt;p&gt;Because of this, applications such as API in effect treat the underlying dependencies as 3rd party client libraries whose implementations are &amp;quot;black boxes&amp;quot;. This in turn affects how fault tolerance is achieved.&lt;/p&gt;

&lt;p&gt;In light of the above architectural considerations we chose to implement a solution that uses a combination of fault tolerance approaches:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;network timeouts and retries&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;separate threads on per-dependency thread pools&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;semaphores (via a &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#tryAcquire()&quot;&gt;tryAcquire&lt;/a&gt;, not a blocking call)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;circuit breakers&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of these approaches to fault-tolerance has pros and cons but when combined together provide a comprehensive protective barrier between user requests and underlying dependencies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/faulttolerancetypes.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/faulttolerancetypes.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The Netflix DependencyCommand implementation wraps a network-bound dependency call with a preference towards executing in a separate thread and defines fallback logic which gets executed (step 8 in flow chart below) for any failure or rejection (steps 3, 4, 5a, 6b below) regardless of which type of fault tolerance (network or thread timeout, thread pool or semaphore rejection, circuit breaker) triggered it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencycommands.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencycommands.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We decided that the benefits of isolating dependency calls into separate threads outweighs the drawbacks (in most cases). Also, since the API is progressively &lt;a href=&quot;http://techblog.netflix.com/2011/02/redesigning-netflix-api.html&quot;&gt;moving towards increased concurrency&lt;/a&gt; it was a win-win to achieve both fault tolerance and performance gains through concurrency with the same solution. In other words, the overhead of separate threads is being turned into a positive in many use cases by leveraging the concurrency to execute calls in parallel and speed up delivery of the Netflix experience to users.&lt;/p&gt;

&lt;p&gt;Thus, most dependency calls now route through a separate thread-pool as the following diagram illustrates:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies4.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies4.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If a dependency becomes latent (the worst-case type of failure for a subsystem) it can saturate all of the threads in its own thread pool, but Tomcat request threads will timeout or be rejected immediately rather than blocking.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies6.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/dependencies6.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition to the isolation benefits and concurrent execution of dependency calls we have also leveraged the separate threads to enable request collapsing (automatic batching) to increase overall efficiency and reduce user request latencies.&lt;/p&gt;

&lt;p&gt;Semaphores are used instead of threads for dependency executions known to not perform network calls (such as those only doing in-memory cache lookups) since the overhead of a separate thread is too high for these types of operations.&lt;/p&gt;

&lt;p&gt;We also use semaphores to protect against non-trusted fallbacks. Each DependencyCommand is able to define a fallback function (discussed more below) which is performed on the calling user thread and should not perform network calls. Instead of trusting that all implementations will correctly abide to this contract, it too is protected by a semaphore so that if an implementation is done that involves a network call and becomes latent, the fallback itself won&amp;#39;t be able to take down the entire app as it will be limited in how many threads it will be able to block.&lt;/p&gt;

&lt;p&gt;Despite the use of separate threads with timeouts, we continue to aggressively set timeouts and retries at the network level (through interaction with client library owners, monitoring, audits etc).&lt;/p&gt;

&lt;p&gt;The timeouts at the DependencyCommand threading level are the first line of defense regardless of how the underlying dependency client is configured or behaving but the network timeouts are still important otherwise highly latent network calls could fill the dependency thread-pool indefinitely.&lt;/p&gt;

&lt;p&gt;The tripping of circuits kicks in when a DependencyCommand has passed a certain threshold of error (such as 50% error rate in a 10 second period) and will then reject all requests until health checks succeed.&lt;/p&gt;

&lt;p&gt;This is used primarily to release the pressure on underlying systems (i.e. shed load) when they are having issues and reduce the user request latency by failing fast (or returning a fallback) when we know it is likely to fail instead of making every user request wait for the timeout to occur.&lt;/p&gt;

&lt;p&gt;How do we respond to a user request when failure occurs?&lt;/p&gt;

&lt;p&gt;In each of the options described above a timeout, thread-pool or semaphore rejection, or short-circuit will result in a request not retrieving the optimal response for our customers.&lt;/p&gt;

&lt;p&gt;An immediate failure (&amp;quot;fail fast&amp;quot;) throws an exception which causes the app to shed load until the dependency returns to health. This is preferable to requests &amp;quot;piling up&amp;quot; as it keeps Tomcat request threads available to serve requests from healthy dependencies and enables rapid recovery once failed dependencies recover.&lt;/p&gt;

&lt;p&gt;However, there are often several preferable options for providing responses in a &amp;quot;fallback mode&amp;quot; to reduce impact of failure on users. Regardless of what causes a failure and how it is intercepted (timeout, rejection, short-circuited etc) the request will always pass through the fallback logic (step 8 in flow chart above) before returning to the user to give a DependencyCommand the opportunity to do something other than &amp;quot;fail fast&amp;quot;.&lt;/p&gt;

&lt;p&gt;Some approaches to fallbacks we use are, in order of their impact on the user experience:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Cache: Retrieve data from local or remote caches if the realtime dependency is unavailable, even if the data ends up being stale&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eventual Consistency: Queue writes (such as in &lt;a href=&quot;http://aws.amazon.com/sqs/&quot;&gt;SQS&lt;/a&gt;) to be persisted once the dependency is available again&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stubbed Data: Revert to default values when personalized options can&amp;#39;t be retrieved&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empty Response (&amp;quot;Fail Silent&amp;quot;): Return a null or empty list which UIs can then ignore&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of this work is to maintain maximum uptime for our users while maintaining the maximum number of features for them to enjoy the richest Netflix experience possible. As a result, our goal is to have the fallbacks deliver responses as close to what the actual dependency would deliver.&lt;/p&gt;

&lt;p&gt;Example Use Case&lt;/p&gt;

&lt;p&gt;Following is an example of how threads, network timeouts and retries combine:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2012/03/faulttoleranceexampleconfig.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/03/faulttoleranceexampleconfig.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The above diagram shows an example configuration where the dependency has no reason to hit the 99.5th percentile and thus cuts it short at the network timeout layer and immediately retries with the expectation to get median latency most of the time, and accomplish this all within the 300ms thread timeout.&lt;/p&gt;

&lt;p&gt;If the dependency has legitimate reasons to sometimes hit the 99.5th percentile (i.e. cache miss with lazy generation) then the network timeout will be set higher than it, such as at 325ms with 0 or 1 retries and the thread timeout set higher (350ms+).&lt;/p&gt;

&lt;p&gt;The threadpool is sized at 10 to handle a burst of 99th percentile requests, but when everything is healthy this threadpool will typically only have 1 or 2 threads active at any given time to serve mostly 40ms median calls.&lt;/p&gt;

&lt;p&gt;When configured correctly a timeout at the DependencyCommand layer should be rare, but the protection is there in case something other than network latency affects the time, or the combination of connect+read+retry+connect+read in a worst case scenario still exceeds the configured overall timeout.&lt;/p&gt;

&lt;p&gt;The aggressiveness of configurations and tradeoffs in each direction are different for each dependency.&lt;/p&gt;

&lt;p&gt;Configurations can be changed in realtime as needed as performance characteristics change or when problems are found all without risking the taking down of the entire app if problems or misconfigurations occur.&lt;/p&gt;

&lt;p&gt;Conclusion&lt;/p&gt;

&lt;p&gt;The approaches discussed in this post have had a dramatic effect on our ability to tolerate and be resilient to system, infrastructure and application level failures without impacting (or limiting impact to) user experience.&lt;/p&gt;

&lt;p&gt;Despite the success of this new DependencyCommand resiliency system over the past 8 months, there is still a lot for us to do in improving our fault tolerance strategies and performance, especially as we continue to add functionality, devices, customers and international markets.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>WebService Performance on EC2 Instances</title>
   <link href="http://benjchristensen.com/infrastructure/performance/2012/01/05/webservice-performance-on-ec2-instances/"/>
   <updated>2012-01-05T19:24:50-08:00</updated>
   <id>http://benjchristensen.com/infrastructure/performance/2012/01/05/webservice-performance-on-ec2-instances</id>
   <content type="html">&lt;p&gt;As part of a cost/performance analysis of &lt;a href=&quot;http://aws.amazon.com/ec2/instance-types/&quot;&gt;Amazon EC2 instances&lt;/a&gt; I wrote a &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest&quot;&gt;very simple Java webapp&lt;/a&gt; to allow simple comparison benchmarking.&lt;/p&gt;

&lt;p&gt;The webapp runs in Tomcat and has a &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/blob/master/src/com/wsperformancetest/ComputationalSimulationService.java&quot;&gt;servlet&lt;/a&gt; which returns a JSON response after looping to generate the JSON to cause CPU computation time as if the service were doing real work. It results in a lot of iteration and string creation activity – things web services do a lot of.&lt;/p&gt;

&lt;p&gt;ApacheBenchmark (ab) was used as the test client to simulate traffic and capture statistics.&lt;/p&gt;

&lt;p&gt;The instance types tested were &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/blob/master/testResults/2012_January5_EC2_Testing/machine_information_ec2_m2.2xlarge.txt&quot;&gt;m2.2xlarge&lt;/a&gt;, &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/blob/master/testResults/2012_January5_EC2_Testing/machine_information_ec2_m2.4xlarge.txt&quot;&gt;m2.4xlarge&lt;/a&gt;, &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/blob/master/testResults/2012_January5_EC2_Testing/machine_information_ec2_cc1.4xlarge.txt&quot;&gt;cc1.4xlarge&lt;/a&gt;, and &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/blob/master/testResults/2012_January5_EC2_Testing/machine_information_ec2_cc2.8xlarge.txt&quot;&gt;cc2.8xlarge&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The tests determined that the cc2.8xlarge instance type – though the most expensive by unit – is potentially the most cost effective type to use when serving large volume traffic involving a cluster of servers.&lt;/p&gt;

&lt;p&gt;The cost to serve 1000 requests/second at a response time of approximately 18ms for each instance type is:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;m2.2xlarge: $1.98&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m2.4xlarge: $2.48&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cc1.4xlarge: $1.36&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;cc2.8xlarge: $1.19&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Of course, this test is very simplistic and ignores a wide variety of variables, but it demonstrates that the cc1 and cc2 boxes are well worth the time to evaluate for production application usage for achieving cost/performance efficiency.&lt;/p&gt;

&lt;p&gt;The following graphs show the test results that were used to calculate the above costs.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Results per Second with Increasing Concurrency&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This demonstrates how the 32 CPU cores on the cc2.8xlarge enable significantly higher throughput.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/01/requests_per_second_with_increasing_concurrency.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Time per Request (ms) with Increasing Concurrency&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This shows how the response time degrades with increasing thread counts and how the larger boxes (particularly the cc2) scale better.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/01/time_per_request_with_increasing_concurrency.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Spreadsheet&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This screenshot of the spreadsheet shows the cost calculations at each level of concurrency.&lt;/p&gt;

&lt;p&gt;The hi-lighted green is considered the optimal &amp;quot;ceiling&amp;quot; beyond which performance degrades and throughput plateaus. This point is considered the high-water-mark that can be used to determine the number of machines in a cluster needed to serve a given amount of traffic and thus allow comparison of different machines.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/01/ec2-performance-data.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Price per 1000 Requests per Second with Increasing Concurrency&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This scatter chart shows the cost to serve 1000 requests per second at increasing levels of concurrency on each instance type.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2012/01/price_with_increasing_concurrency.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Overall, the performance of the cc1 and cc2 boxes are impressive and their cost/performance appears to be far better than the m2 instances.&lt;/p&gt;

&lt;p&gt;The raw results of the tests can be found on &lt;a href=&quot;https://github.com/benjchristensen/WSPerformanceTest/tree/master/testResults/2012_January5_EC2_Testing&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dynamic Stacked Bar Chart Using d3.js</title>
   <link href="http://benjchristensen.com/code/user%20interface/2011/12/16/dynamic-stacked-bar-chart-using-d3-js/"/>
   <updated>2011-12-16T15:03:16-08:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2011/12/16/dynamic-stacked-bar-chart-using-d3-js</id>
   <content type="html">&lt;p&gt;A prototype of a stacked bar chart that can dynamically add/remove bars and update the data for each bar implemented using &lt;a href=&quot;http://mbostock.github.com/d3/&quot;&gt;d3.js&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It  represents data freshness (time since update) per bar using an opacity decay so a bar fades away if it doesn&amp;#39;t receive fresh data.&lt;/p&gt;

&lt;p&gt;The examples I &lt;a href=&quot;http://mbostock.github.com/d3/ex/population.html&quot;&gt;found&lt;/a&gt; &lt;a href=&quot;http://mbostock.github.com/d3/ex/stack.html&quot;&gt;elsewhere&lt;/a&gt; represent static data, so my model of implementation is different in that I don&amp;#39;t use data binding or d3.layout.stack() because I couldn&amp;#39;t figure out how to make those work with dynamic data (if someone can show me a better way, I&amp;#39;ll gladly accept the guidance). Thus, my implementation directly adds/removes the bars and determines the bar widths and x-position itself.&lt;/p&gt;

&lt;p&gt;The use case I intend to apply this prototype for is to visualize a stream of realtime data.&lt;/p&gt;

&lt;p&gt;Functionality not implemented in this prototype include things such as hover and click actions to show details of the data a bar represents.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/12/barchart.png?w=615&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Here are links to the code and working example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/1488375&quot;&gt;http://bl.ocks.org/1488375&lt;/a&gt;
&lt;a href=&quot;https://gist.github.com/1488375&quot;&gt; https://gist.github.com/1488375&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Animated Circle Using d3.js</title>
   <link href="http://benjchristensen.com/code/user%20interface/2011/12/13/animated-circle-using-d3-js/"/>
   <updated>2011-12-13T11:40:23-08:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2011/12/13/animated-circle-using-d3-js</id>
   <content type="html">&lt;p&gt;While working on visualizing data (application traffic) in realtime I used circles with size representing volume and color representing health.&lt;/p&gt;

&lt;p&gt;Here are basic examples of circles with varying sizes and colors and animating them to dynamically change that I used as building blocks.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/12/circles-screenshot.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Here are links to the code and working example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/1473535&quot;&gt;http://bl.ocks.org/1473535&lt;/a&gt;
&lt;a href=&quot;https://gist.github.com/1473535&quot;&gt;https://gist.github.com/1473535&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Making the Netflix API More Resilient</title>
   <link href="http://benjchristensen.com/code/production/2011/12/09/making-the-netflix-api-more-resilient/"/>
   <updated>2011-12-09T09:57:17-08:00</updated>
   <id>http://benjchristensen.com/code/production/2011/12/09/making-the-netflix-api-more-resilient</id>
   <content type="html">&lt;p&gt;A new &lt;a href=&quot;http://techblog.netflix.com/2011/12/making-netflix-api-more-resilient.html&quot;&gt;Netflix Tech Blog post&lt;/a&gt; by my manager (&lt;a href=&quot;https://twitter.com/#!/schmaus&quot;&gt;Ben Schmaus&lt;/a&gt;) discusses how we&amp;#39;ve been making the Netflix API more resilient through the use of circuit breakers, bounded thread-pools and realtime decision making:&lt;/p&gt;

&lt;blockquote&gt;Here are some of the key principles that informed our thinking as we set out to make the API more resilient.

&gt; 
&gt; 
    
&gt;   1. A failure in a service dependency should not break the user experience for members
&gt; 
    
&gt;   2. The API should automatically take corrective action when one of its service dependencies fails
&gt; 
    
&gt;   3. The API should be able to show us what’s happening right now, in addition to what was happening 15-30 minutes ago, yesterday, last week, etc.
&gt; 

&lt;/blockquote&gt;

&lt;p&gt;A video showing the realtime monitoring dashboard is on Vimeo:&lt;/p&gt;

&lt;p&gt;[vimeo http://vimeo.com/33359539]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>JUnit Tests as Inner Classes </title>
   <link href="http://benjchristensen.com/code/tools/2011/10/23/junit-tests-as-inner-classes/"/>
   <updated>2011-10-23T00:44:30-07:00</updated>
   <id>http://benjchristensen.com/code/tools/2011/10/23/junit-tests-as-inner-classes</id>
   <content type="html">&lt;p&gt;For several years on multiple Java projects I have written my unit tests as inner classes of the class they are testing. I have never liked or bought into the idea of putting unit tests in a separate class in a separate source folder. I am fine with and like having functional and/or system tests off in that separate ./test/ source folder – just not the unit tests.&lt;/p&gt;

&lt;p&gt;Following are my reasons why I find it so much more productive and beneficial to write the unit tests as inner classes.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note on terminology: I will use &amp;quot;concrete class&amp;quot; to represent the class that needs to be tested.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Low Friction&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/1198069&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/10/jsonutilityunittests.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unit testing should not feel like a burden, if it does many will likely not do it. Sure, developers often agree on the surface that writing unit tests is &amp;quot;the right thing to do&amp;quot;, but in practice most developers don&amp;#39;t do it. There are many reasons, but I believe one of them is that the friction for doing it is too high in most cases. Partly this is because unit tests off in another source folder have no context to the concrete class being worked on and rely upon human memory and tedious process to find, manage and keep in sync with the concrete class through the development cycle - especially when it&amp;#39;s someone other than the original developer of the class and tests.&lt;/p&gt;

&lt;p&gt;Putting the unit tests in an inner class greatly reduces the friction of writing and maintaining unit tests for the following reasons:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I only have to deal with a single class in my file/package/class navigator instead of two&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I don&amp;#39;t have to open and manage 2 editor windows/tabs for every class I want to edit (this is a big deal, especially when most developers have dozens of classes open at any given time)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When I use keyboard shortcuts to open that single class file, the unit tests are right there with them, I don&amp;#39;t have to do twice the work to open first the concrete file, then the second file&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I don&amp;#39;t have to try and maintain the naming convention of 2 separate files, especially through refactorings (more on this below)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I can immediately execute the unit tests for the class I&amp;#39;m viewing without going off and searching for another class&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All developers see the unit tests when they open the class, they don&amp;#39;t need to remember to go looking if there happens to be one (especially in code bases where most classes don&amp;#39;t have tests so they will almost certainly never bother to go looking after failing to find any the first several times).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Maintainability is improved because the non-original developers who open a class see the tests and are thereby reminded and encouraged to use and add to them as they edit the class&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In short, unit tests as inner classes are easy to find, run, work on and maintain. This in turn encourages adoption and maintenance of them.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Context&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Another benefit is that the unit tests as an inner class are very contextual to what they are testing. Many of the points of the previous section related to &amp;quot;low friction&amp;quot; are due to the context an inner class has with the concrete class. The tests are &amp;quot;in your face&amp;quot; and can&amp;#39;t be missed. They are obviously intended for testing the class currently being viewed and immediately prompt the developer to use them as part of their development process.&lt;/p&gt;

&lt;p&gt;This in turn enforces them being &amp;quot;unit tests&amp;quot; and not becoming system tests by developers starting to test multiple concrete classes from a single test class just because it&amp;#39;s easier to keep adding tests to an existing test class than to create a new test class for every concrete class. Tests in a separate source folder have a very loose relationship to the concrete class, thus it&amp;#39;s very easy for the context to be lost and have it start testing interaction between classes, rather than only unit testing the class it was originally intended to test.&lt;/p&gt;

&lt;p&gt;The mental model of unit tests in an inner class is very clear – these tests are for this class and only this class.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Encapsulation&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Unit testing should not result in the weakening of encapsulation. This easily starts to happen when the tests are in a separate class and trying to gain full access to a non-trivial concrete class to setup mocks and perform assertions.&lt;/p&gt;

&lt;p&gt;Methods and constructors start being made public or package accessible that should have remained private just so that hooks can be provided for the test class.&lt;/p&gt;

&lt;p&gt;Arguments are plentiful about whether private methods and inner classes should be unit tested, and in many cases the arguments are valid that only public methods should need to be tested and they will internally exercise the private members.&lt;/p&gt;

&lt;p&gt;Unfortunately there are plenty of use cases I have come across where this ideal is not a reality on non-trivial classes due to a desire to keep things encapsulate and hide implementation details.&lt;/p&gt;

&lt;p&gt;Here are 2 examples:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Example of &amp;#39;wanting&amp;#39; to test privates: lots of internal logic in private methods where building the class via test-driven-development (TDD) is easier by testing the private methods as you go (like building blocks with simple progressive tests), rather than trying to write all the code then test only the public methods at the end. &lt;em&gt;(Yes, it can theoretically all be done via TDD by only going via the public method, and yes I understand the theory of it. In practice however I have found it beneficial to have some types of private methods tested so they are covered as &amp;quot;building blocks&amp;quot; rather than relying on the top level public method test failing and digging into what internal private method failed.)&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Example of &amp;#39;needing&amp;#39; to test privates: an inner class which runs a daemon thread to perform background cache refreshes. This is something I want fully encapsulated and not exposed in any way, but I need to test that it correctly runs, does what it&amp;#39;s supposed to do and mock it out for other unit tests.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Specifically on the second example of an inner class and background thread, these could easily be made testable by an external class by exposing things via publics or package private methods or variables, or even by pulling the inner class for the thread into a separate class – but all of those break the encapsulation I was striving for. I do not want the package structure or javadocs to know anything about the implementation details. I want it all private, not package private and certainly not public.&lt;/p&gt;

&lt;p&gt;Thus, the only way to get access without breaking encapsulation and good object design is to put the tests inside the concrete class.&lt;/p&gt;

&lt;p&gt;Unit tests as inner classes allow for testing without opening member variables or methods to package or public access which then leak the implementation details.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Refactoring&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If and when the the concrete class has its name or package refactored the unit tests as an inner class just go along for the ride.&lt;/p&gt;

&lt;p&gt;No one needs to remember to go find the associated unit tests and also rename them.&lt;/p&gt;

&lt;p&gt;This is particularly important in large codebases maintained by many developers where the person working on the code likely is not the one who originally wrote it.&lt;/p&gt;

&lt;p&gt;Otherwise, the unit tests becomes an orphan, in the wrong package with the wrong name. Yes, the tests likely will still work (unless they depend on package access, in which case a compilation error would have flagged it) but they are now less maintainable than ever since the naming convention that was holding them together is gone and nobody will know to go looking for it in future edits to the concrete class.&lt;/p&gt;

&lt;p&gt;In short, when unit tests are done as an inner class, everything is fully contained and goes along for the ride regardless of where the concrete class goes or how it&amp;#39;s named.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Self-documenting&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;When a class has all of its tests as an inner class they act as built-in documentation of what the class is supposed to do, regardless of whether the person looking for the code knows or cares to go looking for unit tests.&lt;/p&gt;

&lt;p&gt;They can&amp;#39;t be missed – they are staring the developer in the face at the bottom of the class and in the outline as &amp;quot;UnitTest&amp;quot; with a bunch of methods declaring the functionality that is expected.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Arguments Against This Approach&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately the use of inner classes for unit testing is not more common so I sometimes get opposition when I work with new teams and they see my tests as inner classes.&lt;/p&gt;

&lt;p&gt;Here are the common questions/concerns and my perspective on them:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What About Shipping Test Code to Production?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The small amount of byte code that will get shipped is negligible compared to the amount of 3rd party JARs in most deployments so it hardly dents the size of WAR files being shipped around, and since the classes are never referenced or invoked in production they are never loaded into the class loaders and thus never take up permgen space on the heap.&lt;/p&gt;

&lt;p&gt;And if there is a philosophical or actual real reason to not ship test code they can simply be stripped by a build process since they all compile to $UnitTest.class (if that naming convention is used, which I follow and recommend) and can then be easily filtered before building the JAR files.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Apache Doesn&amp;#39;t Do It This Way&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Or otherwise said: &amp;#39;Why would you put test classes there!?&amp;#39;.&lt;/p&gt;

&lt;p&gt;Apache/Maven &lt;a href=&quot;http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html&quot;&gt;advocates&lt;/a&gt; having a ./src/main and ./src/test folder and they have enough clout in the industry to have made it the most known place of putting test classes.&lt;/p&gt;

&lt;p&gt;Just because it works for them doesn&amp;#39;t mean it&amp;#39;s the best way of doing it and in practice I have found it to be detrimental. I agree that in a theoretical &amp;quot;standard directory layout&amp;quot; it makes sense, but in practice the lack of context, increased friction, maintainability issues and impacts on encapsulation make it less-than-ideal for the developers writing the tests.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Summary&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Inner classes are a great home for unit tests when writing Java.&lt;/p&gt;

&lt;p&gt;This pattern reduces friction of both writing and maintaining unit tests which in turn increases code coverage, speeds up development, improves maintainability, increases velocity and enables adopting practices such as continuous deployment.&lt;/p&gt;

&lt;p&gt;Update (Jan 17 2012):&lt;/p&gt;

&lt;p&gt;One drawback of unit tests as inner classes is that they show up in Javadocs. The solution is to filter them out using a custom &amp;#39;Doclet&amp;#39; implementation.&lt;/p&gt;

&lt;p&gt;Example can be found here: &lt;a href=&quot;https://gist.github.com/1410681&quot;&gt;https://gist.github.com/1410681&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>AtomicCircularArray Wins My Concurrency Throughput Test</title>
   <link href="http://benjchristensen.com/code/performance/2011/10/08/atomiccirculararray/"/>
   <updated>2011-10-08T22:42:41-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2011/10/08/atomiccirculararray</id>
   <content type="html">&lt;p&gt;I recently made several implementations of a RollingNumber (allowing a sum to be calculated over a 10 second period with 1 second increments with continual updates) to determine what would perform best under high-concurrency.&lt;/p&gt;

&lt;p&gt;In my case, concurrency means 4-8000 writes/second from hundreds of threads on an 8-core machine and only a handful of reads per second.&lt;/p&gt;

&lt;p&gt;In the end, a circular-array (using AtomicReferenceArray internally) won my throughput tests and also achieved my side goal of being non-blocking.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/benjchristensen/RollingNumberConcurrencyTesting&quot;&gt;code is on GitHub&lt;/a&gt; and the winning implementation is &lt;a href=&quot;https://github.com/benjchristensen/RollingNumberConcurrencyTesting/blob/master/src/RollingNumberViaTryLockWithAtomicCircularArray.java&quot;&gt;RollingNumberViaTryLockWithAtomicCircularArray&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Note that this code is NOT what I would deploy in production, since I forced each implementation to comply to the same interface so they could all be run by my test-harness.&lt;/p&gt;

&lt;p&gt;However, a modified version of RollingNumberViaTryLockWithAtomicCircularArray is being run in production processing billions of writes per day.&lt;/p&gt;

&lt;p&gt;Another aspect of the test is the use of ReentrantLock.tryLock() instead of a synchronized block. The tryLock() works well in this use-case, allowing only 1 thread to get the lock and routing all others around it instead of blocking them.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Test Results&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Here are charts (higher is better) showing the differences in performance between implementations on two different machines:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;MacBook Pro 2.2GHz Intel Core i7, 8GB Memory, SSD Drive, OSX Lion 10.7.1&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ uname -a
Darwin 11.1.0 Darwin Kernel Version 11.1.0: Tue Jul 26 16:07:11 PDT 2011; root:xnu-1699.22.81~1/RELEASE_X86_64 x86_64

$ java -version
java version &amp;quot;1.6.0_26&amp;quot;
Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511)
Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The winner is the blue bar which is the highest.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2011/10/concurrent_throughput_rollingnumber_macbookpro.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/10/concurrent_throughput_rollingnumber_macbookpro.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Amazon EC2 m2.4xlarge&lt;/strong&gt;
High-Memory Quadruple Extra Large Instance 68.4 GB of memory, 26 EC2 Compute Units (8 virtual cores with 3.25 EC2 Compute Units each), 1690 GB of local instance storage, 64-bit platform&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ uname -a
Linux 2.6.21.7-2.ec2.v1.3.fc8xen #1 SMP Sat Sep 25 01:16:50 EDT 2010 x86_64 x86_64 x86_64 GNU/Linux

$ /usr/java/latest/bin/java -version
java version &amp;quot;1.6.0_25&amp;quot;
Java(TM) SE Runtime Environment (build 1.6.0_25-b06)
Java HotSpot(TM) 64-Bit Server VM (build 20.0-b11, mixed mode)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The winner is the orange bar which is the highest.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2011/10/concurrent_throughput_rollingnumber_ec2.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/10/concurrent_throughput_rollingnumber_ec2.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Running the Test&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;You can run the test using an &lt;a href=&quot;https://github.com/downloads/benjchristensen/RollingNumberConcurrencyTesting/RollingNumberThroughputTest.jar&quot;&gt;executable JAR&lt;/a&gt; with the command:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;java -Xmx1g -jar RollingNumberThroughputTest.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The test also validates that the code does what it should and is able to find non-thread-safe implementations by looking for incorrect math caused by concurrency bugs.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I found it very interesting how differently the results were on the 2 machines (operating systems and CPUs are very different, the JVM implementations are also different). In both cases though the AtomicCircularArray performed better, far better on the EC2 instance running the Sun JVM.&lt;/p&gt;

&lt;p&gt;These tests provided me with the data to choose AtomicCircularArray and as mentioned above it is similar to what I&amp;#39;m now using in production.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Simple Sparkline using SVG Path and D3.js</title>
   <link href="http://benjchristensen.com/code/user%20interface/2011/08/08/simple-sparkline-using-svg-path-and-d3-js/"/>
   <updated>2011-08-08T22:52:24-07:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2011/08/08/simple-sparkline-using-svg-path-and-d3-js</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve been playing with SVG visualization and the &lt;a href=&quot;http://mbostock.github.com/d3/&quot;&gt;d3.js&lt;/a&gt; library (replacement to &lt;a href=&quot;http://mbostock.github.com/protovis/&quot;&gt;Protovis&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;As a starting point this is a simple line chart used as a sparkline. The HTML and Javascript provide a boiler plate from which more complex visualizations and charts can be built.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/08/screen-shot-2011-08-08-at-10-47-16-pm.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;Here are links to the code and working example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/1133472&quot;&gt;http://bl.ocks.org/1133472&lt;/a&gt;
&lt;a href=&quot;https://gist.github.com/1133472&quot;&gt; https://gist.github.com/1133472&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To make the size more applicable to inline &lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/08/screen-shot-2011-08-08-at-11-00-18-pm.png?w=800&quot; alt=&quot;&quot;&gt; use as a sparkline decrease the ranges:
&lt;code&gt;
var x = d3.scale.linear().domain([0, 10]).range([0, 20]);
var y = d3.scale.linear().domain([0, 10]).range([0, 10]);
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;UPDATE: I added another version that shows animations with transformations and transitions.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bl.ocks.org/1148374&quot;&gt;http://bl.ocks.org/1148374&lt;/a&gt;
&lt;a href=&quot;https://gist.github.com/1148374&quot;&gt;https://gist.github.com/1148374&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Automount AFP via autofs in Mac OSX (Snow Leopard)</title>
   <link href="http://benjchristensen.com/tools/2011/06/21/automount-afp-via-autofs-in-mac-osx-snow-leopard/"/>
   <updated>2011-06-21T13:51:34-07:00</updated>
   <id>http://benjchristensen.com/tools/2011/06/21/automount-afp-via-autofs-in-mac-osx-snow-leopard</id>
   <content type="html">&lt;p&gt;I wanted a mount point that was automatic from my desktop to laptop and didn&amp;#39;t need me to manually re-connect each time I came back to it.&lt;/p&gt;

&lt;p&gt;After a bit of research, trial and error I figured out the correct incantation:&lt;/p&gt;

&lt;p&gt;Edit the /etc/fstab (create if not there) to be:
&lt;code&gt;
HOSTNAME:MOUNTPOINT /PATH_ON_MACHINE_TO_USE_AS_MOUNT url automounted,url==afp://USERNAME:PASSWORD@HOSTNAME/MOUNTPOINT 0 0
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note that &amp;quot;MOUNTPOINT&amp;quot; on Mac for a users directory is NOT &amp;quot;/Users/username&amp;quot;, it is just &amp;quot;username&amp;quot;.&lt;/p&gt;

&lt;p&gt;To restart the automounter type:
&lt;code&gt;
automount -vc
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;It will mount the newly defined mountpoint and create the folder defined with PATH&lt;em&gt;ON&lt;/em&gt;MACHINE&lt;em&gt;TO&lt;/em&gt;USE&lt;em&gt;AS&lt;/em&gt;MOUNT.&lt;/p&gt;

&lt;p&gt;Some links I found useful while researching:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://forums.plexapp.com/index.php/topic/14201-howto-automount-afpsmb-shares-using-autofs/&quot;&gt;http://forums.plexapp.com/index.php/topic/14201-howto-automount-afpsmb-shares-using-autofs/&lt;/a&gt;
&lt;a href=&quot;http://rajeev.name/2007/11/23/autofs-goodness-in-apples-leopard-105-part-ii/&quot;&gt;http://rajeev.name/2007/11/23/autofs-goodness-in-apples-leopard-105-part-ii/&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tweet Archiver</title>
   <link href="http://benjchristensen.com/code/2011/05/28/tweet-archiver/"/>
   <updated>2011-05-28T23:53:09-07:00</updated>
   <id>http://benjchristensen.com/code/2011/05/28/tweet-archiver</id>
   <content type="html">&lt;p&gt;I wanted to learn Ruby so wrote a script to do something I&amp;#39;ve wanted for a while - a simple mechanism to retrieve all of my Tweets using the Twitter API.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/benjchristensen/TweetArchiver&quot;&gt;https://github.com/benjchristensen/TweetArchiver&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Eventually I&amp;#39;ll add the functionality I want that will expand all shortened links and perhaps even download pictures that I&amp;#39;ve linked to or posted via services such as TwitPic.&lt;/p&gt;

&lt;p&gt;Anyway, Ruby is kind of perfect for this type of hacking it seems and now I can archive my Twitter history easily (and yes I know there are lots of other people who have done this before ... don&amp;#39;t bother telling me, I just needed something more than &amp;quot;Hello World&amp;quot;).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dynamic Directory of Jar Files in Classpath via Eclipse Plugin</title>
   <link href="http://benjchristensen.com/code/tools/2011/05/26/dynamic-directory-of-jar-files-in-classpath-via-eclipse-plugin/"/>
   <updated>2011-05-26T21:34:24-07:00</updated>
   <id>http://benjchristensen.com/code/tools/2011/05/26/dynamic-directory-of-jar-files-in-classpath-via-eclipse-plugin</id>
   <content type="html">&lt;p&gt;I came across a scenario where I needed Eclipse to dynamically add a folder of jar files to the classpath and found out that Eclipse doesn&amp;#39;t support this out of the box (no idea why ... IntelliJ does).&lt;/p&gt;

&lt;p&gt;So I began Googling and found &amp;quot;how&amp;quot; to solve it by writing a classpath container but could find a pre-packaged solution.&lt;/p&gt;

&lt;p&gt;The how was explained here: &lt;a href=&quot;https://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-classpath/&quot;&gt;https://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-classpath/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I took that example and tweaked it into a working plugin. It now lives at &lt;a href=&quot;https://github.com/benjchristensen/SimpleDirectoryContainer_EclipsePlugin&quot;&gt;GitHub&lt;/a&gt; where the plugin and source can be downloaded.&lt;/p&gt;

&lt;p&gt;Once the plugin is installed in Eclipse, edit the &amp;quot;Java Build Path&amp;quot; on a project and click &amp;quot;Add Library&amp;quot; and choose &amp;quot;Directory Container&amp;quot;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2011/05/add-library.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/05/add-library.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then choose the folder (a subfolder of the project so it&amp;#39;s relative) and defines what file extensions it should include:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2011/05/creating-library.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/05/creating-library.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once saved this library will show up like any other Eclipse classpath library and show all Jar files from the selected folder ... and most importantly will dynamically update the classpath when refreshed to whatever is in that folder.
&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2011/05/directory-classpath.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2011/05/directory-classpath.png?w=800&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope this helps someone else needing the same behavior in Eclipse!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Moved to Netflix</title>
   <link href="http://benjchristensen.com/2011/05/26/cone-of-silence-lifted/"/>
   <updated>2011-05-26T20:18:23-07:00</updated>
   <id>http://benjchristensen.com/2011/05/26/cone-of-silence-lifted</id>
   <content type="html">&lt;p&gt;This week I started a new job at Netflix as a Senior Software Engineer on their API Platform team to work on this: http://techblog.netflix.com/2011/02/redesigning-netflix-api.html.&lt;/p&gt;

&lt;p&gt;Hence, the silence while I&amp;#39;ve worked at Apple is somewhat lifted so I may get back to writing on my blog more often - particularly about technical things.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>3 Signs of a Miserable Job</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2010/10/17/3-signs-of-a-miserable-job/"/>
   <updated>2010-10-17T13:13:33-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2010/10/17/3-signs-of-a-miserable-job</id>
   <content type="html">&lt;p&gt;I read &amp;quot;3 Signs of a Miserable Job&amp;quot; and found it to have some good insights into jobs, career and particularly management. It&amp;#39;s an easy read, most of the book in the form of a fable, readable in an evening or two. &lt;/p&gt;

&lt;p&gt;It can be found on &lt;a href=&quot;http://www.amazon.com/Three-Signs-Miserable-Job-ebook/dp/B000UZQHD4/ref=tmm_kin_title_0?ie=UTF8&amp;amp;m=AG56TWVU5XWC2&quot;&gt;Kindle&lt;/a&gt; or &lt;a href=&quot;http://ax.itunes.apple.com/us/book/the-three-signs-miserable/id381153191#ls=1&quot;&gt;iBooks&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Below are some screen-captures of passages I liked (&lt;a href=&quot;https://twitter.com/benjchristensen/status/27656848696&quot;&gt;sorry for the images as opposed to text&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;Summary of the &amp;quot;3 Signs&amp;quot;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2010/10/20101017-083638.jpg?w=800&quot; alt=&quot;3 signs of a miserable job&quot;&gt;&lt;/p&gt;

&lt;p&gt;The book makes it clear that it doesn&amp;#39;t matter what the job is nor does higher compensation ultimately negate the need of these things. &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2010/10/20101017-083652.jpg?w=800&quot; alt=&quot;What a miserable job is&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2010/10/20101017-083645.jpg?w=800&quot; alt=&quot;Miserable employee&quot;&gt;&lt;/p&gt;

&lt;p&gt;In the end, the manager is the person who has the biggest impact on a persons happiness in their job and the case is made as to the importance of a manager in the life of those he manages yet how most managers don&amp;#39;t realize this nor act on it - hence the misery of many in what would otherwise be fulfilling and satisfying jobs.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2010/10/20101017-083659.jpg?w=800&quot; alt=&quot;managers should be frank&quot;&gt;&lt;/p&gt;

&lt;p&gt;For me &amp;quot;immeasurement&amp;quot; is the one that hits closest to home as being something that affects me in my day to day life and that I&amp;#39;ve done poorly when I&amp;#39;ve managed others. &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2010/10/20101017-083704.jpg?w=800&quot; alt=&quot;immeasurement&quot;&gt;&lt;/p&gt;

&lt;p&gt;Software development (where I personally have experience and can apply these lessons) in general is difficult in this regard - projects and code are never really done. Sure, something is deployed or ships, but then it&amp;#39;s on to fixing things, adding the next feature or whatever, and rarely does an individual person have full impact on a product or system such that they can measure their success with it, especially on large teams or products. &lt;/p&gt;

&lt;p&gt;Timelines or task completion are impossible to use as yardsticks as they vary wildly and change all the time - the very definition of &amp;quot;moving goalposts&amp;quot;. Don&amp;#39;t even get me started on &amp;quot;lines of code&amp;quot; - the worst possible form of measurement. Bugs (or lack thereof) don&amp;#39;t work either for many reasons that I won&amp;#39;t get into here. &lt;/p&gt;

&lt;p&gt;I have yet to see an objective way of measuring software development that works - any ideas?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Leadership, Solitude and Thinking</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/politics/skills/2010/10/16/leadership-solitude-and-thinking/"/>
   <updated>2010-10-16T03:58:33-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/politics/skills/2010/10/16/leadership-solitude-and-thinking</id>
   <content type="html">&lt;p&gt;These are quotes that I liked on the subject of leadership from the following article which I recommend taking the time to read and think about. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.theamericanscholar.org/solitude-and-leadership/&quot;&gt;Solitude and Leadership: an article by William Deresiewicz | The American Scholar&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&quot;solitude is one of the most important necessities of true leadership&quot;

&quot;what I saw around me were great kids who had been trained to be world-class hoop jumpers. Any goal you set them, they could achieve. Any test you gave them, they could pass with flying colors. They were, as one of them put it herself, &#39;excellent sheep.&#39;&quot;

&quot;excellence isn’t usually what gets you up the greasy pole. What gets you up is a talent for maneuvering. ... Not taking stupid risks like trying to change how things are done or question why they’re done. Just keeping the routine going.&quot;

&quot;We have a crisis of leadership in this country, in every institution.&quot;

&quot;We have a crisis of leadership in America because our overwhelming power and wealth, earned under earlier generations of leaders, made us complacent, and for too long we have been training leaders who only know how to keep the routine going. Who can answer questions, but don’t know how to ask them. Who can fulfill goals, but don’t know how to set them. Who think about how to get things done, but not whether they’re worth doing in the first place. What we have now are the greatest technocrats the world has ever seen, people who have been trained to be incredibly good at one specific thing, but who have no interest in anything beyond their area of exper tise. What we don’t have are leaders.

What we don’t have, in other words, are thinkers. People who can think for themselves. People who can formulate a new direction: for the country, for a corporation or a college, for the Army—a new way of doing things, a new way of looking at things. People, in other words, with vision.&quot;

&quot;there are a lot of highly educated people who don’t know how to think at all.&quot;

&quot;what makes him [General David Petraeus] a thinker—and a leader—is precisely that he is able to think things through for himself. And because he can, he has the confidence, the courage, to argue for his ideas even when they aren’t popular.&quot;

&quot;true leadership means being able to think for yourself and act on your convictions&quot;

&quot;people do not multitask effectively. And here’s the really surprising finding: the more people multitask, the worse they are, not just at other mental abilities, but at multitasking itself.&quot;

&quot;Multitasking, in short, is not only not thinking, it impairs your ability to think.&quot;

&quot;You do your best thinking by slowing down and concentrating.&quot;

&quot;Leadership means finding a new direction, not simply putting yourself at the front of the herd that’s heading toward the cliff.&quot;

&quot;Once the situation is upon you, it’s too late. You have to be prepared in advance. You need to know, already, who you are and what you believe: not what the Army believes, not what your peers believe (that may be exactly the problem), but what you believe. How can you know that unless you’ve taken counsel with yourself in solitude?&quot;
&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>Trigger Native Javascript Events with Prototype.js</title>
   <link href="http://benjchristensen.com/code/2010/08/27/trigger-native-javascript-events-with-prototype-js/"/>
   <updated>2010-08-27T23:01:13-07:00</updated>
   <id>http://benjchristensen.com/code/2010/08/27/trigger-native-javascript-events-with-prototype-js</id>
   <content type="html">&lt;p&gt;After much searching and playing with various solutions, I found one at this page:&lt;/p&gt;

&lt;p&gt;http://stackoverflow.com/questions/590289/javascript-event-that-fires-without-user-interaction/590339#590339&lt;/p&gt;

&lt;p&gt;This provides an easy method for programmatically invoking native events such as &amp;quot;onchange&amp;quot;.&lt;/p&gt;

&lt;p&gt;Here it is:&lt;/p&gt;

&lt;p&gt;[sourcecode language=&amp;quot;javascript&amp;quot; light=&amp;quot;true&amp;quot; wraplines=&amp;quot;true&amp;quot;]&lt;/p&gt;

&lt;p&gt;// this supports trigger native events such as &amp;#39;onchange&amp;#39; 
// whereas prototype.js Event.fire only supports custom events
function triggerEvent(element, eventName) {
    // safari, webkit, gecko
    if (document.createEvent)
    {
    var evt = document.createEvent(&amp;#39;HTMLEvents&amp;#39;);
    evt.initEvent(eventName, true, true);&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;    return element.dispatchEvent(evt);
}

// Internet Explorer
if (element.fireEvent) {
    return element.fireEvent(&amp;#39;on&amp;#39; + eventName);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;[/sourcecode]&lt;/p&gt;

&lt;p&gt;This is primarily to deal with prototype.js not allowing the firing of native events (which jQuery does).&lt;/p&gt;

&lt;p&gt;Here is another approach I found but have not tried which adds the capability to prototype.js: &lt;a href=&quot;http://github.com/kangax/protolicious/blob/5b56fdafcd7d7662c9d648534225039b2e78e371/event.simulate.js&quot;&gt;event.simulate.js&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Useless SVN Error Message: Network connection closed unexpectedly</title>
   <link href="http://benjchristensen.com/tools/2010/06/01/useless-svn-error-message-network-connection-closed-unexpectedly/"/>
   <updated>2010-06-01T09:34:25-07:00</updated>
   <id>http://benjchristensen.com/tools/2010/06/01/useless-svn-error-message-network-connection-closed-unexpectedly</id>
   <content type="html">&lt;p&gt;If you&amp;#39;re trying to do a subversion checkout using svn+ssh like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;
svn co svn+ssh://hostname/path
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;... and are getting a useless error like this ...&lt;/p&gt;

&lt;p&gt;&lt;code&gt;svn: To better debug SSH connection problems, remove the -q option from &amp;#39;ssh&amp;#39; in the [tunnels] section of your Subversion configuration file.
svn: Network connection closed unexpectedly&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Try removing .ssh/known_hosts (which fixed my issue) or ensure that the private/public keys in .ssh have the right permissions, such as this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;benjchristensen-notebook:~ benjchristensen$ ls -al .ssh/
drwx------   6 benjchristensen  staff   204 Jun  1 09:30 .
drwxrwxrwx+ 39 benjchristensen  staff  1326 Jun  1 09:24 ..
-rw-------   1 benjchristensen  staff  1743 Jun  1 09:17 id_rsa
-rw-r--r--   1 benjchristensen  staff   423 Jun  1 09:17 id_rsa.pub
-rw-r--r--   1 benjchristensen  staff   413 Jun  1 09:30 known_hosts&lt;/code&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My Job Hunt - How I Ended Up At Apple</title>
   <link href="http://benjchristensen.com/personal/skills/2010/01/31/my-job-hunt-how-i-ended-up-at-apple/"/>
   <updated>2010-01-31T20:12:41-08:00</updated>
   <id>http://benjchristensen.com/personal/skills/2010/01/31/my-job-hunt-how-i-ended-up-at-apple</id>
   <content type="html">&lt;p&gt;I started working for Apple in their iTunes Store division on December 14th 2009. It&amp;#39;s been a great 6 weeks so far and I look forward to a long and interesting future here at Apple.&lt;/p&gt;

&lt;p&gt;Considering the state of the economy and job market I consider myself blessed to have gotten such a great new job - but I worked hard in my hunt and thought it might be of use or interest to others what it took to find a new job.&lt;/p&gt;

&lt;p&gt;So, my job hunt &amp;quot;by the numbers&amp;quot; ...&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Time on Hunt&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;14 weeks (4 1/2 months)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;August 11th to November 18th&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Job Boards Used&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;7+&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dice, TheLadder, Monster, Jobirn, Indeed, CyberCoders, SimplyHired&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Cost (in money, not time)&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;$1000+&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$700 on resume&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;expenses that weren&amp;#39;t reimbursed during interviews I traveled to&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Friends or Colleagues Notified&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;6 (It was a private affair for the first 3/4s of the search)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Cities I Looked At&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Virtually anywhere in the US with a big city ....&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In particular I was pursuing cities in the following order...&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Denver (cause that&amp;#39;s where I lived and own a home)&lt;/li&gt;
&lt;li&gt;Austin&lt;/li&gt;
&lt;li&gt;Dallas&lt;/li&gt;
&lt;li&gt;Phoenix&lt;/li&gt;
&lt;li&gt;Las Vegas&lt;/li&gt;
&lt;li&gt;Southern California&lt;/li&gt;
&lt;li&gt;Northern California&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I considered East Coast and that direction (New York, Virginia, DC, Chicago etc) after finding opportunities out there.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;*&lt;em&gt;Jobs Applied or Responded To *&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;59 or more not counting the many emails I received and ignored outright&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Outright Rejections&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;6&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Companies Who Ignored Me&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;30+ whom I never heard from even after attempted followups&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Advanced Interviews&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;6&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Source of Leads (for those 6)&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;2 - recruiter found my resume on a job board and contacted me&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1 - I responded to a posting on a job board&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;2 - I submitted to job postings directly on the company site&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1 - friend referred me to a job at his company after seeing me post on LinkedIn that I was looking (in the last 1/4 of my search when I made it public)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Number of Engineers that Interviewed Me at Those 6 Companies&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;30+&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;12 at one company, 10 at another&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Flights to Onsite Interviews&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;4&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Chicago&lt;/li&gt;
&lt;li&gt;Cupertino&lt;/li&gt;
&lt;li&gt;San Francisco&lt;/li&gt;
&lt;li&gt;Carlsbad (San Diego County)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Offers Received&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Rejections After Advanced Interviews&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All in all it was a great experience. I learned a lot about myself, my worth, what I&amp;#39;m interested in and what opportunities are out there for me.&lt;/p&gt;

&lt;p&gt;I had been at Etilize for 7 1/2 years and NEVER gotten a job via a resume before, so this was a significant experience for me to go &amp;quot;out of the blue&amp;quot; searching for a job and get one without having connections before hand.&lt;/p&gt;

&lt;p&gt;A few things that I found significant in the process:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1) Get a Professional Resume&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Paying for a professional resume writer to redo my resume made a HUGE difference. It made me feel much more confident about sending it off, but I also got much better feedback and callbacks once I began using it. It was completely worth the money and I&amp;#39;d recommend it to anybody serious about their job hunt.&lt;/p&gt;

&lt;p&gt;As for the high cost -- don&amp;#39;t go cheap is my opinion. Think about how long it takes to do a good job, the hourly rate you want to be paid and you&amp;#39;ll see that it&amp;#39;s impossible to have a proper job for $150 - which you&amp;#39;ll see advertised. I paid $700 and it was deserved.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2) It Takes Time&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Plan for it to take longer than you want or expect. It all takes time.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3) Study&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The questions I was asked are things that NEVER get asked or come up in the &amp;quot;real world&amp;quot; and are things I&amp;#39;d typically Google.&lt;/p&gt;

&lt;p&gt;Sometimes that&amp;#39;s a valid answer ... &amp;quot;I&amp;#39;d Google that&amp;quot; ... but it won&amp;#39;t get you far on most interviews.&lt;/p&gt;

&lt;p&gt;I had to dust off my understanding on a lot of computer science theory, algorithms, data structures, and other such things. In fact, the one major set of interviews I went through and ultimately got rejected from was the first series I went through and I believe 3 things caused the rejection (not my lack of skill):&lt;/p&gt;

&lt;p&gt;a) questions about things I hadn&amp;#39;t studied (and studied thereafter and was prepared for in subsequent interviews)&lt;/p&gt;

&lt;p&gt;b) I was over-dressed ... a suit and tie for an engineering position set the wrong tone&lt;/p&gt;

&lt;p&gt;c) I was not myself and stressed (this was more to do with the fact that it was my first real interviews in a decade ... ok, ever...)&lt;/p&gt;

&lt;p&gt;It was really frustrating at times and absolutely exhilarating at others ... a real roller-coaster all the way through. By the end though I had a better sense of value and who I am and an exciting new career path.&lt;/p&gt;

&lt;p&gt;Good luck to anyone else reading this and doing their own search!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Technical Debt Quadrant</title>
   <link href="http://benjchristensen.com/architecture/code/management%20&amp;%20leadership/2009/10/15/technical-debt-quadrant/"/>
   <updated>2009-10-15T13:52:19-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/management%20&amp;%20leadership/2009/10/15/technical-debt-quadrant</id>
   <content type="html">&lt;p&gt;Martin Fowler &lt;a href=&quot;http://martinfowler.com/bliki/TechnicalDebtQuadrant.html&quot;&gt;wrote a blog entry&lt;/a&gt; on technical debt this week that communicates the concepts of &amp;quot;technical debt&amp;quot; and classifies them very well.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/10/techdebtquadrant.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/10/techdebtquadrant.png&quot; alt=&quot;techDebtQuadrant&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some favorite portions:&lt;/p&gt;

&lt;blockquote&gt;&quot;A mess is a reckless debt which results in crippling interest payments or a long period of paying down the principal.&quot;&lt;/blockquote&gt;

&lt;blockquote&gt;&quot;The prudent debt to reach a release may not be worth paying down if the interest payments are sufficiently small - such as if it were in a rarely touched part of the code-base.&quot;&lt;/blockquote&gt;

&lt;blockquote&gt;&quot;Not just is there a difference between prudent and reckless debt, there&#39;s also a difference between deliberate and inadvertent debt. The prudent debt example is deliberate because the team knows they are taking on a debt, and thus puts some thought as to whether the payoff for an earlier release is greater than the costs of paying it off. A team ignorant of design practices is taking on its reckless debt without even realizing how much hock it&#39;s getting into.&quot;&lt;/blockquote&gt;

&lt;blockquote&gt;&quot;while you&#39;re programming, you are learning. It&#39;s often the case that it can take a year of programming on a project before you understand what the best design approach should have been. Perhaps one should plan projects to spend a year building a system that you throw away and rebuild, but that&#39;s a tricky plan to sell. Instead what you find is that the moment you realize what the design should have been, you also realize that you have an inadvertent debt.&quot;&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>Statistics for Why Web Performance Matters</title>
   <link href="http://benjchristensen.com/performance/production/user%20interface/2009/10/02/statistics-for-why-web-performance-matters/"/>
   <updated>2009-10-02T15:29:55-07:00</updated>
   <id>http://benjchristensen.com/performance/production/user%20interface/2009/10/02/statistics-for-why-web-performance-matters</id>
   <content type="html">&lt;p&gt;Following are some good posts with further evidence of the impact of webpage/webapp responsiveness to the user experience, amount of usage and ultimately revenue.&lt;/p&gt;

&lt;p&gt;Good introductory quote to the external links and images shown below:&lt;/p&gt;

&lt;blockquote&gt;There’s no longer any debate. There’s reliable, reproducible evidence that web page latency is directly tied to the bottom line. At Velocity, Microsoft, Google and Shopzilla made this abundantly clear in a series of awesome presentations: detailed, controlled testing proves that slower pages hurt the bottom line. In Google’s case, adding delay reduces the average number of searches a visitor does each day even after the delay is removed.&lt;/blockquote&gt;

&lt;p&gt;Regarding &amp;quot;smaller scale&amp;quot; sites more typical than Google and Bing:&lt;/p&gt;

&lt;blockquote&gt;The results of their analysis show how significant a reduction in page latency can be. In addition to reducing bounce rates, and increasing pages per visit &amp; time on site, t**hey found a 16.07% increase in conversion rates and a 5.50% increase in average order value.** - [http://radar.oreilly.com/2009/10/watching-websites.html](http://radar.oreilly.com/2009/10/watching-websites.html)&lt;/blockquote&gt;

&lt;p&gt;External Links:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://radar.oreilly.com/2009/10/watching-websites.html&quot;&gt;http://radar.oreilly.com/2009/10/watching-websites.html&lt;/a&gt;
&lt;a href=&quot;http://radar.oreilly.com/2009/07/velocity-making-your-site-fast.html&quot;&gt;http://radar.oreilly.com/2009/07/velocity-making-your-site-fast.html&lt;/a&gt;
&lt;a href=&quot;http://www.watchingwebsites.com/archives/proof-that-speeding-up-websites-improves-online-business&quot;&gt;http://www.watchingwebsites.com/archives/proof-that-speeding-up-websites-improves-online-business&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Good &lt;a href=&quot;http://www.watchingwebsites.com/%7E/www.watchingwebsites.com/web/content/wp-content/uploads//2009/09/watchingwebsites-perf-and-analytics.pdf&quot;&gt;summary PDF&lt;/a&gt; showing metrics of performance impact.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/10/conversion-rate-and-order-value.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/10/conversion-rate-and-order-value.png&quot; alt=&quot;conversion-rate-and-order-value&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/10/bing-delayimpact.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/10/bing-delayimpact.png&quot; alt=&quot;bing-delayimpact&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Mac OSX 10.6 Java - java.io.tmpdir</title>
   <link href="http://benjchristensen.com/code/2009/09/22/mac-osx-10-6-java-java-io-tmpdir/"/>
   <updated>2009-09-22T13:50:15-07:00</updated>
   <id>http://benjchristensen.com/code/2009/09/22/mac-osx-10-6-java-java-io-tmpdir</id>
   <content type="html">&lt;p&gt;Migrating from OSX 10.5 to Snow Leopard, 10.6 caused all of my java projects using embedded MySQL MXJ to fail.&lt;/p&gt;

&lt;p&gt;I found that this was because Java returns a very odd path for the &amp;quot;java.io.tmpdir&amp;quot; property:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/private/var/folders/b4/b44x97M0GFydt3jCKcowsU+++TI/-Tmp-/&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;This causes issues with MySQL MXJ as it converts the + signs into spaces so the path becomes:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/private/var/folders/b4/b44x97M0GFydt3jCKcowsU TI/-Tmp-/&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The original code was:&lt;/p&gt;

&lt;p&gt;private static File tmpDir = new File(System.getProperty(&amp;quot;java.io.tmpdir&amp;quot;));&lt;/p&gt;

&lt;p&gt;To fix it I put in the following hack so that MySQL MXJ will now work again and I can still use the &amp;quot;java.io.tmpdir&amp;quot; property on other systems such as Windows:&lt;/p&gt;

&lt;p&gt;private static File ourAppDir;&lt;/p&gt;

&lt;p&gt;static {
String tempPath = System.getProperty(&amp;quot;java.io.tmpdir&amp;quot;);
// a fix to handle the crazy path the Mac JVM returns
if (tempPath.startsWith(&amp;quot;/var/folders/&amp;quot;)) tempPath = &amp;quot;/tmp/&amp;quot;;
ourAppDir = new File(tempPath);
}&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>GMail Down for 100 Minutes</title>
   <link href="http://benjchristensen.com/production%20problems/2009/09/02/gmail-down-for-100-minutes/"/>
   <updated>2009-09-02T10:11:34-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/09/02/gmail-down-for-100-minutes</id>
   <content type="html">&lt;blockquote&gt;
&quot;Gmail&#39;s web interface had a widespread outage earlier today, lasting about 100 minutes.&quot;&lt;/blockquote&gt;

&lt;p&gt;See the following for details:&lt;/p&gt;

&lt;p&gt;http://gmailblog.blogspot.com/2009/09/more-on-todays-gmail-issue.html&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Initial Impressions on Ruby Performance</title>
   <link href="http://benjchristensen.com/code/performance/2009/08/18/initial-impressions-on-ruby-performance/"/>
   <updated>2009-08-18T21:09:37-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2009/08/18/initial-impressions-on-ruby-performance</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve spent the past day playing with Ruby and decided to test some basic performance - iterating and string parsing - to get an idea of what the performance is really like.&lt;/p&gt;

&lt;p&gt;Ruby is not doing so well in my tests.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note to Ruby Experts: If anyone can demonstrate what I&amp;#39;m doing wrong in my code or testing, I would love to be corrected.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;My approach was to write the exact same code in Java and Ruby that loads up a file, reads each lines, tokenizes it into words using whitespace as the delimiter and counts up the tokens.&lt;/p&gt;

&lt;p&gt;This avoids network or database IO and other external resources - except the filesystem which I don&amp;#39;t consider a significant variable in the test.&lt;/p&gt;

&lt;p&gt;Further testing I&amp;#39;m planning on doing will test Rails, multi-threading and other common things I do in my apps.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/08/picture-31.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/08/picture-31.png&quot; alt=&quot;Picture 3&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;On my laptop, a MacBook Pro 2.53Ghz Core 2 Duo with 4GB memory, the average times are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ruby 1.8.6 app: 8022ms&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Java 5 app: 2986ms&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Java 6 app: 1443ms&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Source Code&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/08/filereadparse-java.doc&quot;&gt;FileReadParse.java&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2009/08/file_read_parse-rb.doc&quot;&gt;file&lt;em&gt;read&lt;/em&gt;parse.rb&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After downloading, strip the .doc ending off of the files.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Program Output&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;macbook-pro:src benjc$ /System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/bin/java FileReadParse&lt;/p&gt;

&lt;p&gt;Starting to read file...&lt;/p&gt;

&lt;p&gt;The number of tokens is: 7764115&lt;/p&gt;

&lt;p&gt;It took 1502 ms&lt;/p&gt;

&lt;p&gt;macbook-pro:performance benjc$ ruby file&lt;em&gt;read&lt;/em&gt;parse.rb&lt;/p&gt;

&lt;p&gt;Starting to read file ...&lt;/p&gt;

&lt;p&gt;The number of tokens is: 7764115&lt;/p&gt;

&lt;p&gt;It took 7999.955 ms&lt;/p&gt;

&lt;p&gt;macbook-pro:src benjc$ /System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/bin/java FileReadParse&lt;/p&gt;

&lt;p&gt;Starting to read file...&lt;/p&gt;

&lt;p&gt;The number of tokens is: 7764115&lt;/p&gt;

&lt;p&gt;It took 1502 ms&lt;/p&gt;

&lt;p&gt;macbook-pro:performance benjc$ ruby file&lt;em&gt;read&lt;/em&gt;parse.rb&lt;/p&gt;

&lt;p&gt;Starting to read file ...&lt;/p&gt;

&lt;p&gt;The number of tokens is: 7764115&lt;/p&gt;

&lt;p&gt;It took 7999.955 ms&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Software Development Is Not Engineering</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/08/11/software-development-is-not-engineering/"/>
   <updated>2009-08-11T09:47:55-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/08/11/software-development-is-not-engineering</id>
   <content type="html">&lt;p&gt;I have long considered it a fallacy to call software development &amp;quot;engineering&amp;quot;. Even though the term technically works for software as &amp;quot;the science, discipline, art and profession of acquiring and applying technical, scientific and mathematical knowledge to design and implement structures, machines, devices, systems, and processes that safely realize a desired objective or inventions&amp;quot; (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Engineering&quot;&gt;Wikipedia&lt;/a&gt;), this is not how the term ends up being interpreted and therefore misrepresents how software development actually occurs - since engineering has become synonymous with building physical structures such as buildings, bridges, roads. Recently someone with authority on the subject expressed this opinion much better than I could have, and since he has authority on the subject and in the industry, it means something.&lt;/p&gt;

&lt;p&gt;According to Wikipedia, &amp;quot;&lt;a href=&quot;http://en.wikipedia.org/wiki/Tom_DeMarco&quot;&gt;Tom DeMarco&lt;/a&gt; has authored over nine books and 100 papers on project management and software development&amp;quot; and has been intimately involved over the past 40 years in the software industry and the establishment of &amp;quot;structured analysis&amp;quot;, software project management concepts and legendary software development projects such as the first large scale telephone exchange for Bell.&lt;/p&gt;

&lt;p&gt;He recently wrote an article titled &amp;quot;&lt;a href=&quot;http://www2.computer.org/cms/Computer.org/ComputingNow/homepage/2009/0709/rW_SO_Viewpoints.pdf&quot;&gt;Software Engineering:  An Idea Whose Time Has Come and Gone?&lt;/a&gt;&amp;quot;&lt;/p&gt;

&lt;p&gt;The article is well written and there is no value in me repeating it verbatim, so read the original.&lt;/p&gt;

&lt;p&gt;The following quotes however are worth me repeating along with my commentary:&lt;/p&gt;

&lt;blockquote&gt;&quot;**Software development is inherently different from a natural science** such as physics and its metrics are accordingly much less precise.&quot;&lt;/blockquote&gt;

&lt;p&gt;Software development is not like building a bridge - where the materials, laws of physics and chemistry, labor times etc have all been experienced and practiced thousands of times, can be accurately predicted and correctly planned for, then managed.&lt;/p&gt;

&lt;blockquote&gt;&quot;**Software development is and always will be somewhat experimental.** The actual software construction isn’t necessarily experimental, but its conception is. And this is where our focus ought to be. It’s where our focus always ought to have been.&quot;&lt;/blockquote&gt;

&lt;p&gt;If we are writing software, it&amp;#39;s because we&amp;#39;re trying to do something that hasn&amp;#39;t been done before or is different in some way from what already exists, otherwise we&amp;#39;ll purchase the existing software. We are building a solution to a problem - to create value of some kind.&lt;/p&gt;

&lt;p&gt;If we&amp;#39;re doing something that hasn&amp;#39;t been done before - either with new technologies, new rules, new performance criteria or whatever it is that makes it unique - then we are doing &amp;quot;research and development&amp;quot; - experimentation. It is not as if a blueprint for a house is given and the construction team comes in to build it as they&amp;#39;ve done 1000 other houses in the same community. Software &amp;quot;architecture&amp;quot; doesn&amp;#39;t work that way. There is never a replicate - because it&amp;#39;s not physical.&lt;/p&gt;

&lt;p&gt;Yet business and project management would love it to be - it makes it easier to control, schedule and most critically, budget for.&lt;/p&gt;

&lt;p&gt;Tom DeMarco discusses &amp;quot;metrics&amp;quot; in the most detail in the article, about why we spend so much time trying to control software development projects, and particularly the timeline/cost aspect.&lt;/p&gt;

&lt;p&gt;He says:&lt;/p&gt;

&lt;blockquote&gt;&quot;**For the past 40 years, for example, we’ve tortured ourselves over our inability to finish a software project on time and on budget**. But as I hinted earlier, this never should have been the supreme goal. **The more important goal is transformation**, creating software that changes the world or that transforms a company or how it does business.&quot;&lt;/blockquote&gt;

&lt;p&gt;After giving an example of two projects, one creating little value and one creating significant value he states:&lt;/p&gt;

&lt;blockquote&gt;&quot;This leads us to the odd conclusion that **strict control is something that matters a lot on relatively useless projects** and much less on useful projects. It suggests that **the more you focus on control, the more likely you’re working on a project that’s striving to deliver something of relatively minor value.**&quot;&lt;/blockquote&gt;

&lt;p&gt;Ironically, I&amp;#39;ve generally seen the opposite perspective from business - that the &amp;quot;expensive&amp;quot; projects, the ones typically capable of creating the most value, are the ones where the most control of timeline and cost is desired and therefore the most damage done by &amp;quot;management&amp;quot; as opposed to allowing the necessary experimentation, design, thought, research and development to occur to create the most value out of the software.&lt;/p&gt;

&lt;p&gt;Being criticized of being &amp;quot;unable to delivery on time&amp;quot; in software development is not something I can really take personally - when the industry at large struggles so significantly with this, largely because it has tried so desperately to liken software development to a public works engineering project such as building a bridge, a building or a road.&lt;/p&gt;

&lt;p&gt;Software development is more like art than most seem willing to accept.&lt;/p&gt;

&lt;p&gt;It is driven by creativity, experimentation, research, design and artistic drive.&lt;/p&gt;

&lt;p&gt;Is it any wonder that the &amp;quot;transformative&amp;quot; software projects most often come from startups (Apple apparently being the exception with their iPhone OS and demonstrating the amazing culture of design they allow to flourish) and then as they mature become stagnant once quarterly reports drive business as opposed to the development of a product? Or that opensource, where timelines mean nothing, can build great software such as Linux, Firefox and MySQL? Look at what has happened to MySQL over the past 2 years as business &amp;quot;management&amp;quot; has replaced &amp;quot;experimentation&amp;quot; and focus on quality -- the key people who built MySQL over the years have left to work on something where strict control is not the focus.&lt;/p&gt;

&lt;p&gt;As Tom DeMarco suggests, I hope to be focusing on development where the value is worth allowing the proper time, people, experimentation and development to occur - so that something of true value can be created. If management of &amp;quot;costs&amp;quot; is the most important aspect of the project, the greatest value to be created, I don&amp;#39;t even want to bother. I&amp;#39;d rather work on a project that has the ability to be transformative, and create greater value than the cost of the effort.&lt;/p&gt;

&lt;p&gt;software engineering:&lt;/p&gt;

&lt;p&gt;An Idea Whose Time Has Come and&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Apprenticing to Learn Software Development</title>
   <link href="http://benjchristensen.com/skills/2009/07/21/apprenticing-to-learn-software-development/"/>
   <updated>2009-07-21T21:21:04-07:00</updated>
   <id>http://benjchristensen.com/skills/2009/07/21/apprenticing-to-learn-software-development</id>
   <content type="html">&lt;p&gt;The foundation of my software development skills was set between 1995 and 1998 while I worked under the direction of my friend and mentor Andre Kruger. For a long time I called it &amp;quot;job shadowing&amp;quot;, but I have come to realize that it was an informal &lt;a href=&quot;http://en.wikipedia.org/wiki/Apprenticeship&quot;&gt;apprenticeship&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have found those 3 years taught me more about software, system administration and technology than most get the opportunity to experience that early in their career - as I was learning and working on the job, tutored by someone who was incredibly intelligent and had years of knowledge and experience to share. He also provide me with invaluable insights and suggestions on what technologies and platforms to follow. It was he who suggested Java (when it was at version 1.0) was what I should focus on, not C - and that has served me well to this day - when the schools were telling me to learn Pascal.&lt;/p&gt;

&lt;p&gt;I loved it and sucked up as much as I could learn. I also built software that did real things. Now I recognize how poor the code was - it was very bad. The point was that I was learning through doing real things in an environment where I couldn&amp;#39;t do significant damage and could receive instruction and guidance - and eventually as I progressed I could truly understand the benefits of design patterns, object oriented design and what it meant to be &amp;quot;in production&amp;quot;. It wasn&amp;#39;t theoretical - or some forcefully memorized and quickly forgotten trivia - I knew it.&lt;/p&gt;

&lt;p&gt;I didn&amp;#39;t complete college/university - because by the time I got there it bored me to tears, as I had spent several years being apprenticed already and learned quickly on my own through books and experimentation. If I could have, I would have skipped to 3rd year and enjoyed myself, but our society and academic programs don&amp;#39;t work that way.&lt;/p&gt;

&lt;p&gt;I believe apprenticeships are the ideal way to learn software development, as I see software as a craft - not an engineering or scientific skill where rules are learned and applied the same way every time.&lt;/p&gt;

&lt;p&gt;I wish our society and industry would look seriously at its academic and theoretical approach to training - which I feel does not work very well - and consider a model more similar to apprenticeship.&lt;/p&gt;

&lt;p&gt;I also really enjoy mentoring others who have raw talent and desire. Some of my most rewarding work of the past 5 years has been that which has resulted in colleagues progressing and growing, such as a good friend of mine &lt;a href=&quot;http://www.linkedin.com/in/amemon&quot;&gt;Adnan Memon&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Perhaps I&amp;#39;ve accomplished the &amp;quot;master&amp;quot; status in certain aspects of my work, in others I&amp;#39;m still a &amp;quot;journeyman&amp;quot; I&amp;#39;m sure. I hope to find others who can continue to mentor me as I try do so for my juniors, as I think that&amp;#39;s where the best talent in our industry comes from.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Learning by Pair Programming</title>
   <link href="http://benjchristensen.com/skills/2009/07/20/learning-by-pair-programming/"/>
   <updated>2009-07-20T19:15:06-07:00</updated>
   <id>http://benjchristensen.com/skills/2009/07/20/learning-by-pair-programming</id>
   <content type="html">&lt;p&gt;Last week I learned how to program on the iPhone using Objective-C and Cocoa Touch by having two 2-hour pair programming sessions with &lt;a href=&quot;http://twitter.com/coursey&quot;&gt;Brent Coursey&lt;/a&gt; and about 8 hours of my own playing around.&lt;/p&gt;

&lt;p&gt;I am comfortable now with XCode, Interface Building and Objective-C - enough that I can build code to do what I want it to do, compile, run, debug, test and install on my personal iPhone.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ve connected to web services via Objective-C and built a user interface to interact with the services.&lt;/p&gt;

&lt;p&gt;All in all it was a good experience and great way to learn - and the pair programming was very useful in speeding up the learning process. Unlike 10 years ago where I plenty of time to learn through trial and error, it was much more effective to sit and watch someone and see how everything worked together. I was able to pick it up very quickly that way.&lt;/p&gt;

&lt;p&gt;Of course, 10+ years of object oriented programming in Java translates over well to the thinking and expectations - but the syntax and different ways of doing things were far from natural for a java programmer (especially one who had respectfully ignored the C way of doing things), so the demonstration received through pairing was immediately beneficial. (On second thought, ignoring C probably helped since I saw Objective-C as an OO language from the start - not as C)&lt;/p&gt;

&lt;p&gt;A 2 hour session with Kent Beck &lt;a href=&quot;http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&amp;amp;item=180375524276&quot;&gt;sold on EBay for $405&lt;/a&gt;. That would be quite the experience - would love to do that and see how he or someone else at his level does their craft.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Software Development is Not "Computer Science"</title>
   <link href="http://benjchristensen.com/skills/2009/07/19/software-development-is-not-computer-science/"/>
   <updated>2009-07-19T15:10:50-07:00</updated>
   <id>http://benjchristensen.com/skills/2009/07/19/software-development-is-not-computer-science</id>
   <content type="html">&lt;p&gt;These &lt;a href=&quot;http://arstechnica.com/science/news/2009/07/cesium-atoms-are-able-to-take-a-quantum-walk.ars&quot;&gt;guys&lt;/a&gt; are &amp;quot;computer scientists&amp;quot;.&lt;/p&gt;

&lt;p&gt;Being a programmer, developer, architect etc does not in my opinion constitute being a &amp;quot;computer scientist&amp;quot; or working in &amp;quot;computer science&amp;quot;.&lt;/p&gt;

&lt;p&gt;Perhaps the most general &lt;a href=&quot;http://dictionary.reference.com/browse/science&quot;&gt;definition&lt;/a&gt; of science can be used for &amp;quot;developers&amp;quot; if we stretch:&lt;/p&gt;

&lt;blockquote&gt;- a branch of knowledge or study dealing with a body of facts or truths systematically arranged and showing the operation of general laws: the mathematical sciences.&lt;/blockquote&gt;

&lt;p&gt;But that doesn&amp;#39;t describe the whole of it like these definitions do:&lt;/p&gt;

&lt;blockquote&gt;- systematic knowledge of the physical or material world gained through observation and experimentation.

- knowledge, as of facts or principles; knowledge gained by systematic study.&lt;/blockquote&gt;

&lt;p&gt;As programmers we don&amp;#39;t do this - we use technology (the &amp;quot;applied science&amp;quot;) to build things and solve problems.&lt;/p&gt;

&lt;p&gt;We may sometimes pretend to venture into &amp;quot;science&amp;quot; as we &amp;quot;research solutions&amp;quot; - but we&amp;#39;re just looking for knowledge and facts the &amp;quot;scientists&amp;quot; have figured out and then applying them in unique and novel ways.&lt;/p&gt;

&lt;p&gt;Calling a programmer a scientist is like calling an artist a chemist because they use chemical compounds (paint, graphite, clay, steel, glue whatever).&lt;/p&gt;

&lt;p&gt;Why does this matter to me?&lt;/p&gt;

&lt;p&gt;Because by training our programmers in theoretical &amp;quot;Computer Science&amp;quot; educational programs, we are not actually creating employable or productive people. Sure, they have basic skills and theory that can then be applied through further effort - but unless they are one of the rare few to study, analyze and experiment with computer science theory - most of the knowledge gained serves little to no value in applying the techology of software development in real-world programming of software.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Detail Oriented</title>
   <link href="http://benjchristensen.com/architecture/management%20&amp;%20leadership/skills/2009/07/17/detail-oriented/"/>
   <updated>2009-07-17T12:08:08-07:00</updated>
   <id>http://benjchristensen.com/architecture/management%20&amp;%20leadership/skills/2009/07/17/detail-oriented</id>
   <content type="html">&lt;p&gt;I&amp;#39;m working on a fairly significant document that covers the requirements and high-level architecture for a new system based on SOA principles to replace an aging application.&lt;/p&gt;

&lt;p&gt;The document is approaching 150 pages and beginning to approach something that properly describes the vision and needs so that business and technical folks can have a solid understanding of scope, requirements, priorities and how it will work (plus general direction on how it will be built).&lt;/p&gt;

&lt;p&gt;It takes a lot of effort and time to sit down and not only read, but understand the scope of this system. It&amp;#39;s not a simple thing. As much as we try to keep it conceptually simple, there&amp;#39;s a lot going on and a lot of details.&lt;/p&gt;

&lt;p&gt;In a few weeks I&amp;#39;m to sit down with a partner team to review and collaborate. My plan was to send over the detailed document for review so we could have a productive meeting to truly discuss missing requirements, strategy, execution planning etc.&lt;/p&gt;

&lt;p&gt;However, I&amp;#39;ve been told they don&amp;#39;t &amp;quot;want&amp;quot; to read the detailed version -- just a summary -- bullet points with perhaps 10-15 pages.&lt;/p&gt;

&lt;p&gt;These are senior developers and architects. Not high level business folks.&lt;/p&gt;

&lt;p&gt;Attention to detail is in my opinion an absolute requirement for technical people. Decision making without details is dangerous and fairly useless.&lt;/p&gt;

&lt;p&gt;My opinion is not high for people who do not care or have the attention span to be detail oriented.&lt;/p&gt;

&lt;p&gt;An executive who&amp;#39;s not directly involved in the operations of something - a summary makes sense.&lt;/p&gt;

&lt;p&gt;A team or person who is supposed to directly impact the design and delivery of something and its ongoing operations - if the details aren&amp;#39;t part of their focus, they don&amp;#39;t deserve to be involved.&lt;/p&gt;

&lt;p&gt;If they don&amp;#39;t have the time to be detail oriented, then either they shouldn&amp;#39;t be working on the project, their time needs to be re-prioritized, or the project isn&amp;#39;t worth doing.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Some Favorites</title>
   <link href="http://benjchristensen.com/personal/2009/07/17/some-favorites/"/>
   <updated>2009-07-17T11:59:08-07:00</updated>
   <id>http://benjchristensen.com/personal/2009/07/17/some-favorites</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/photo1234404346795.jpg&quot; alt=&quot;photo1234404346795&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/photo-1.jpg&quot; alt=&quot;photo-1&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Recruiting IT Talent</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/07/13/recruiting-it-talent/"/>
   <updated>2009-07-13T09:26:47-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/07/13/recruiting-it-talent</id>
   <content type="html">&lt;p&gt;An interesting &lt;a href=&quot;http://duckdown.blogspot.com/2009/07/recruiting-elite-it-talent.html&quot;&gt;article&lt;/a&gt; by James McGovern on recruiting IT talent.&lt;/p&gt;

&lt;p&gt;The gist of it is that it&amp;#39;s very difficult to rely upon resumes, and that we as an industry seem to put up with &amp;quot;falsification&amp;quot; of skills and keep people onboard who really don&amp;#39;t have the skills they need to do their job.&lt;/p&gt;

&lt;p&gt;It closes with the following statement:&lt;/p&gt;

&lt;blockquote&gt;&quot;World class organizations are built on foundations where people can trust each other and don&#39;t have to second guess the ability of the team. If you find yourself in a shop that doesn&#39;t get it and you stay, maybe you are getting exactly what you deserve... &quot; - James McGovern&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>Summary of Bad Week for Datacenters</title>
   <link href="http://benjchristensen.com/production%20problems/2009/07/13/summary-of-bad-week-for-datacenters/"/>
   <updated>2009-07-13T09:10:22-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/07/13/summary-of-bad-week-for-datacenters</id>
   <content type="html">&lt;p&gt;A summary of a bad week for Rackspace, Google and others:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datacenterknowledge.com/archives/2009/07/06/the-day-after-a-brutal-week-for-uptime/&quot;&gt;http://www.datacenterknowledge.com/archives/2009/07/06/the-day-after-a-brutal-week-for-uptime/&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Smitten</title>
   <link href="http://benjchristensen.com/personal/2009/07/10/smitten/"/>
   <updated>2009-07-10T08:44:00-07:00</updated>
   <id>http://benjchristensen.com/personal/2009/07/10/smitten</id>
   <content type="html">&lt;p&gt;I know this isn&amp;#39;t my personal photo gallery -- that lives elsewhere -- but my wife sent the following picture to me yesterday while she was out with my baby girl and I admit, I&amp;#39;m smitten. She&amp;#39;s my little girl and I&amp;#39;m wrapped around her finger.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/photo.jpg&quot; alt=&quot;photo&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ideal Equipment</title>
   <link href="http://benjchristensen.com/tools/2009/07/09/ideal-equipment/"/>
   <updated>2009-07-09T14:52:15-07:00</updated>
   <id>http://benjchristensen.com/tools/2009/07/09/ideal-equipment</id>
   <content type="html">&lt;p&gt;The following is my opinion of ideal equipment for developing - and anything else I do.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/picture-6.png&quot; alt=&quot;Picture 6&quot;&gt;&lt;/p&gt;

&lt;h3&gt;MacBook Pro 15-inch: 2.8GHz&lt;/h3&gt;

&lt;p&gt;8GB Memory&lt;/p&gt;

&lt;p&gt;7200 RPM 500GB Drive&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/picture-7.png&quot; alt=&quot;Picture 7&quot;&gt;&lt;/p&gt;

&lt;h3&gt;LED Cinema Display (24&amp;quot;)&lt;/h3&gt;

&lt;p&gt;Because one display is never enough.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Rackspace DFW Power Issues. Again.</title>
   <link href="http://benjchristensen.com/production%20problems/2009/07/09/rackspace-dfw-power-issues-again/"/>
   <updated>2009-07-09T14:38:16-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/07/09/rackspace-dfw-power-issues-again</id>
   <content type="html">&lt;p&gt;Twice in the last two weeks the Rackspace DFW (Dallas/Fort-Worth) data center has lost power to sections of its facility.&lt;/p&gt;

&lt;blockquote&gt;Message from Rackspace CEO Lanham Napier

**June 30, 2009**

Rackspace community,

Yesterday afternoon at 3:15CDT our data center in Dallas experienced an interruption in power to portions of the facility.  The interruption caused customer servers to lose power and go down.

...

**Notice * July 7****, 2009, 11:44 am CDT: **Today a portion of our Dallas data center experienced a brief power interruption. Rackspace is aware of this issue and is currently investigating it. We will be sending out periodic updates as more information becomes available.

![Picture 4](http://benjchristensen.files.wordpress.com/2009/07/picture-4.png)

![Picture 5](http://benjchristensen.files.wordpress.com/2009/07/picture-5.png)&lt;/blockquote&gt;

&lt;p&gt;I commend their transparency through the use of Twitter and their blog, but rather disconcerting since it&amp;#39;s the datacenter I use and pay a premium for the amount of &amp;quot;redundancy&amp;quot; they are supposed to have, and the fact they had issues in &lt;a href=&quot;http://www.datacenterknowledge.com/archives/2007/11/13/additional-details-on-rackspace-outages/&quot;&gt;November 2007&lt;/a&gt; as well. More information &lt;a href=&quot;http://laughingsquid.wordpress.com/2007/11/12/massive-power-outage-at-rackspace-dallas-data-center/&quot;&gt;here&lt;/a&gt; about that &lt;a href=&quot;http://valleywag.gawker.com/321909/rackspace-outage-was-third-in-two-days&quot;&gt;outage&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Google App Engine Down for 6 Hours</title>
   <link href="http://benjchristensen.com/production%20problems/2009/07/09/google-app-engine-down-for-6-hours/"/>
   <updated>2009-07-09T14:21:20-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/07/09/google-app-engine-down-for-6-hours</id>
   <content type="html">&lt;p&gt;In my ongoing collection of &amp;quot;big guys having trouble&amp;quot;, Google&amp;#39;s &amp;quot;App Engine&amp;quot; services were &lt;a href=&quot;http://www.theregister.co.uk/2009/07/02/google_app_engine_fail/&quot;&gt;down for 6 hours&lt;/a&gt; on July 2nd.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;http://www.theregister.co.uk/2009/07/06/dziuba_google_app_engine/&quot;&gt;scathing rant&lt;/a&gt; about Google&amp;#39;s lack of clarity on what went wrong and what&amp;#39;s being done about it - and therefore the lack of confidence in using the service.&lt;/p&gt;

&lt;p&gt;Google&amp;#39;s posting about the issue are found &lt;a href=&quot;http://groups.google.com/group/google-appengine-downtime-notify/browse_thread/thread/f7596d1d0bd0f0f9?hl=en&amp;amp;pli=1&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/picture-3.png&quot; alt=&quot;Picture 3&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Impact of Tools on Productivity</title>
   <link href="http://benjchristensen.com/tools/2009/07/08/impact-of-tools-on-productivity/"/>
   <updated>2009-07-08T18:22:50-07:00</updated>
   <id>http://benjchristensen.com/tools/2009/07/08/impact-of-tools-on-productivity</id>
   <content type="html">&lt;p&gt;Yesterday I was &lt;a href=&quot;http://benjchristensen.com/2009/07/07/netbeans-heap-profiler-works-well/&quot;&gt;analyzing java heap dumps&lt;/a&gt; at my office using a Mac Pro with 8 Xeon CPU cores and 16GB of memory.&lt;/p&gt;

&lt;p&gt;It took 30-60 seconds to load a 3.5GB file and was very usable while browsing the heap and analyzing it.&lt;/p&gt;

&lt;p&gt;When I got home I wanted to peruse it a little more. I just had my laptop, a MacBook Pro with a Core 2 Duo 2.5GHz and 4GB memory.&lt;/p&gt;

&lt;p&gt;It took over 20 minutes just to load the file, and the machine was virtually unusable that entire time. Once loaded, every click of the mouse took time ranging from a noticeable lag to multiple seconds of being hung. The machine was swapping to death. Even though I have a very high end laptop, it just couldn&amp;#39;t handle what I was throwing at it as compared to the very powerful desktop machine.&lt;/p&gt;

&lt;p&gt;I gave up rather quickly as the &lt;a href=&quot;http://benjchristensen.com/2009/06/26/speed-of-thought/&quot;&gt;friction&lt;/a&gt; of using the system was too high. I didn&amp;#39;t have the patience to deal with it - I just waited until I returned to the office today and again used the Mac Pro.&lt;/p&gt;

&lt;p&gt;It has made me think again about what kind of equipment is provided to development teams. I know for a fact that my extended team of 40+ overseas don&amp;#39;t have a single machine in their office as powerful as the Mac Pro I was using.&lt;/p&gt;

&lt;p&gt;So, if one of them needed to analyze that heap dump, profile a large server application or do some other intensive task, what would they do? Deal with 20 minute waits as opposed to 30 seconds, and multi-second pauses between each mouse click - and waste a day in their effort instead of minutes or hours of effective work allowing their tools to work as fast as their thoughts?&lt;/p&gt;

&lt;p&gt;One could argue that a remote server, such as one at EC2 could be used for a couple hours by using a web based solution like JHat to analyze the heap. Except that &lt;a href=&quot;http://twitter.com/benjchristensen/status/2534093699&quot;&gt;didn&amp;#39;t work&lt;/a&gt; so well.&lt;/p&gt;

&lt;p&gt;How much productivity is lost because a developer is given equipment below actual requirements, or by making them use the same machine long past its usefulness (3 years is an eternity for a developer, yet is a standard &amp;#39;depreciation&amp;#39; time for which a developer is often made to endure their machine).&lt;/p&gt;

&lt;p&gt;For example, I have 4GB on my laptop and push on that limit constantly. Yet I know a lot of my team only has 2GB, and are working on CPU architectures several years old.&lt;/p&gt;

&lt;p&gt;For a US developer this is just silly - as having new equipment every 18-24 months is a fraction of the cost of the persons salary, and in my opinion more than makes up for itself in improved productivity as well as morale.&lt;/p&gt;

&lt;p&gt;For an offshore developer, with much lower salary costs it&amp;#39;s a higher fraction, but still I believe its dividends are worth it.&lt;/p&gt;

&lt;p&gt;This applies to all types of tools and equipment for developers: faster machines, more memory, &lt;a href=&quot;http://martinfowler.com/bliki/BigScreen.html&quot;&gt;dual large monitors&lt;/a&gt;, commercial software as opposed to everything being opensource and other such things.&lt;/p&gt;

&lt;p&gt;People are expensive. I think it&amp;#39;s more cost effective to spend a little on the right equipment and increase productivity and morale of development teams by giving them the right tools - as I had while analyzing heap dumps.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Effective Distributed Development</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/07/08/effective-distributed-development/"/>
   <updated>2009-07-08T14:05:28-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/07/08/effective-distributed-development</id>
   <content type="html">&lt;p&gt;In a previous post I spoke of &amp;quot;&lt;a href=&quot;http://benjchristensen.com/2009/06/23/scaling-distributed-development/&quot;&gt;scaling distributed development&lt;/a&gt;&amp;quot; in reference to the challenges in increasing the size of a team and the complexity of projects while working under limitations of the experience level of developers available in the remote location.&lt;/p&gt;

&lt;p&gt;Continuing on this theme I have continued pondering what it takes to effectively do development with a remote office.&lt;/p&gt;

&lt;p&gt;I use the term &amp;quot;distributed development&amp;quot; as opposed to &amp;quot;outsourcing&amp;quot; since the word outsourcing generally implies one company sending the work to a second company - not multiple teams of the same company in different geographic regions, but my thoughts more or less apply to both scenarios.&lt;/p&gt;

&lt;p&gt;My thoughts are shaped greatly by my experience with a remote development team in Pakistan and myself based in the US. Therefore they may or may not be applicable to other regions such as India and China.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What I Feel is Necessary for Effective Remote Development&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;In order for remote development to be successful, I believe the following things are necessary:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Senior &lt;a href=&quot;http://benjchristensen.com/2009/06/23/definition-of-a-tech-lead/&quot;&gt;leads&lt;/a&gt; &amp;quot;on the ground&amp;quot; with the team who have experience gained over years of development and most importantly in delivery of applications to customers and operating them in production.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Frequent communication between the US and remote office with as much of it being in &amp;quot;real-time&amp;quot; as possible, not just &amp;quot;touching base&amp;quot; morning and night. Development is not a shift-work job like a factory. Continuity and comprehensive knowledge is critical.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Human interaction through travel and face-to-face meetings. Nothing establishes team rapport like sharing a meal together. Rapport is what enables communication and difficult work to be done together in the long haul. Relations can be built remotely - but much more slowly, with much more effort and with far fewer people.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The ratio of senior to junior must be healthy. Too few senior resources means the junior developers are not getting the mentoring and guidance they need, they make mistakes, code quality goes down, production issues arise, morale decreases. It&amp;#39;s my belief that a senior developer can handle no more than 5 junior developers if one expects proper mentoring, training and good code quality. This ratio may be able to change if there are solid &amp;#39;intermediate&amp;#39; developers who can then have junior developers managed by them, but I have not seen this work very well. Intermediate generally means you&amp;#39;re not fresh (completely junior) but you still need guidance, direction and mentoring, and are therefore not ready to lead, mentor or manage others and therefore should not be setup to fail as such.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The developers themselves must be consumers of technology products. If a developer writing an ecommerce application has never actually purchased a product online and had it shipped to their door, they have no common relationship to &amp;quot;how it should work&amp;quot; let alone &amp;quot;how it should feel&amp;quot;. Common sense is taken for granted - it is something learned through life experience.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Positives of Pakistan Remote Development&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;In 7 years of working with Pakistan developers, and likely seeing over 100 developers during that time, I have found the following to be true.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Very intelligent.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Very eager to work and grow.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Amazing work ethic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;English language skills (for being a non-english country) are quite good.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Of course, the extremely low cost is a final factor that can not be ignored and is the driving reason for having a team in Pakistan.&lt;/p&gt;

&lt;p&gt;I have delivered some significant software and production systems with Pakistan development teams - myself being the only US based person. It can work and be very cost effective and rewarding.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Negatives of Pakistan Remote Development&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;There are definite drawbacks however to working remotely in Pakistan.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Time Zone&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The time difference is 12 hours (from Mountain or Pacific US time depending on time of year) which makes real-time communication very difficult as it is limited to early morning or late night. It would be perfect for shift-work as you could do hand-offs every 12 hours - but development is not that type of work.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Cultural&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Cultural difference means that &amp;quot;common sense&amp;quot; in each country is very different. Thought process is definitely different. Consumer experience with technology products is limited. This has an impact on understanding and requires much more detailed communication, requirements definitions and business reviews as nothing can be taken for granted. When it is, or something is &amp;quot;assumed&amp;quot;, the cost is wrong implementations and/or delayed timelines.&lt;/p&gt;

&lt;p&gt;Perhaps another cultural difference and a side effect of the positive eagerness is not knowing what they don&amp;#39;t know. A desire to try something does not equate to knowing what or how to do it. Saying &amp;quot;yes&amp;quot; is great - except when that &amp;quot;yes&amp;quot; is not accompanied by a comprehension of what it entails. Commitments to deliverables can be rather misleading if in fact the person does not know what has been committed to or know how to deliver it, but wants to try it all the same - and therefore says yes.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Geopolitical&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Let&amp;#39;s face it, Pakistan is not an ideal place in the world these days. It hasn&amp;#39;t been for years and likely won&amp;#39;t be for many more. My hopes and prayers are that the country will improve in its stability, infrastructure, economy, education and other matters, but today it is not a country many people desire to be in. This is a big part of why the cost is so low to hire people in the country. At the same time, it has a very significant impact on talent: people don&amp;#39;t stay.&lt;/p&gt;

&lt;p&gt;Virtually anyone with a skill and the opportunity to leave will do so. It is evident to me in how many people I have seen emigrate away from Pakistan to Canada, US, Britain, Singapore and other countries over the years. It is more evident in the seemingly complete lack of &amp;quot;senior&amp;quot; talent in Pakistan.&lt;/p&gt;

&lt;p&gt;It is virtually impossible to find and retain a &amp;quot;senior&amp;quot; level developer with 8+ years of experience, let alone 15+. Even 5+ is hard to find.&lt;/p&gt;

&lt;p&gt;If the effort is made to train someone, after a few years as their skills and experience mature, the pull to leave the country increases and the company loses them.&lt;/p&gt;

&lt;p&gt;I understand the pull. I work with 3 people in the US all who have immigrated from Pakistan. Incredibly smart, hard working people - very good at what they do. But they all left Pakistan instead of living their lives and careers there.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Impact on Cost and Productivity&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Considering the extremely low cost of developers in Pakistan, doesn&amp;#39;t that outweigh the negatives?&lt;/p&gt;

&lt;p&gt;Under certain conditions, it can work very well, but those conditions must be met or it falls apart, and in general I question the actual &amp;quot;low&amp;quot; costs.&lt;/p&gt;

&lt;p&gt;Assuming communication and timezones are dealt with, and the cultural barriers addressed - one item can not be overcome through any amount of process, hard work or documentation. Geopolitical.&lt;/p&gt;

&lt;p&gt;The geopolitical situation is beyond resolution for any one company or team, and it is a force that can not be ignored. To ignore it is to invite failure.&lt;/p&gt;

&lt;p&gt;Long timelines, poor quality code, production issues and failed deliverables are all symptoms of one thing: a team that does not have the skills to deliver on what is being attempted.&lt;/p&gt;

&lt;p&gt;What about mentoring, grooming and training? All of these are great - but if the people that are trained do not stick around longer than the training, then there is an incredible cost of training that is not recouped.&lt;/p&gt;

&lt;p&gt;The senior developers spend their time training, not developing. Then the junior developers leave before they can become productive. The time of the senior developer is wasted as far as the company is concerned. The senior developer is seen to be &amp;quot;unproductive&amp;quot; because delivery is so slow - yet they have no control over the loss of the junior resources who were just getting good enough to work productively.&lt;/p&gt;

&lt;p&gt;To make up for it, more junior developers are added - making the matter worse. A higher ratio of junior to senior means less mentoring and training for each developer. This means lower morale, lower skills, and poorer quality of delivery.&lt;/p&gt;

&lt;p&gt;This catches up -- bugs, production issues, delivery failures, long timelines. This then leads to morale problems and further turnover of resources, generally the ones with the most potential and skill.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Remote teams such as this can work very well if they are small and directly led by a senior developer lead.&lt;/p&gt;

&lt;p&gt;Mentoring and grooming of developers in Pakistan (or other remote locations) can be done and can be successful. I&amp;#39;ve done it. It has worked well. It has only worked well though when the remote team has worked my hours and the team size was small -- so that I had constant real-time communication. I did this for several years.&lt;/p&gt;

&lt;p&gt;This however does not grow a business if those people don&amp;#39;t stick around. &lt;a href=&quot;http://benjchristensen.com/2009/06/23/scaling-distributed-development/&quot;&gt;Nor does it scale.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thus, I believe the actual cost of development for an outsourced development team with these traits is in fact much higher than the monthly salary of a developer in Karachi.&lt;/p&gt;

&lt;p&gt;If a senior developer from the US is spending 75% of their time mentoring, training, grooming and managing junior developers - and those developers all leave within 2-3 years, what is the cost of that 75% of time compared to if it had been spent developing the products directly?&lt;/p&gt;

&lt;p&gt;If a 4 month project takes 8 months because of junior talent, and 4 months of sales are lost because of this, are those 4 months of sales higher or lower than the cost of having a team of more senior talent?&lt;/p&gt;

&lt;p&gt;To ignore these facts and not look at the actual costs is to set oneself up for failure.&lt;/p&gt;

&lt;p&gt;No amount of documentation, process, hope or patriotism can overcome the geopolitical issues and lack of long-term talent.&lt;/p&gt;

&lt;p&gt;So what is the solution?&lt;/p&gt;

&lt;p&gt;The first thought is to have everything return to the US (or Europe, Canada etc, wherever the parent company resides) where developers expect to live their lives and have long careers, so talent can be groomed and retained.&lt;/p&gt;

&lt;p&gt;Some business models just can&amp;#39;t afford this however. In that case, another location must be found where the following applies:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;cost of developers at least half of the US&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;geopolitical situation where developers desire to stay, to live their full careers in their country&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;good english communication skills&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;intelligent and educated people&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;preferably a culture exposed to technology driven consumerism&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;preferably in a more similar timezone to the &amp;quot;parent company&amp;quot;, in this case, the US timezones&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;safe and easy for North Americans and Europeans to travel to and stay for extended periods of time&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I believe distributed development is here to stay, and creates significant value when done correctly. It is not an easy thing to do well though. Nor does ignoring the challenges of culture, distance, time and politics benefit the business.&lt;/p&gt;

&lt;p&gt;I want to see a distributed team setup according to the thoughts I&amp;#39;ve described above and see it achieve the level of productivity and efficiency that is its potential.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Netbeans Heap Profiler Works. Well.</title>
   <link href="http://benjchristensen.com/production%20problems/tools/2009/07/07/netbeans-heap-profiler-works-well/"/>
   <updated>2009-07-07T13:23:57-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/tools/2009/07/07/netbeans-heap-profiler-works-well</id>
   <content type="html">&lt;p&gt;Netbeans (which I never use) has seemingly come a long way since I last looked at it. The UI is certainly a lot nicer.&lt;/p&gt;

&lt;p&gt;Today however, it&amp;#39;s the &lt;a href=&quot;http://www.netbeans.org/features/java/profiler.html&quot;&gt;Heap Profiler&lt;/a&gt; that I&amp;#39;m happy with - cause it actually works unlike anything else I&amp;#39;ve tried today.&lt;/p&gt;

&lt;p&gt;It loaded a 3.5GB  heap in less than 30 seconds! (I had set my max heap for Netbeans to 12GB on my 16GB, 8-core machine).&lt;/p&gt;

&lt;p&gt;Finally a tool for heap analysis that works and works well. And it&amp;#39;s elegant looking at the same time.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/picture-2.png&quot; alt=&quot;Netbeans Heap Profiler&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Memory Analyzer Can't Handle Large Heaps</title>
   <link href="http://benjchristensen.com/production%20problems/tools/2009/07/07/memory-analyzer-cant-handle-large-heaps/"/>
   <updated>2009-07-07T13:10:33-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/tools/2009/07/07/memory-analyzer-cant-handle-large-heaps</id>
   <content type="html">&lt;p&gt;Despite the &lt;a href=&quot;http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ#Out_of_Memory_Error_while_Running_the_Memory_Analyzer&quot;&gt;claims&lt;/a&gt; that &lt;a href=&quot;http://www.eclipse.org/mat/&quot;&gt;Memory Analyzer&lt;/a&gt; works well with large heaps, the following screenshot is the evidence of my continued inability to have it parse a 3.5GB heap dump.&lt;/p&gt;

&lt;p&gt;I have attempted JDK 5 and JDK 6, both 64-bit, with up to 14GB of memory allocated on an 8-core machine with 16GB of memory.&lt;/p&gt;

&lt;p&gt;Note the memory bar at the bottom showing it&amp;#39;s using only 2121M out of 11879M - yet it still thinks it&amp;#39;s running out of memory.&lt;/p&gt;

&lt;p&gt;The settings are:&lt;/p&gt;

&lt;blockquote&gt;-vmargs

-Xms12g

-Xmx14g

-XX:MaxPermSize=1G

-Dorg.eclipse.swt.internal.carbon.smallFonts

-XstartOnFirstThread&lt;/blockquote&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;-vmargs&lt;/p&gt;

&lt;p&gt;-Xms12g&lt;/p&gt;

&lt;p&gt;-Xmx14g&lt;/p&gt;

&lt;p&gt;-XX:MaxPermSize=1G&lt;/p&gt;

&lt;p&gt;-Dorg.eclipse.swt.internal.carbon.smallFonts&lt;/p&gt;

&lt;p&gt;-XstartOnFirstThread&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/07/picture-1.png&quot; alt=&quot;Memory Analyzer OutOfMemory&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Henry Kissinger on U.S. Foreign Policy</title>
   <link href="http://benjchristensen.com/politics/2009/07/07/henry-kissinger-on-u-s-foreign-policy/"/>
   <updated>2009-07-07T00:50:04-07:00</updated>
   <id>http://benjchristensen.com/politics/2009/07/07/henry-kissinger-on-u-s-foreign-policy</id>
   <content type="html">&lt;p&gt;Good article interviewing Henry Kissinger: &lt;a href=&quot;http://abcnews.go.com/International/story?id=8010889&quot;&gt;http://abcnews.go.com/International/story?id=8010889&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some good quotes from it:&lt;/p&gt;

&lt;p&gt;SPIEGEL: Despite the failure of Versailles, this Wilsonian idea is remarkably prevalent. Is our affinity to the ideals of democracy perhaps naïve?&lt;/p&gt;

&lt;p&gt;Kissinger: The belief in democracy as a universal remedy regularly reappears in American foreign policy. Its most recent appearance came with the so-called neocons in the Bush administration. Actually, Obama is much closer to a realistic policy on this issue than Bush was.&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;SPIEGEL: Do concepts like &amp;quot;good&amp;quot; and &amp;quot;evil&amp;quot; make sense in the context of foreign policy?&lt;/p&gt;

&lt;p&gt;Kissinger: Yes, but generally in gradations. Rarely in absolutes. I think there are kinds of evil that need to be condemned and destroyed, and one should not apologize for that. But one should not use the existence of evil as an excuse for those who think that they represent good to insist on an unlimited right to impose their definition of their values.&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;SPIEGEL: What&amp;#39;s the difference between the conflicts in Europe in the early 20th century and the conflicts we are facing in today&amp;#39;s world?&lt;/p&gt;

&lt;p&gt;Kissinger: In previous periods, the victor could promise itself some benefit. Under the current circumstances,that no longer applies. A clash between China and the United States,for example, would undermine both countries.&lt;/p&gt;

&lt;blockquote&gt;**SPIEGEL: Despite the failure of Versailles, this Wilsonian idea is remarkably prevalent. Is our affinity to the ideals of democracy perhaps naïve?**

Kissinger: The belief in democracy as a universal remedy regularly reappears in American foreign policy. Its most recent appearance came with the so-called neocons in the Bush administration. Actually, Obama is much closer to a realistic policy on this issue than Bush was.

...

**SPIEGEL: Do concepts like &quot;good&quot; and &quot;evil&quot; make sense in the context of foreign policy?**

Kissinger: Yes, but generally in gradations. Rarely in absolutes. I think there are kinds of evil that need to be condemned and destroyed, and one should not apologize for that. But one should not use the existence of evil as an excuse for those who think that they represent good to insist on an unlimited right to impose their definition of their values.

...

**SPIEGEL: What&#39;s the difference between the conflicts in Europe in the early 20th century and the conflicts we are facing in today&#39;s world?**

Kissinger: In previous periods, the victor could promise itself some benefit. Under the current circumstances,that no longer applies. A clash between China and the United States,for example, would undermine both countries.&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title>Micro-Blogging with Twitter</title>
   <link href="http://benjchristensen.com/personal/tools/2009/07/06/micro-blogging-with-twitter/"/>
   <updated>2009-07-06T20:39:13-07:00</updated>
   <id>http://benjchristensen.com/personal/tools/2009/07/06/micro-blogging-with-twitter</id>
   <content type="html">&lt;p&gt;I started using Twitter about 2 weeks ago. Before that I thought Twitter was a silly thing. Why would I want to post &amp;quot;what I&amp;#39;m doing&amp;quot; at any given moment?&lt;/p&gt;

&lt;p&gt;However, a handful of people whose blogs I follow began migrating more and more of their commentary to Twitter. In fact, one of them retired from blogging and only uses Twitter now. Thus, I started an account so I could follow these few people.&lt;/p&gt;

&lt;p&gt;I soon came to recognize Twitter for what it can actually be used for - micro-blogging. It&amp;#39;s not just &amp;quot;status updates&amp;quot; as used by teens, tweens and soccer moms - but a viable communication platform for short thoughts and messages that would often go un-written, un-shared, un-communicated (pardon the poor grammar) because traditional blogging (if a 5 year old concept can be considered traditional) needs more content than a single sentence to be bothered with.&lt;/p&gt;

&lt;p&gt;To post a blog entry it needs at least a title plus a paragraph.&lt;/p&gt;

&lt;p&gt;With Twitter, you just need the title.&lt;/p&gt;

&lt;p&gt;Thus, the sharing of thoughts, ideas, quotes, links etc all become more natural because there is less friction in doing so.&lt;/p&gt;

&lt;p&gt;As I commented in an earlier post on &amp;quot;&lt;a href=&quot;http://benjchristensen.wordpress.com/2009/06/26/speed-of-thought/&quot;&gt;Speed of Thought&lt;/a&gt;&amp;quot;, if something has friction, it it less likely to be used or performed. The same with sharing of thoughts and ideas.&lt;/p&gt;

&lt;p&gt;Blogging reduced the friction greatly from the techniques before it, and Twitter (or micro-blogging more generically) appears to be doing the same for a realm of communication previously not very feasible to attempt.&lt;/p&gt;

&lt;p&gt;I have &lt;a href=&quot;http://twitter.com/benjchristensen&quot;&gt;posted 83 messages&lt;/a&gt; in 18 days since starting - some benign, others more thoughtful. A mixture of personal and professional.&lt;/p&gt;

&lt;p&gt;I do not see Twitter as a replacement of blogs. I see them as very compatible mediums that mix together to create a stream of thoughts and ideas - to be shared and create dialog. In fact, I have mixed them now on this blog as shown by the Twitter feed in the right column, providing a single place to find my thoughts - both those well thought out and edited as blog entries, and those more &amp;quot;sound bite&amp;quot; sized from Twitter.&lt;/p&gt;

&lt;p&gt;Despite my views on the subject just 3 weeks ago, I now think Twitter is a valuable addition to our communication toolset alongside email, RSS and blogs.&lt;/p&gt;

&lt;p&gt;If you&amp;#39;re still questioning the significance of Twitter and think it&amp;#39;s just celebrities, teens and tweens, check out some of the following which are a few I follow:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;(CNN Breaking News) &lt;a href=&quot;https://twitter.com/whitehouse&quot;&gt;https://twitter.com/cnnbrk&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Reuters News) &lt;a href=&quot;https://twitter.com/Reuters&quot;&gt;https://twitter.com/Reuters&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Al Jazeera News) &lt;a href=&quot;https://twitter.com/AJEnglish&quot;&gt;https://twitter.com/AJEnglish&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Application Architect) &lt;a href=&quot;https://twitter.com/martinfowler&quot;&gt;https://twitter.com/martinfowler&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Enterprise Architect) &lt;a href=&quot;https://twitter.com/mcgoverntheory&quot;&gt;https://twitter.com/mcgoverntheory&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Data Center) &lt;a href=&quot;https://twitter.com/Rackspace&quot;&gt;https://twitter.com/Rackspace&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(USA White House) &lt;a href=&quot;https://twitter.com/whitehouse&quot;&gt;https://twitter.com/whitehouse&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Muse - a great band) &lt;a href=&quot;https://twitter.com/musewire&quot;&gt;https://twitter.com/musewire&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The fact that companies, news agencies and governments are using the medium for instant communication - not just personal friends - is an amazing convergence of parties making the medium that much more powerful and useful.&lt;/p&gt;

&lt;p&gt;Communicating and staying in touch with so many diverse parties has never had as little friction as this.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Atlassian has Outage</title>
   <link href="http://benjchristensen.com/production%20problems/2009/07/02/atlassian-has-outage/"/>
   <updated>2009-07-02T11:35:33-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/07/02/atlassian-has-outage</id>
   <content type="html">&lt;p&gt;I couldn&amp;#39;t access my hosted Confluence system this morning. An email just showed up confirming the issue.&lt;/p&gt;

&lt;p&gt;&amp;quot;Earlier today, from 9:41 am to 10:17am PST, we experienced network issues that impacted our data center.  At this time we do not know the exact root cause of the problem. &amp;quot;&lt;/p&gt;

&lt;p&gt;-- from an email I received &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Communicating Product Requirements</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/07/01/communicating-written-product-requirements/"/>
   <updated>2009-07-01T13:37:43-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/07/01/communicating-written-product-requirements</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve spent the last day considering product and/or project requirements - in particular how to document and communicate them.&lt;/p&gt;

&lt;p&gt;A draft of a requirements document numbering in excess of 100 pages has very thoroughly covered the technical definitions of all of the various &amp;#39;features&amp;#39; - what the system needs to contain. However, it reads like a dictionary definition and does not in any way help me understand the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;What is the business purpose of the product?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is the business purpose of a particular requirement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What are the use cases that requirement must serve?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Who will use the specific requirement and for what?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How does a given requirement fit into the overall system so I know its context?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How will the product implement the feature that address the given requirement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where in the system architecture should the developers implement the given feature?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I became aware while reading that most of the people for whom this document exists would not have a much better understanding of what needs to be built after reading the document than from before.&lt;/p&gt;

&lt;p&gt;During my consideration I listened to a podcast on &amp;quot;&lt;a href=&quot;http://www.se-radio.net/podcast/2008-10/episode-114-christof-ebert-requirements-engineering&quot;&gt;requirements engineering&lt;/a&gt;&amp;quot; that interviewed Christof Ebert.&lt;/p&gt;

&lt;p&gt;I think the recommendations and principles are valuable regardless of what process is followed -- whether they are done upfront or at the beginning of each iteration with waterfall, agile or a mixture of both.&lt;/p&gt;

&lt;p&gt;A few notes from the podcast:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What Requirements Should Define&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;What the Customer Needs Are&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What the Product Should Do&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How the Product Should Do It&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Common Requirement Problems&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Missing Requirements: Incorrect effort or tactics to seek out (elicit) all of the requirements.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrong Requirements: Poor capture, communication or lack of validation with stakeholders.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Changing Requirements: Requirements are never static, they always change.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;3 Levels of Requirements That Need to be Addressed&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Market (External)&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;what user or client expects&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the &amp;quot;problem space&amp;quot;, defining the problem and what is desired to solve it&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;what will make the product successful&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Product (Internal)&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;what the product will do&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;how the product will address the market requirements&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the &amp;quot;solution space&amp;quot;, defining the solution that will meet the user (market) requirements&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;define what functionality and requirements will be made into a product&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Component (Software)&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;lower level details of how to implement the requirements in software&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;non-functional requirements such as quality, service levels, maintainability etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;context of requirement in overall system&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;What is good enough?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Reality must be paid attention to. Generally the economics of a project can not justify the &amp;quot;ivory tower&amp;quot; of solutions for all aspects of a project.&lt;/p&gt;

&lt;p&gt;What is good enough to serve the user - in both functional and non-functional requirements?&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What is of high priority?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Almost always there is more work to be done than resources, so what is of priority?&lt;/p&gt;

&lt;p&gt;What can and will be committed to for development, with what resources and by when?&lt;/p&gt;

&lt;p&gt;What can users live without, what must they have?&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My Final Thoughts&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;As I prepare to attempt a revision of the requirements I&amp;#39;m working on, I must remember the primary reason for the documents existence: to communicate to developers, QA, analysts and business the reason for the product, what value it&amp;#39;s creating and what use cases it will provide functionality for.&lt;/p&gt;

&lt;p&gt;If it doesn&amp;#39;t leave the reader with comprehension of what they&amp;#39;ll end up with at the end of development - at least at a 10,000 foot level - and is just a list of features with no context or purpose, then it&amp;#39;s a failure, no matter the length or level of detail.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Speed of Thought</title>
   <link href="http://benjchristensen.com/architecture/performance/production/user%20interface/2009/06/26/speed-of-thought/"/>
   <updated>2009-06-26T13:29:49-07:00</updated>
   <id>http://benjchristensen.com/architecture/performance/production/user%20interface/2009/06/26/speed-of-thought</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve focused on performance for several years in my server-side and web application development - as much as I&amp;#39;ve been able to fit into the timelines. It has involved digging into minute details of Java and JVM tuning that rarely get explored by most java developers (from what I can tell anyways) and focusing on tuning the CSS, images, caching, GZIP and other settings of the front-end. It has generally paid off. Today my team operates servers processing millions of complex, dynamic, uncacheable web service transactions completing on average in around 250ms each (server side, not including network transport to client). I believe with further investment we could improve that even more.&lt;/p&gt;

&lt;p&gt;I have read comments from companies such as Google and Amazon how the performance of an application can dramatically affect how much people use it. I agree. The slightest friction in searching makes me search less, or shop less, etc.&lt;/p&gt;

&lt;p&gt;This past week I&amp;#39;ve been using the new iPhone 3GS which is at least 2x faster than the previous iPhone 2G I had. In some cases it&amp;#39;s 4x and 6x faster.&lt;/p&gt;

&lt;p&gt;I already used the iPhone a lot. The increase in speed has further reduced the &amp;quot;friction&amp;quot; of use to the point that if I even have a thought of quickly looking something up or performing some other action, I am much more likely to do it.&lt;/p&gt;

&lt;p&gt;On my last iPhone, I consciously chose to not bother at certain times because of the time it would take. Yes, I&amp;#39;m talking in seconds and even milliseconds here -- but when it&amp;#39;s a &amp;quot;thought&amp;quot;, if the tool doesn&amp;#39;t work at the same speed, then it&amp;#39;s friction. Same goes for another application I use which involves looking up reference materials and documents. Before I kind of had to avoid &amp;quot;flipping around&amp;#39; while someone was referring to things. It was actually faster to use the paper documents. Now, I can keep up or be faster with my iPhone than the paper version &amp;#39;users&amp;#39;. Therefore it encourages use.&lt;/p&gt;

&lt;p&gt;The new user experience of using the iPhone 3GS, so significantly improved just by the performance improvement, has reminded me as a developer and architect how critical it is to design, plan for and develop to achieve high performance. Functionality isn&amp;#39;t enough -- we should be aiming for the &amp;quot;speed of thought&amp;quot;.&lt;/p&gt;

&lt;p&gt;Interestingly, Google has just launched a new site just for &amp;quot;&lt;a href=&quot;http://code.google.com/speed/&quot;&gt;speeding up the web&lt;/a&gt;&amp;quot;.&lt;/p&gt;

&lt;p&gt;The following video shows &amp;quot;the experts&amp;quot; talking about how the human mind perceives changes of 100ms (one tenth of a second).&lt;/p&gt;

&lt;p&gt;[youtube=http://www.youtube.com/watch?v=aXJklICrFJI&amp;color1;=0xb1b1b1&amp;color2;=0xcfcfcf&amp;hl;=en&amp;feature;=player_embedded&amp;fs;=1]&lt;/p&gt;

&lt;p&gt;It&amp;#39;s my belief that this isn&amp;#39;t just a &amp;quot;nice to have&amp;quot; feature. If a product, service or application wants to be adopted and deemed &amp;quot;necessary&amp;quot; by its users, its performance must reduce friction as much as technically feasible to the point where it approaches or achieves &amp;quot;speed of thought&amp;quot;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Eclipse Galileo (3.5) and Subversion</title>
   <link href="http://benjchristensen.com/tools/2009/06/24/eclipse-galileo-3-5-and-subversion/"/>
   <updated>2009-06-24T12:35:39-07:00</updated>
   <id>http://benjchristensen.com/tools/2009/06/24/eclipse-galileo-3-5-and-subversion</id>
   <content type="html">&lt;p&gt;Eclipse still does not ship with subversion support by default.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s how I enabled it. Much easier than with Ganymede, but I still shouldn&amp;#39;t have to do this considering Subversion is used by 57.5% of the Eclipse users who responded to the recent survey.&lt;/p&gt;

&lt;p&gt;See page 3 of http://www.eclipse.org/org/press-release/Eclipse&lt;em&gt;Survey&lt;/em&gt;2009_final.pdf:&lt;/p&gt;

&lt;blockquote&gt;&quot;Subversion is the dominant Source Code Management system used by developers, with 57.5%.&quot;&lt;/blockquote&gt;

&lt;p&gt;Anyways, the following screenshots show how to install it from &amp;quot;Help -&amp;gt; Install New Software&amp;quot;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The first site &amp;quot;Galileo&amp;quot; is already included in Eclipse 3.5.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The second site is the following URL: &lt;strong&gt;http://www.polarion.org/projects/subversive/download/eclipse/2.0/update-site/&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/06/picture-4.png&quot; alt=&quot;Picture 4&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/06/picture-3.png&quot; alt=&quot;Picture 3&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Scaling Distributed Development</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/06/23/scaling-distributed-development/"/>
   <updated>2009-06-23T14:19:58-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/06/23/scaling-distributed-development</id>
   <content type="html">&lt;p&gt;Business demand as of late and future projects on my horizon are causing me to ponder and deeply consider the staffing requirements to deliver high quality, cost effective solutions in reasonable timelines.&lt;/p&gt;

&lt;p&gt;Over the past 7 years I have had very hands on experience with distributed development - working from the US with over 100 people in development, QA, operations and other teams in Karachi, Pakistan. It has included two personal trips to Pakistan, thousands of hours of MSN or Skype chatting and many odd working hours in order to accommodate a 12 hour time zone difference.&lt;/p&gt;

&lt;p&gt;[caption id=&amp;quot;attachment_105&amp;quot; align=&amp;quot;aligncenter&amp;quot; width=&amp;quot;300&amp;quot; caption=&amp;quot;June 2006 trip to Karachi, Pakistan&amp;quot;]&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/06/img_2348.jpg?w=300&quot; alt=&quot;IMG_2348&quot;&gt;[/caption]&lt;/p&gt;

&lt;p&gt;All in all it has been a fruitful experience. It has definitely had its troubles, pains and inefficiencies, but products and services have been delivered cost effectively to our customers ranging from Fortune 100 on down. Applications have been built which support 10s of millions of dollars in revenue and millions of transactions per day.&lt;/p&gt;

&lt;p&gt;In the past year however I have begun to see a different set of challenges emerge -- the ability to scale.&lt;/p&gt;

&lt;p&gt;By scale I mean 2 types of scale:&lt;/p&gt;

&lt;p&gt;1) Scaling the size of the team.&lt;/p&gt;

&lt;p&gt;By this I simply mean adding more people to the team in Karachi to accommodate increasing work load.&lt;/p&gt;

&lt;p&gt;2) Scaling the size and complexity of projects, code bases and system architecture.&lt;/p&gt;

&lt;p&gt;This refers to the ever increasing amount of code, projects and modules to manage and develop as years of projects become legacy or enter &amp;quot;operational support&amp;quot; status, as increased business success and growth demands more from its systems and feature sets become increasingly larger and as architectures require more advanced models such as SOA, distributed computing, distributed infrastructures etc to handle scale, volume and global distribution of business.&lt;/p&gt;

&lt;p&gt;In short, recent experience is leading me to believe that a ratio of approximately 1:5 is the maximum scale that can be achieved in a distributed development model. 1 &amp;quot;local&amp;quot; senior developer to 5 &amp;quot;remote&amp;quot; junior/intermediate developers.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Successful Experience&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A team of 5-10 junior/intermediate developers and QA working with leadership from 12 time zones away proved to work well when the following conditions were met:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The Karachi team worked their nights to accommodate the business and customer schedule which was US Pacific time zone.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Daily interaction between myself and the Karachi team accounting to several hours a day of direct real-time communication on design, planning, business, and code related subjects.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Micro-level involvement of myself at the code and task levels involving review of virtually every line of code written, every test, every deliverable.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Three successes came out of the 2+ years of this type of model:&lt;/p&gt;

&lt;p&gt;1) Successful and cost effective delivery of the projects.&lt;/p&gt;

&lt;p&gt;2) Mentoring, training and grooming of junior developers into what eventually became the best developer talent pool of the company in later years.&lt;/p&gt;

&lt;p&gt;One member of that original team in particular, after 3+ years of 10-12 hour work days, all night shift, has immigrated to the US and works as one of our key resources in the role of Application Architect. He had the raw materials, personal drive and competency, but the opportunity to progress from a fresh graduate to &amp;quot;senior&amp;quot; level skills and roles in a matter of years was obviously accelerated greatly by the virtually non-stop direct contact with a senior developer, high-profile projects and US customers.&lt;/p&gt;

&lt;p&gt;3) Proof that the distributed development model can work (under certain conditions at least).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What a Junior Developer Needs&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I have come to the conclusion that a junior or intermediate developer needs quick and constant communication with their &lt;a href=&quot;http://benjchristensen.wordpress.com/2009/06/23/definition-of-a-tech-lead/&quot;&gt;lead&lt;/a&gt; -- whatever we call that person (senior developer, architect, development manager etc).&lt;/p&gt;

&lt;p&gt;The lead must be capable of providing timely and thorough responses, training, mentoring and guidance.&lt;/p&gt;

&lt;p&gt;Nothing can replace working in the code together, explaining why decisions are made, how to refactor something, how to add a feature to an existing codebase, how to profile, tune, optimize, debug, test and deploy.&lt;/p&gt;

&lt;p&gt;Generally a young developer has little to no experience with &amp;quot;production&amp;quot; - what it really means to build and deliver a system that can be deployed and operate 24/7 -- by itself with little to no involvement from developers -- or even more difficult, be handed off to an operations team for deployment and operations with no direct involvement of the development team.&lt;/p&gt;

&lt;p&gt;The concepts of logging, configuration, performance, multi-threading, system interaction, hardware and infrastructure are all simple in dev. Until one has experienced true production, and more importantly -- issues in production, it&amp;#39;s difficult to understand why certain design decisions are made which seem to not be that important in dev, but make a significant impact in production, or to the teams maintaining production, or to the teams maintaining the code a year later.&lt;/p&gt;

&lt;p&gt;Raw intelligence and capability exists in many people in many locations, but the proximity and availability of skilled, experienced senior personnel is key to maturing the raw skills of the young inexperienced developers into productive &amp;quot;seasoned&amp;quot; developers&lt;/p&gt;

&lt;p&gt;No different than how a fresh graduate from a college in the US is of limited value until several years of grooming and experience under senior guidance, a developer working remotely has the same challenges -- but with some further hurdles:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Language barriers: Educated in english does not equate to fluent or comfortable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Time differences: If 2 people are 12 hours apart, that means that unless they purposefully shift their schedules, they only have a short window of time early morning and late night to work together.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Physical separation: Can&amp;#39;t just walk around the corner to ask a quick question and can&amp;#39;t easily judge the emotions of the person you&amp;#39;re working with.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cultural separation: Many things in North America and Europe are taken for granted, such as purchasing a product on Amazon.com and having it show up at your door 2 days later. If someone has never experienced this it&amp;#39;s much more difficult to relate to a US business requirement when they say &amp;quot;the user experience should be like Amazon.com&amp;quot;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The concept of &amp;quot;common sense&amp;quot; is not universal - it applies to experiences gained in relation to when, where and how one has lived.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;How I&amp;#39;ve Countered the Hurdles&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Language&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I have found that rarely is verbal communication a good thing, even when it appears that it&amp;#39;s going well.&lt;/p&gt;

&lt;p&gt;&amp;quot;Yes, I understand&amp;quot; is not a trust worthy statement in many cases - written or verbal - but specifically in verbal with developers whose English is a 2nd or 3rd language primarily learned through school, textbooks and the internet.&lt;/p&gt;

&lt;p&gt;Reading and writing on the other hand can generally have very high comprehension and actually be much faster.&lt;/p&gt;

&lt;p&gt;Using something like a Skype chat (text not verbal) allows for a number of positive things:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;built in meeting notes that can be referred back to&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dialect and speed of talking do not impair comprehension, as everyone can read and re-read if necessary what has been written&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;appropriate time to think (and translate thoughts to English if needed) is built in to the medium&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;multiple conversations can be had in multiple windows at a time if needed&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Time Difference&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;On the projects where I have been most successful, I eliminated the time difference barrier by having the Karachi team work US hours to align with our customers and US business.&lt;/p&gt;

&lt;p&gt;This solved 2 critical issues:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The team in Karachi could now participate in business and customer interaction and communicate directly with customers via phone calls, conference calls, Skype or MSN chats - instead of everything being done in emails with 12 hour intervals or routed back and forth through a single US contact&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The US team and Karachi team worked together as a true team with direct real-time communication all day. The Skype/MSN window became the office, talking almost as naturally via text as if we were next door.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Physical Separation&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;This is obviously the most difficult to solve, but handling the time difference by everyone working the same hours and having virtually permanent communication windows open at all times in many ways made this issue seem negligible. Yes whiteboarding is more challenging - and you all have to be fast typists, but it worked.&lt;/p&gt;

&lt;p&gt;It did not work for all though. I had several senior US/Canadian people that didn&amp;#39;t work out because they couldn&amp;#39;t adjust to an environment where typing instead of talking face-to-face was the primary means of interaction and whiteboarding could not be done in an impromptu manner.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Culture&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I have found no secret solution for this. I have had to learn to be extremely detailed in communication, take nothing for granted, think from their perspective and avoid colloquial use of the English language and all forms of sarcasm.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Challenge to Scaling Distributed Development&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Growing a team from 5 to 15 or 20 developers, but still having a single senior developer leading them has not worked well.&lt;/p&gt;

&lt;p&gt;Obviously the team of 20 is broken into smaller teams, and there are team leads.&lt;/p&gt;

&lt;p&gt;The challenge is as follows:&lt;/p&gt;

&lt;p&gt;If a &amp;quot;team lead&amp;quot; has 4-5 years of experience, and that experience itself is of only limited exposure to senior skillsets, then that person is being setup to fail as they do not yet have the skills, experience, maturity or understanding to do what they are being asked to do.&lt;/p&gt;

&lt;p&gt;This person, who may be an excellent developer on a 5 person team led by 1 senior developer - when asked to lead the development of 5 others is now put in a position where they are struggling to deliver, they are not able to learn as they once did while working just as a developer with the senior developer and the 5 below them are learning even less and the quality of code and timelines of delivery fall thru the floor.&lt;/p&gt;

&lt;p&gt;The solution on paper is simple: &amp;quot;Find senior developers in Karachi to lead the team in Karachi.&amp;quot;&lt;/p&gt;

&lt;p&gt;In practice however this is far more difficult. Even with restricted immigration policies to US, Canada, UK and other candidate countries in recent years, senior skilled technical people seek out opportunities wherever they may be and are not generally available in Karachi by the time their skills have matured to what would be a &amp;quot;senior &lt;a href=&quot;http://benjchristensen.wordpress.com/2009/06/23/definition-of-a-tech-lead/&quot;&gt;lead&lt;/a&gt;&amp;quot; or &amp;quot;architect&amp;quot;.&lt;/p&gt;

&lt;p&gt;Finding and retaining what is considered a &amp;quot;lead&amp;quot;, &amp;quot;senior developer&amp;quot; or &amp;quot;application architect&amp;quot; in the US is not easy or cheap anywhere - and in &amp;quot;outsourcing&amp;quot; countries challenging to the point of &amp;quot;it&amp;#39;s probably not going to happen&amp;quot;. At least not in a way that can be counted on. When it does happen it&amp;#39;s great, but it&amp;#39;s not something one can plan for.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Process Doesn&amp;#39;t Replace Skill and Experience&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I believe process and documentation is needed and has its place, especially as projects increase in size and complexity.&lt;/p&gt;

&lt;p&gt;However, no amount of documentation and process can replace competence (see comments by &lt;a href=&quot;http://duckdown.blogspot.com/2008/04/process-as-substitute-for-competence.html&quot;&gt;James McGovern&lt;/a&gt; on the subject).&lt;/p&gt;

&lt;p&gt;Junior developers do not become competent and capable through documentation and process - it comes through mentoring and experience, being groomed by those ahead of them and by applying their raw skills to educate and improve themselves.&lt;/p&gt;

&lt;p&gt;I can be particularly verbose in writing when I want or need to be. I have written thousands of pages of documentation including hundreds of pages of visual wireframe mockups, use cases, requirements, workflow diagrams etc. The end result? Most of the people they were intended for don&amp;#39;t understand how it all fits together, how the business use cases apply, or how the user interfaces accomplish the use cases.&lt;/p&gt;

&lt;p&gt;It has been a frustration for that to be the base -- and I&amp;#39;ve attempted making documentation ever more detailed, having thorough review and feedback sessions and even getting to the point of spelling out exact implementation details of given requirements right down to where the code should be done in a given codebase.&lt;/p&gt;

&lt;p&gt;Looking back over these experiences, the documentation worked very well for the few people on the team who had already worked with me for a few years and were more advanced in their skillsets and understanding. They would read the documents and question them very specifically. They would find mistakes, or complete design errors. They would find inconsistencies in use cases or workflows.&lt;/p&gt;

&lt;p&gt;It was obvious they understood it - and contributed to improving and enabling the delivery. The other 80% of the team however had very little if anything to say.&lt;/p&gt;

&lt;p&gt;Thus, documentation and process is important - they are tools to organize and enable large and complex systems to be built and maintained by skilled and competent people. They do not however enable just anybody with a degree in computer science to deliver.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Successful development depends on skilled, competent, experienced people taking ownership and delivering a project, product or system.&lt;/p&gt;

&lt;p&gt;Ideally all people involved would be equally skilled and senior - but that&amp;#39;s a rare scenario that I&amp;#39;ve never experienced.&lt;/p&gt;

&lt;p&gt;Thus, the mixture of senior and junior needs to be right so as to enable the senior members to still be productive in accomplishing business objectives while grooming and mentoring the next generation and increasing productivity on tasks that can be done by those with less experience with guidance.&lt;/p&gt;

&lt;p&gt;It seems that the ratio can&amp;#39;t be much higher than about 1-to-5. The amount of time a senior developer must spend in mentoring, communicating, teaching, reviewing, and designing with the junior members, and then performing their own development, architecture and other roles limits the number of junior people a senior resource can effectively work with.&lt;/p&gt;

&lt;p&gt;Regardless of location, whether a team be all physically together, distributed in cities across the US or distributed across 12 time zones like I&amp;#39;ve been, I believe this principle applies. Perhaps the ratio differs for different geographic placements, but in a distributed environment where one can&amp;#39;t walk around the corner to communicate for 5 minutes on a white-board there is a definite effort and time commitment to communication that limits the scale of a development team to a ratio of senior and junior developers that if surpassed dramatically deteriorates code quality, morale and timelines.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Definition of a Tech Lead</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2009/06/23/definition-of-a-tech-lead/"/>
   <updated>2009-06-23T10:12:34-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2009/06/23/definition-of-a-tech-lead</id>
   <content type="html">&lt;p&gt;Good summary of a &amp;quot;tech lead&amp;quot; by James McGovern:&lt;/p&gt;

&lt;p&gt;http://duckdown.blogspot.com/2009/06/enterprise-architecture-so-exactly-what.html&lt;/p&gt;

&lt;p&gt;If you are in this role and want to live up to your title, then you need the following skills:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Accountable - The buck stops here, someone who can shoulder the responsibility without pointing fingers at others.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adaptable - Life changes fast, if can&amp;#39;t change with the times, you&amp;#39;ll be left behind.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Approachable - their team can ask them questions and talk to them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Attentive - they actually listen to their team and understand them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Aware - they&amp;#39;re aware of what is going on around them instead of sticking their head in the sand.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can type - No hen peck typists need apply in this industry.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Charismatic - People have got to want to listen to you.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Communicative - You&amp;#39;ve got to want to communicate with your team.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Competent - You&amp;#39;ve gotta know your stuff.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Confident - If you&amp;#39;re not confident in yourself, how is anyone else going to be?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Decisive - can make decisions themselves and be accountable for them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Driven - You&amp;#39;ve gotta see the goal and go right after it.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Focused - You&amp;#39;ve gotta have the staying power to keep going and reach the goal.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Inspirational - this is the most important one for me! If you can&amp;#39;t inspire people, what are you doing?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Meticulous - The truth is in the details.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nurturing - The test of a good teacher is when their students surpass them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Resourceful - You&amp;#39;ve gotta be able to find the answers to the things you don&amp;#39;t know.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Technically minded - In this industry at least.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Understanding - If your team don&amp;#39;t think you understand them, they won&amp;#39;t bother trying to understand you.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As a leader, it&amp;#39;s your delegates that help build your success. Treat them like gold, and they will do the same for you. One non-programmer that can inspire 10 &amp;quot;average&amp;quot; programmers to greatness is worth more than one great programmer who can&amp;#39;t inspire their team to do more than meet their job requirements...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>IE 6 Denial</title>
   <link href="http://benjchristensen.com/fun/2009/06/16/ie-6-denial/"/>
   <updated>2009-06-16T09:23:29-07:00</updated>
   <id>http://benjchristensen.com/fun/2009/06/16/ie-6-denial</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/06/ie6-denial.jpg?w=800&quot; alt=&quot;ie6-denial&quot;&gt;&lt;/p&gt;

&lt;p&gt;http://www.flickr.com/photos/robotjohnny/3629069606/sizes/o/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Lack of Accountability</title>
   <link href="http://benjchristensen.com/fun/2009/03/20/lack-of-accountability/"/>
   <updated>2009-03-20T17:06:39-07:00</updated>
   <id>http://benjchristensen.com/fun/2009/03/20/lack-of-accountability</id>
   <content type="html">&lt;p&gt;&amp;quot;Truth be told, I think I thrive under a lack of accountability&amp;quot; - Michael Scott&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>GMail down for 4 hours</title>
   <link href="http://benjchristensen.com/production%20problems/2009/02/24/gmail-down-for-4-hours/"/>
   <updated>2009-02-24T20:43:05-08:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/02/24/gmail-down-for-4-hours</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/picture-11.png&quot; alt=&quot;picture-11&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Java JDK 1.5 vs 1.6 Performance</title>
   <link href="http://benjchristensen.com/performance/2009/02/12/java-jdk-15-vs-16-performance/"/>
   <updated>2009-02-12T16:19:06-08:00</updated>
   <id>http://benjchristensen.com/performance/2009/02/12/java-jdk-15-vs-16-performance</id>
   <content type="html">&lt;p&gt;In a benchmarking of our server software I found about a 34% speed improvement (if my math is correct) on using JDK 1.6.0&lt;em&gt;12 over JDK 1.5.0&lt;/em&gt;17.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/picture-8.png&quot; alt=&quot;picture-8&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hosted Quickbooks Dead</title>
   <link href="http://benjchristensen.com/production%20problems/2009/02/02/hosted-quickbooks-dead/"/>
   <updated>2009-02-02T10:02:59-08:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/02/02/hosted-quickbooks-dead</id>
   <content type="html">&lt;p&gt;More big guys having issues.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/quickbooks.png&quot; alt=&quot;quickbooks&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Google "Woops" - Human Error Marks All Sites As Malware</title>
   <link href="http://benjchristensen.com/production%20problems/2009/02/02/google-woops-human-error-marks-all-sites-as-malware/"/>
   <updated>2009-02-02T09:13:00-08:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/02/02/google-woops-human-error-marks-all-sites-as-malware</id>
   <content type="html">&lt;p&gt;Human errors causes all sites to be marked as &amp;quot;malware&amp;quot;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/google2.jpg&quot; alt=&quot;google2&quot;&gt;&lt;/p&gt;

&lt;p&gt;http://news.cnet.com/8301-1001_3-10153942-92.html?tag=mncol;txt&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Google Has Production Issues Too</title>
   <link href="http://benjchristensen.com/production%20problems/2009/02/02/google-has-production-issues-too/"/>
   <updated>2009-02-02T09:09:30-08:00</updated>
   <id>http://benjchristensen.com/production%20problems/2009/02/02/google-has-production-issues-too</id>
   <content type="html">&lt;p&gt; While trying to access news.google.com:&lt;/p&gt;

&lt;p&gt;[caption id=&amp;quot;attachment_78&amp;quot; align=&amp;quot;alignnone&amp;quot; width=&amp;quot;300&amp;quot; caption=&amp;quot;Application Error&amp;quot;]&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/picture-1.png?w=300&quot; alt=&quot;Application Error&quot;&gt;[/caption]&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Another typical Microsoft experience ...</title>
   <link href="http://benjchristensen.com/personal/2009/01/09/another-typical-microsoft-experience/"/>
   <updated>2009-01-09T00:35:02-08:00</updated>
   <id>http://benjchristensen.com/personal/2009/01/09/another-typical-microsoft-experience</id>
   <content type="html">&lt;p&gt;For the rare scenario I need to use Windows I have XP installed in Parallels 4 on my Mac.&lt;/p&gt;

&lt;p&gt;I got a new machine today so copied everything over and in doing so had to re-install Parallels. &lt;/p&gt;

&lt;p&gt;XP needs to be re-activated again, but it won&amp;#39;t do so by the internet for whatever reason. I have to call Microsoft.&lt;/p&gt;

&lt;p&gt;So I do so ... and after speaking to a computer ALL of the digits in the screenshot below it says I need to talk to a human. I get somebody in India who then tells me their computers aren&amp;#39;t working and that I&amp;#39;ll have to call back in 20-30 minutes.&lt;/p&gt;

&lt;p&gt;Not only does Microsoft make their software stop working for me, the tech support I call doesn&amp;#39;t have their software running either.&lt;/p&gt;

&lt;p&gt;Lovely.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/01/picture-1.png&quot; alt=&quot;picture-1&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ConcurrentHashMap vs HashMap</title>
   <link href="http://benjchristensen.com/code/performance/2008/10/17/concurrenthashmap-vs-hashmap/"/>
   <updated>2008-10-17T13:07:11-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2008/10/17/concurrenthashmap-vs-hashmap</id>
   <content type="html">&lt;p&gt;A simple test of performance for ConcurrentHashMap.&lt;/p&gt;

&lt;p&gt;The insert is only a little slower, but the retrieval is 3x slower in this quick and dirty single-threaded test.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;TimeUtil timer = new TimeUtil();&lt;/p&gt;

&lt;p&gt;        timer.start();&lt;/p&gt;

&lt;p&gt;        HashMap map = new HashMap();&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; 1000000; i++) {&lt;/p&gt;

&lt;p&gt;            map.put(i, i);&lt;/p&gt;

&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        timer.printCurrent();&lt;/p&gt;

&lt;p&gt;        &lt;/p&gt;

&lt;p&gt;        timer.start();&lt;/p&gt;

&lt;p&gt;        ConcurrentHashMap cmap = new ConcurrentHashMap();&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; 1000000; i++) {&lt;/p&gt;

&lt;p&gt;            cmap.put(i, i);&lt;/p&gt;

&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        timer.printCurrent();&lt;/p&gt;

&lt;p&gt;        &lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;        &lt;/p&gt;

&lt;p&gt;        timer = new TimeUtil();&lt;/p&gt;

&lt;p&gt;        timer.start();&lt;/p&gt;

&lt;p&gt;        map = new HashMap();&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; 1000000; i++) {&lt;/p&gt;

&lt;p&gt;            map.get(i);&lt;/p&gt;

&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        timer.printCurrent();&lt;/p&gt;

&lt;p&gt;        &lt;/p&gt;

&lt;p&gt;        timer.start();&lt;/p&gt;

&lt;p&gt;        cmap = new ConcurrentHashMap();&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; 1000000; i++) {&lt;/p&gt;

&lt;p&gt;            cmap.get(i);&lt;/p&gt;

&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        timer.printCurrent();&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Action completed in: 458 ms 0.458 seconds&lt;/p&gt;

&lt;p&gt;Action completed in: 574 ms 0.574 seconds&lt;/p&gt;

&lt;p&gt;Action completed in: 30 ms 0.03 seconds&lt;/p&gt;

&lt;p&gt;Action completed in: 113 ms 0.113 seconds&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>I'm an INTJ</title>
   <link href="http://benjchristensen.com/personal/2008/09/17/im-an-intj/"/>
   <updated>2008-09-17T21:31:00-07:00</updated>
   <id>http://benjchristensen.com/personal/2008/09/17/im-an-intj</id>
   <content type="html">&lt;p&gt;My sister-in-law had me take the personality test at http://humanmetrics.com/cgi-win/JTypes2.asp&lt;/p&gt;

&lt;p&gt;I&amp;#39;m an INTJ.&lt;/p&gt;

&lt;p&gt;Introverted: 11%  Intuitive: 88%  Thinking: 50%  Judging: 44%&lt;/p&gt;

&lt;p&gt;Usually these things seem silly to me ... but the descriptions of the INTJ type is eerily representative of me.&lt;/p&gt;

&lt;p&gt;http://typelogic.com/intj.html&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Eclipse Ganymede Subversion Support Sucks</title>
   <link href="http://benjchristensen.com/tools/2008/08/29/eclipse-ganymede-subversion-support-sucks/"/>
   <updated>2008-08-29T15:39:46-07:00</updated>
   <id>http://benjchristensen.com/tools/2008/08/29/eclipse-ganymede-subversion-support-sucks</id>
   <content type="html">&lt;p&gt;You&amp;#39;d think that after integrating millions of lines of code, and the amount of bad press this has gotten, they could manage to make this work out of the box. Nope.&lt;/p&gt;

&lt;p&gt;See here for the best I&amp;#39;ve found on how to make it work: &lt;a href=&quot;http://thecoffeemachine.wordpress.com/2008/08/20/subversive-in-eclipse-ganymede/&quot;&gt;Subversive In Ganymede&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Uptime & Availability</title>
   <link href="http://benjchristensen.com/production/2008/07/21/uptime-availability/"/>
   <updated>2008-07-21T22:20:25-07:00</updated>
   <id>http://benjchristensen.com/production/2008/07/21/uptime-availability</id>
   <content type="html">&lt;p&gt;A good blog entry that I&amp;#39;m pasting below about the cost/benefit of actually achieving 99.999% uptime and how ludicrous it is for most to even attempt let alone claim it.&lt;/p&gt;

&lt;p&gt;http://blog.amber.org/2008/07/21/understanding-availability/&lt;/p&gt;

&lt;p&gt;With the recent Amazon S3 outage of approximately 8 hours, there’s a lot of people blowing a lot of energy on lambasting Amazon for the downtime. While I think we’d all love to have systems that never go down, the probability of such occurring in the “real world” is relatively small, unless you’re running some esoteric hardware that most people aren’t. Before we go any further, let’s quickly break down what we mean by availability.&lt;/p&gt;

&lt;p&gt;When most people talk about availability, they often using the marketing-speak method of speaking in “nines”. Five nines, or 99.999% is the “gold standard” of what most people talk about, but few people actually achieve. To clarify, here’s what it means when you convert percentages to actual time spans.&lt;/p&gt;

&lt;p&gt;This means that the vaunted “five nines” allows for only a bit more than five minutes of downtime in a year, and only 6 seconds per week, which translates to less than 1 second per day. Quite honestly, you can’t even bounce an HTTP server in that period of time reliably. For example, if you’re running on a single server, and you have to reboot it more than once a year, you’ll likely never hit 99.99%, even if nothing else breaks.&lt;/p&gt;

&lt;p&gt;So what does this mean when we talk about systemic availability? It means that putting all your eggs in one basket—regardless of the quality of the basket—is silly. While many people think about drives failing, and implement RAID or some other technique, and some think about CPU and memory, very few think or plan for electrical system failure or cooling failure. These kind of problems, which strike entire data centers, are not uncommon, and can not be waved away by saying that you have redundant infrastructure.&lt;/p&gt;

&lt;p&gt;A vast majority of availability problems, however, are not hardware driven—even though that’s all people think about. They come from a few areas:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Operator error&lt;/li&gt;
&lt;li&gt;Configuration error&lt;/li&gt;
&lt;li&gt;Software failure/bugs&lt;/li&gt;
&lt;li&gt;Networking&lt;/li&gt;
&lt;li&gt;Power and cooling&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of these cost serious money to solve. They are solved through processes and planning and not just traditional technical operations. In examining failure modes of systems I’ve worked on, a vast majority are preventable. They are due to someone making an unplanned change that isn’t properly vetted. They’re based on software configuration errors, and they’re based on upgrades that simply weren’t tested first.&lt;/p&gt;

&lt;p&gt;The silver lining here is this: a vast majority of sites, companies, etc., do not need this kind of availability. The pursuit of high availability tends to be a mental masturbation exercise by people who want to spend money, but aren’t willing to do the cost-benefit analysis. Before undertaking anything above 99.9%, you really need to understand your business to a level that will allow you to make a rational decision about risks. Often, it is cheaper to rebate money to people than it is to fix the problem.&lt;/p&gt;

&lt;p&gt;So what do I say to those who puff up and say “I can do better”? I say “no you can’t”. At least, not likely. The cost of running exceptionally high availability systems is not just hardware. It is operational costs. It is staffing, monitoring infrastructure, planning and operational processes. It doesn’t happen when you’ve only got one machine. It doesn’t even happen when you have 50 machines.&lt;/p&gt;

&lt;p&gt;Don’t delude yourself any more about your own ability to run systems at that level than you delude yourself into assuming someone else can as well.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Complex and Simple XML Types</title>
   <link href="http://benjchristensen.com/code/2008/07/16/complex-and-simple-xml-types/"/>
   <updated>2008-07-16T14:14:06-07:00</updated>
   <id>http://benjchristensen.com/code/2008/07/16/complex-and-simple-xml-types</id>
   <content type="html">&lt;p&gt;Excellent article which clearly explains how they relate to each other:&lt;/p&gt;

&lt;p&gt;http://www.xml.com/pub/a/2001/08/22/easyschema.html&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Amazon - 2 outages in a weekend</title>
   <link href="http://benjchristensen.com/production%20problems/2008/06/09/amazon-2-outages-in-a-weekend/"/>
   <updated>2008-06-09T11:05:07-07:00</updated>
   <id>http://benjchristensen.com/production%20problems/2008/06/09/amazon-2-outages-in-a-weekend</id>
   <content type="html">&lt;p&gt;Hundreds of millions of dollars in infrastructure ... 2 outages in a weekend.&lt;/p&gt;

&lt;p&gt;&amp;quot;Amazon.com&amp;#39;s Web site was offline again Monday, another significant interruption of services after a &lt;a href=&quot;http://news.cnet.com/8301-10784_3-9962403-7.html&quot;&gt;two-hour outage Friday&lt;/a&gt;.&amp;quot;&lt;/p&gt;

&lt;p&gt;http://news.cnet.com/8301-10784_3-9963164-7.html&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2009/02/amazon_uk_us_avail_keynote_692008_550x549.png&quot; alt=&quot;amazon_uk_us_avail_keynote_692008_550x549&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Agile versus Fixed</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2008/05/28/agile-versus-fixed/"/>
   <updated>2008-05-28T15:57:22-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2008/05/28/agile-versus-fixed</id>
   <content type="html">&lt;p&gt;http://martinfowler.com/bliki/FixedPrice.html&lt;/p&gt;

&lt;p&gt;FixedPrice agile 29 July 2003&lt;/p&gt;

&lt;p&gt;Many people belive that you can&amp;#39;t do a fixed price contract in an agile project. Since the whole point of an agile process is that you cannot predict the future, this isn&amp;#39;t an unreasonable supposition. However this doesn&amp;#39;t mean you can&amp;#39;t come up with a fixed price agile contract, what it means is that you can&amp;#39;t come up with a fixed price and fixed scope contract.&lt;/p&gt;

&lt;p&gt;Usually when people say fixed price, they mean fixing price, time, and scope. This requires detailed, stable, and accurate requirements. The whole point of agile development is that it works with more fuzzy requirements. To handle this with a fixed price contract you essentially come up with a plan that says &amp;quot;we have $x to spend and we need a release on 1 Dec. We&amp;#39;ll collaborate together to come up with the best set of features to go live with on that date.&amp;quot;&lt;/p&gt;

&lt;p&gt;The initial plan&lt;/p&gt;

&lt;p&gt;The initial plan for this kind of arrangement is not really any different to a predictive project. The essential difference is that we don&amp;#39;t expect things to go according to plan. Instead we expect to deliver a better product that we can currently envision, because we&amp;#39;ll learn more about the project as the project proceeds.&lt;/p&gt;

&lt;p&gt;Or if we find things are much tougher, we&amp;#39;ll find that out too. In which case we&amp;#39;ll modify the plan. If the customer doesn&amp;#39;t like the resulting plan they can cancel. While this isn&amp;#39;t good, they&amp;#39;ll usually cancel earlier than they would under a predictive project, becuase predictive plans tend to discourage change, and thus make it easier to not realize when things are going off course.&lt;/p&gt;

&lt;p&gt;http://martinfowler.com/bliki/FixedScopeMirage.html&lt;/p&gt;

&lt;p&gt;FixedScopeMirage agile 30 September 2004&lt;/p&gt;

&lt;p&gt;Many companies like the idea of writing a contract that fixes scope and price because they think it lowers their risk. The mirage says that their financial obligation is fixed at the price of the deal. If they don&amp;#39;t get satisfactory software, then it won&amp;#39;t cost them.&lt;/p&gt;

&lt;p&gt;In my independent days, I always advised clients to avoid this mirage, it works fine in theory - but practice bites a big chunk out of its strengths.&lt;/p&gt;

&lt;p&gt;For a start focusing only on the cost is short-changing the financial issues. You get software written because it has a business value to you - one that&amp;#39;s greater than the cost. Otherwise why do it? If the software isn&amp;#39;t satisfactory the financial damage isn&amp;#39;t just limited to the what you paid for it. There is also the opportunity cost because you didn&amp;#39;t get the business value you were expecting. The cost is also higher than people think, it&amp;#39;s not just the money paid to contracting company, it&amp;#39;s also the cost of people&amp;#39;s time on the project. I remember seeing one project that went badly belly-up - the costs there were large, while the client tried to sue the contracting company for the money they&amp;#39;d already paid I suspect only lawyers saw any benefit.&lt;/p&gt;

&lt;p&gt;The other thing that ruins the pretty mirage is well-known by contracting companies. A fixed scope contract only is fixed is the contractor really understands the requirements. But such knowledge is so rare that you can win by banking on its absence. Such contracting companies deliberately low-bid the fixed price, with the explicit plan of making a profit on change requests. Indeed some firms actually incentivize their sales and account managers based on how many change requests a project receives.&lt;/p&gt;

&lt;p&gt;These are the reasons why I think fixed scope and price contracts are bad for the customer. It&amp;#39;s why we at ThoughtWorks avoid this model as much as we can. It is possible to do a FixedPrice contract in an agile manner, but it&amp;#39;s not wise to fix the scope.&lt;/p&gt;

&lt;p&gt;http://martinfowler.com/bliki/ScopeLimbering.html&lt;/p&gt;

&lt;p&gt;ScopeLimbering agile 27 October 2004&lt;/p&gt;

&lt;p&gt;One of the basic tenets of agile development is that requirements changes aren&amp;#39;t just expected, they are welcomed. This poses a particular challenge when an external company, like ThoughtWorks, is doing work for client. Many clients want a FixedPrice arrangement, which is really fixing scope because they see the FixedScopeMirage. But a fixed scope contract is totally at odds with agile development, so what is a company like us to do?&lt;/p&gt;

&lt;p&gt;Over the last year or so we&amp;#39;ve been pretty successful at what I call Scope Limbering - starting with a fixed scope contract but working with the client to help them understand the way agile development works to overcome the FixedScopeMirage.&lt;/p&gt;

&lt;p&gt;To illustrate, here&amp;#39;s a specific example with a client that I&amp;#39;ll call Nebbiolo. As is often the case with our work, we came in because another delivery company had failed (you&amp;#39;d recognize their name, but I&amp;#39;ll spare their blushes). They&amp;#39;d spent a long time gathering requirements but got nowhere with development. So the client had detailed requirements which had cost a lot of time and money, and were feeling rather sore from the other firms inability to get things done. So they insisted on a fixed scope arrangement, based of course on those detailed requirements.&lt;/p&gt;

&lt;p&gt;We took a look at those requirements and estimated it would take us about half a million dollars to build it. Like most people tackling a fixed scope project, we added a buffer - in this case quite a large buffer doubling it to a full million. This was still less than the original contracting company&amp;#39;s estimate. (We charge much higher daily rates for our people, but since we have better and more productive people, we can actually do the job for less.)&lt;/p&gt;

&lt;p&gt;We weren&amp;#39;t at all shocked to discover that despite the detailed and heavily reviewed requirements, the requirements changes still came thick and fast. For each one we estimated the scope of the change and figured out how much it would cost, but didn&amp;#39;t charge the client for the change. Slowly but steadily the changes ate up the buffer. After about six months or so the changes had used up the buffer completely. We&amp;#39;d been quite open with Nebbiolo during this whole time, so they weren&amp;#39;t surprised when we told them that we couldn&amp;#39;t afford to eat the cost of the changes any more. During that time we&amp;#39;d collaborated closely with Nebbiolo and they&amp;#39;d grown to trust us. We had no problem finding more money, indeed it took another half million to cover the requirements changes that were needed before we delivered.&lt;/p&gt;

&lt;p&gt;At the end of all this Nebbiolo agreed that the fixed scope approach was a mirage, and we would do future projects together using a more flexible charging scheme.&lt;/p&gt;

&lt;p&gt;I think the key to this story (and we have half a dozen similar examples) is that from the beginning we sought to put the relationship between our companies on a collaborative note rather than a confrontational note. The biggest problem with the fixed scope contract is it immediately pits the client and contractor on opposite sides where they are fighting each other about whether something is a change and who should pay for the change. An agile approach hinges upon replacing that confrontation with collaboration (customer collaboration over contract negotiation).&lt;/p&gt;

&lt;p&gt;A tripling of actuals over initial estimates isn&amp;#39;t unusual in our industry. Mostly I believe this isn&amp;#39;t because we are so bad at estimating (although we aren&amp;#39;t exactly stellar at it), but it&amp;#39;s mainly because it&amp;#39;s so hard to get a decent set of requirements. Many delivery companies take advantage of that by low-balling the initial bid and making profit on scope changes. But this approach sours the ongoing relationship with the client - which leads to the whole industry gaining a bad reputation. The story of Nebbiolo is one way to arrange things to keep the relationship in good shape, and I think we need more that for our whole industry.&lt;/p&gt;

&lt;p&gt;http://martinfowler.com/bliki/SpreadingIncrementalism.html&lt;/p&gt;

&lt;p&gt;SpreadingIncrementalism agile 5 January 2005&lt;/p&gt;

&lt;p&gt;From time to time people question whether a particular specialty can be used incremental way: &amp;quot;You can&amp;#39;t do (security | user interface design | databases | internationalization | * ) with an agile project because this aspect has to be done up front.&amp;quot;&lt;/p&gt;

&lt;p&gt;When a question like that&amp;#39;s put to me, I&amp;#39;m immediately on a sticky wicket because I&amp;#39;m not that knowledgeable on that specialty. Application design is something I think I can talk about, but security (for instance) isn&amp;#39;t - and my questioner may well be a well regarded leader in that field.&lt;/p&gt;

&lt;p&gt;Despite my acknowledged limitations in that field, I&amp;#39;m not about to say that you can only use planned design in that area. What I can say is that we don&amp;#39;t really know whether you can do incremental design in that area. I&amp;#39;ve seen enough cases where people have said &amp;quot;you can&amp;#39;t use incremental design for x&amp;quot; only to find you can. Application design is one, database design is another. So until people try incremental design out in a serious way, I&amp;#39;m very reluctant to rule it out.&lt;/p&gt;

&lt;p&gt;Part of the difficulty of assessing this question is that it&amp;#39;s too easy to do incremental design poorly. If you do incremental design in an uncontrolled way, you are most likely to end up with a design that is a mess - to make incremental design work you need something that makes the design converge into order. In Is Design Dead I referred to these as enabling practices. For software design I labeled testing, continuous integration, and refactoring as key enabling practices to get software design to converge and avoid software entropy. When we talk about something else, like UI design, the issue is finding what those enabling practices are. They may be similar or inspired by those in software design, or they may be something different. In database design, for instance, incremental data migration is a key enabling practice. Until you find a good set of enabling practices, incremental design is thin ice.&lt;/p&gt;

&lt;p&gt;Despite that thinness, I do think that an incremental approach is so worthwhile, that it&amp;#39;s worth experimenting to find the right way. Phased up-front design approaches fail far too frequently - furthermore they do a poor job in the chance of volatile requirements - which I see as a unavoidable factor, at least in enterprise software development.&lt;/p&gt;

&lt;p&gt;The biggest reason, however, that I favor incrementalism is the oldest one - risk management. Without trying out your designs, you are too vulnerable to things not working out the way you think they would, too vulnerable to schedule slippages late in development. These risks are reason enough to look for ways to introduce incrementalism into more aspects of software development.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>MySQL JDBC Memory Usage on Large ResultSet</title>
   <link href="http://benjchristensen.com/code/performance/2008/05/27/mysql-jdbc-memory-usage-on-large-resultset/"/>
   <updated>2008-05-27T14:23:20-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2008/05/27/mysql-jdbc-memory-usage-on-large-resultset</id>
   <content type="html">&lt;p&gt;I recently came across the problem of large resultsets being pulled into a java app via MySQL JDBC. I had dealt with this years ago but forgotten about it.&lt;/p&gt;

&lt;p&gt;The test case below shows how the entire ResultSet is buffered in memory by default -- which can be a &amp;quot;very bad thing&amp;quot; when dealing with hundreds or thousands of megabytes of data when it&amp;#39;s intended to be processed row by row.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Using mysql-connector-java-3.1.12-bin.jar and a JDK 5 with 32MB heap:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 1  Free: 32&lt;/p&gt;

&lt;p&gt;Retrieving data ...&lt;/p&gt;

&lt;p&gt;Ran out of memory at row: 0&lt;/p&gt;

&lt;p&gt;java.lang.OutOfMemoryError: Java heap space&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.ByteArrayBuffer.getBytes(ByteArrayBuffer.java:128)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.ByteArrayBuffer.readLenByteArray(ByteArrayBuffer.java:248)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1304)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2272)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:423)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:1962)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1385)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1728)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Connection.execSQL(Connection.java:2988)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Connection.execSQL(Connection.java:2917)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Statement.executeQuery(Statement.java:824)&lt;/p&gt;

&lt;p&gt;at JDBCTest.main(JDBCTest.java:26)&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Using mysql-connector-java-5.1.6-bin.jar and the same JDK 5 with 32MB heap:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 1  Free: 32&lt;/p&gt;

&lt;p&gt;Retrieving data ...&lt;/p&gt;

&lt;p&gt;Ran out of memory at row: 0&lt;/p&gt;

&lt;p&gt;java.lang.OutOfMemoryError: Java heap space&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.ByteArrayBuffer.getBytes(ByteArrayBuffer.java:128)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.ByteArrayBuffer.readLenByteArray(ByteArrayBuffer.java:248)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1304)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2272)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:423)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:1962)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1385)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1728)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Connection.execSQL(Connection.java:2988)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Connection.execSQL(Connection.java:2917)&lt;/p&gt;

&lt;p&gt;at com.mysql.jdbc.Statement.executeQuery(Statement.java:824)&lt;/p&gt;

&lt;p&gt;at JDBCTest.main(JDBCTest.java:26)&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Thus we see that both the old and new versions of the MySQL JDBC driver by default attempt to load the entire resultset into memory.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;I now increase the heap to 1GB to allow it to grow and find that the test query uses up &amp;gt; 500MB of heap before it even starts the rs.next() loop.&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 1  Free: 32&lt;/p&gt;

&lt;p&gt;Retrieving data ...&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 298  Used: 183  Free: 115&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 527  Used: 381  Free: 146&lt;/p&gt;

&lt;p&gt;Starting to retrieve data. Memory Used: 517&lt;/p&gt;

&lt;p&gt;Done retrieving data =&amp;gt; 2318284   Memory Used: 551&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Here is the code for this:&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;            ResultSet rs = conn.createStatement().executeQuery(&amp;quot;&lt;sql query that returns lots of data&gt;&amp;quot;);&lt;/p&gt;

&lt;p&gt;            System.out.println(&amp;quot;Starting to retrieve data. Memory Used: &amp;quot; + getUsedMemory());&lt;/p&gt;

&lt;p&gt;            while (rs.next()) {&lt;/p&gt;

&lt;p&gt;                rs.getString(1);&lt;/p&gt;

&lt;p&gt;                rowsReturned++;&lt;/p&gt;

&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;            System.out.println(&amp;quot;Done retrieving data =&amp;gt; &amp;quot; + rowsReturned + &amp;quot;   Memory Used: &amp;quot;  &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;getUsedMemory());&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Thus you can see that the &amp;quot;executeQuery()&amp;quot; method loads up 500MB of data before it passes on the &amp;quot;rs.next()&amp;quot; loop. The full ResultSet is being buffered in memory.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;To make the JDBC driver stream the results instead of buffer them all first we do the following:&lt;/p&gt;

&lt;p&gt;            stmt.setFetchSize(Integer.MIN_VALUE);&lt;/p&gt;

&lt;p&gt;Then we get this result instead:&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 1  Free: 32&lt;/p&gt;

&lt;p&gt;Retrieving data ...&lt;/p&gt;

&lt;p&gt;Starting to retrieve data. Memory Used: 2&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 1  Free: 32&lt;/p&gt;

&lt;p&gt;ET-COMMONS INFO: JVM MEMORY MONITOR =&amp;gt; Total: 33  Used: 2  Free: 31&lt;/p&gt;

&lt;p&gt;Done retrieving data =&amp;gt; 2318284   Memory Used: 2&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Now it behaves like we expect it to ... only 2MB used instead of &amp;gt; 500MB.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;There are some caveats:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;http://javaquirks.blogspot.com/2007/12/mysql-streaming-result-set.html&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-implementation-notes.html&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In the second link of official documentation we read (emphasis in red added by myself):&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;&lt;strong&gt;ResultSet&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;By default, ResultSets are completely retrieved and stored in memory. In most cases this is the most efficient way to operate, and due to the design of the MySQL network protocol is easier to implement. If you are working with ResultSets that have a large number of rows or large values, and can not allocate heap space in your JVM for the memory required, you can tell the driver to stream the results back one row at a time.&lt;/p&gt;

&lt;p&gt;To enable this functionality, you need to create a Statement instance in the following manner:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,
              java.sql.ResultSet.CONCUR_READ_ONLY);
stmt.setFetchSize(Integer.MIN_VALUE);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The combination of a forward-only, read-only result set, with a fetch size of &lt;code&gt;Integer.MIN_VALUE&lt;/code&gt; serves as a signal to the driver to stream result sets row-by-row. After this any result sets created with the statement will be retrieved row-by-row.&lt;/p&gt;

&lt;p&gt;There are some caveats with this approach. You will have to read all of the rows in the result set (or close it) before you can issue any other queries on the connection, or an exception will be thrown.&lt;/p&gt;

&lt;p&gt;The earliest the locks these statements hold can be released (whether they be &lt;code&gt;MyISAM&lt;/code&gt; table-level locks or row-level locks in some other storage engine such as &lt;code&gt;InnoDB&lt;/code&gt;) is when the statement completes.&lt;/p&gt;

&lt;p&gt;If the statement is within scope of a transaction, then locks are released when the transaction completes (which implies that the statement needs to complete first). As with most other databases, statements are not complete until all the results pending on the statement are read or the active result set for the statement is closed.&lt;/p&gt;

&lt;p&gt;Therefore, if using streaming results, you should process them as quickly as possible if you want to maintain concurrent access to the tables referenced by the statement producing the result set.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt; &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Java Memory Usage - Ints</title>
   <link href="http://benjchristensen.com/code/performance/2008/05/27/java-memory-usage-ints/"/>
   <updated>2008-05-27T00:41:01-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2008/05/27/java-memory-usage-ints</id>
   <content type="html">&lt;p&gt;As I work on another set of indexes with large numbers of ints I&amp;#39;ve revisited how different storage mechanisms behave.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ve set the JVM to just over 64MB (70MB to be precise).&lt;/p&gt;

&lt;p&gt;An int being 4 bytes means that 64MB of ints is as follows:&lt;/p&gt;

&lt;p&gt;       int sixtyFourMB = 64 * 1024 * 1024 / 4;&lt;/p&gt;

&lt;p&gt;That is 16,777,216 ints.&lt;/p&gt;

&lt;p&gt;An int array can successfully store 64MB in the JVM meaning it is properly assigning each int to 4 bytes without overhead.&lt;/p&gt;

&lt;p&gt;      int[] vals = new int[sixtyFourMB];&lt;/p&gt;

&lt;p&gt;However, if you use ArrayList&lt;Integer&gt; you run out of memory after 3,392,918 ints being added.&lt;/p&gt;

&lt;p&gt;That is 1/5 of what can be stored in the int[]!&lt;/p&gt;

&lt;p&gt;Now, assigning the space to ArrayList is fine:&lt;/p&gt;

&lt;p&gt;                ArrayList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;(sixtyFourMB);&lt;/p&gt;

&lt;p&gt;It&amp;#39;s when you add the Integer objects (int is cast to Integer behind the scenes in JDK 5) that it dies 1/5 in.&lt;/p&gt;

&lt;p&gt;So the overhead is obviously in the Integer object.&lt;/p&gt;

&lt;p&gt;I next try the Trove library and use the TIntArrayList.&lt;/p&gt;

&lt;p&gt;If I leave it to assign its memory space by default, it runs out of memory at 10,485,760 (62%).&lt;/p&gt;

&lt;p&gt;If however I tell it how many ints to expect it sizes itself properly and does not try to grow too large and fits the entire 64MB.&lt;/p&gt;

&lt;p&gt;     TIntArrayList ints = new TIntArrayList(sixtyFourMB);&lt;/p&gt;

&lt;p&gt;Thus, when backed by an int[] the memory can be efficiently stored, but when using an Object[] memory is very inefficient when attempting to store primitive ints.&lt;/p&gt;

&lt;p&gt;Out of curiosity for what an Object() really does with memory I did the following:&lt;/p&gt;

&lt;p&gt;            ArrayList&lt;Object&gt; ints = new ArrayList&lt;Object&gt;(sixtyFourMB);&lt;/p&gt;

&lt;p&gt;            for (i = 0; i &amp;lt; sixtyFourMB; i++) {&lt;/p&gt;

&lt;p&gt;                ints.add(null);&lt;/p&gt;

&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;That works, it all fits in memory.&lt;/p&gt;

&lt;p&gt;If however I change the &amp;quot;null&amp;quot; to &amp;quot;new Object()&amp;quot; such as:&lt;/p&gt;

&lt;p&gt;                ints.add(new Object());&lt;/p&gt;

&lt;p&gt;It fails at 702065 ... which means that the object[] has already taken up the space and there is no room for the objects on the heap.&lt;/p&gt;

&lt;p&gt;Thus, for storage of simple data primitive arrays is MUCH more efficient.&lt;/p&gt;

&lt;p&gt;If the flexibility of the Collections API is needed for dynamic manipulation of those arrays then use &lt;a href=&quot;http://trove4j.sourceforge.net/&quot;&gt;GNU Trove&lt;/a&gt; ... but carefully or the dynamic sizing of the arrays in the background can cause a lot of waste.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;An old but interesting article specifies memory usage by normal objects and classes:&lt;/p&gt;

&lt;p&gt;http://www.roseindia.net/javatutorials/determining&lt;em&gt;memory&lt;/em&gt;usage&lt;em&gt;in&lt;/em&gt;java.shtml&lt;/p&gt;

&lt;p&gt;Here are two points from that article of note:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The class takes up at least 8 bytes. So, if you say &lt;code&gt;**new** Object();&lt;/code&gt; you will allocate 8 bytes on the heap.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Each data member takes up 4 bytes, except for long and double which take up 8 bytes. Even if the data member is a byte, it will still take up 4 bytes! In addition, the amount of memory used is increased in 8 byte blocks. So, if you have a class that contains one byte it will take up 8 bytes for the class and 8 bytes for the data, totalling 16 bytes (groan!).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Project Management</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/2008/05/02/project-management/"/>
   <updated>2008-05-02T13:03:47-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/2008/05/02/project-management</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://duckdown.blogspot.com/2008/04/why-project-managers-should-not-lead.html&quot;&gt;Why Project Managers shouldn&amp;#39;t Lead Projects&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://duckdown.blogspot.com/2008/04/enterprise-architecture-whiteboards-and.html&quot;&gt;Enterprise Architecture - Whiteboards and Timelines&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.biske.com/blog/?p=351&quot;&gt;Roles of the Architect&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Reminds me of my whiteboards sometimes ...</title>
   <link href="http://benjchristensen.com/fun/management%20&amp;%20leadership/2008/05/01/reminds-me-of-my-whiteboards-sometimes/"/>
   <updated>2008-05-01T08:30:19-07:00</updated>
   <id>http://benjchristensen.com/fun/management%20&amp;%20leadership/2008/05/01/reminds-me-of-my-whiteboards-sometimes</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2008/05/then-a-miracle-occurs-cartoon.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2008/05/then-a-miracle-occurs-cartoon.png?w=263&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to strip invalid XML characters</title>
   <link href="http://benjchristensen.com/code/2008/02/06/how-to-strip-invalid-xml-characters/"/>
   <updated>2008-02-06T17:30:01-08:00</updated>
   <id>http://benjchristensen.com/code/2008/02/06/how-to-strip-invalid-xml-characters</id>
   <content type="html">&lt;p&gt;http://cse-mjmcl.cse.bris.ac.uk/blog/2007/02/14/1171465494443.html   &lt;/p&gt;

&lt;p&gt;  /**&lt;/p&gt;

&lt;p&gt;     * This method ensures that the output String has only&lt;/p&gt;

&lt;p&gt;     * valid XML unicode characters as specified by the&lt;/p&gt;

&lt;p&gt;     * XML 1.0 standard. For reference, please see&lt;/p&gt;

&lt;p&gt;     * &lt;a href=&quot;http://www.w3.org/TR/2000/REC-xml-20001006#NT-Char&quot;&gt;the&lt;/p&gt;

&lt;p&gt;     * standard&lt;/a&gt;. This method will return an empty&lt;/p&gt;

&lt;p&gt;     * String if the input is null or empty.&lt;/p&gt;

&lt;p&gt;     *&lt;/p&gt;

&lt;p&gt;     * @param in The String whose non-valid characters we want to remove.&lt;/p&gt;

&lt;p&gt;     * @return The in String, stripped of non-valid characters.&lt;/p&gt;

&lt;p&gt;     */&lt;/p&gt;

&lt;p&gt;    public String stripNonValidXMLCharacters(String in) {&lt;/p&gt;

&lt;p&gt;        StringBuffer out = new StringBuffer(); // Used to hold the output.&lt;/p&gt;

&lt;p&gt;        char current; // Used to reference the current character.&lt;/p&gt;

&lt;p&gt;        if (in == null || (&amp;quot;&amp;quot;.equals(in))) return &amp;quot;&amp;quot;; // vacancy test.&lt;/p&gt;

&lt;p&gt;        for (int i = 0; i &amp;lt; in.length(); i++) {&lt;/p&gt;

&lt;p&gt;            current = in.charAt(i); // NOTE: No IndexOutOfBoundsException caught here; it should not happen.&lt;/p&gt;

&lt;p&gt;            if ((current == 0x9) ||&lt;/p&gt;

&lt;p&gt;                (current == 0xA) ||&lt;/p&gt;

&lt;p&gt;                (current == 0xD) ||&lt;/p&gt;

&lt;p&gt;                ((current &amp;gt;= 0x20) &amp;amp;&amp;amp; (current &amp;lt;= 0xD7FF)) ||&lt;/p&gt;

&lt;p&gt;                ((current &amp;gt;= 0xE000) &amp;amp;&amp;amp; (current &amp;lt;= 0xFFFD)) ||&lt;/p&gt;

&lt;p&gt;                ((current &amp;gt;= 0x10000) &amp;amp;&amp;amp; (current &amp;lt;= 0x10FFFF)))&lt;/p&gt;

&lt;p&gt;                out.append(current);&lt;/p&gt;

&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        return out.toString();&lt;/p&gt;

&lt;p&gt;    }     &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Quotes Which Made My Week</title>
   <link href="http://benjchristensen.com/fun/production/2007/10/23/quotes-which-made-my-week/"/>
   <updated>2007-10-23T10:25:44-07:00</updated>
   <id>http://benjchristensen.com/fun/production/2007/10/23/quotes-which-made-my-week</id>
   <content type="html">&lt;p&gt;&amp;quot;We accidentally shot ourselves in the foot.
Then, when looking down the barrel of the gun to see where the bullet came from, we shot ourselves in the eye.
Then we let go of the gun, which dropped on (and broke) our good foot….&amp;quot;&lt;/p&gt;

&lt;p&gt;&amp;quot;There&amp;#39;s no plan to upgrade systems except by forklift.&amp;quot;&lt;/p&gt;

&lt;p&gt;&amp;quot;We&amp;#39;re running a website written with hammers and chisels on stone in an environment where gerbils are running on wheels in cages.&amp;quot;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Websphere Multi-JVM jsessionid</title>
   <link href="http://benjchristensen.com/architecture/code/production/2007/10/19/websphere-multi-jvm-jsessionid/"/>
   <updated>2007-10-19T15:30:36-07:00</updated>
   <id>http://benjchristensen.com/architecture/code/production/2007/10/19/websphere-multi-jvm-jsessionid</id>
   <content type="html">&lt;p&gt;Works just like it should :-)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www-1.ibm.com/support/docview.wss?rs=180&amp;amp;context=SSEQTP&amp;amp;dc=DB520&amp;amp;uid=swg21210881&amp;amp;loc=en_US&amp;amp;cs=UTF-8&amp;amp;lang=en&amp;amp;rss=ct180websphere&quot;&gt;IBM Support Link&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Two JVMs with different contexts but the same domain now use the same jsessionid so they can talk back and forth in the same browser without jsessionid schizophrenia.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Lessons Learned</title>
   <link href="http://benjchristensen.com/management%20&amp;%20leadership/production/2007/10/13/lessons-learned/"/>
   <updated>2007-10-13T23:12:25-07:00</updated>
   <id>http://benjchristensen.com/management%20&amp;%20leadership/production/2007/10/13/lessons-learned</id>
   <content type="html">&lt;p&gt;[1] Don&amp;#39;t be accommodating to a client ... otherwise, when all hell breaks loose none of that will matter and any issues resulting from attempts to accommodate last minute changes, bad decisions and architecture/environmental issues will all be the fault of the development team -- instead of the client.&lt;/p&gt;

&lt;p&gt;[2] If one wants to be accommodating, then everything must be done so with disclaimers in writing to significantly high enough ranking people -- Director or VP -- managers don&amp;#39;t cut it.&lt;/p&gt;

&lt;p&gt;[3] Dictate every single aspect of an environments requirements and thresholds, even if it&amp;#39;s not directly related to the application and even (especially?!) if it&amp;#39;s thought to be assumed.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;firewall behavior&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;load balancer logic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;request throttling&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;JVM configuration&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;appserver configuration&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;relationship of application to other apps in environment&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;how many applications are running within a JVM or on a box&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;thread pools and configuration (throttling, min/max, growth)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;db pool config&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;database server config (memory, available connections to all applications, not just the one being deployed)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;network latency and error thresholds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;environment capacity&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;disclaimers on environmental issues which will affect application&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;[4] Since virtually nobody has an actual replica of production, dictate that an environment must be made available that everyone agrees on as being the &amp;#39;spec&amp;#39; to which the app will be built and signed off on. The client must then accept that since their prod environment does not match that spec, any risk of issues going into prod are theirs -- such as bugs, crashes, delays, etc.&lt;/p&gt;

&lt;p&gt;[5] If a client does not have adequate testing tools or refuses to provide opportunities for load testing (internal tools, Gomez, Keynote etc) then an official disclaimer must be communicated to the client (see above).&lt;/p&gt;

&lt;p&gt;[6] Always get a baseline of a production environment before deployment:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;thread dumps&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;application performance numbers&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;network errors/latency/performance&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;application logs&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;[7] Do not assume that because code has worked in other environments that it will work in your clients.&lt;/p&gt;

&lt;p&gt;[8] The client doesn&amp;#39;t care if it works anywhere else besides their prod environment -- even if it works in the dev environment they provided. See [4] above.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>I hate Word.</title>
   <link href="http://benjchristensen.com/personal/2007/08/28/i-hate-word/"/>
   <updated>2007-08-28T06:30:58-07:00</updated>
   <id>http://benjchristensen.com/personal/2007/08/28/i-hate-word</id>
   <content type="html">&lt;p&gt;I hate Microsoft Word tonight.&lt;/p&gt;

&lt;p&gt;I put columns in my document, so it creates a new &amp;quot;section&amp;quot; around each one.&lt;/p&gt;

&lt;p&gt;That then means that page numbering is all screwed up -- and even though I tell it to continue page numbering from the previous section it still doesn&amp;#39;t do so -- so I either can&amp;#39;t have page numbering correct in my TOC and footers, or I can&amp;#39;t use columns.&lt;/p&gt;

&lt;p&gt;I HATE WORD.&lt;/p&gt;

&lt;p&gt;Wordperfect had this all working properly like 15 years ago in version 5.1 ... and it let me actually see the stupid codes instead of hiding it all behind a useless GUI.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>C3P0 Configuration</title>
   <link href="http://benjchristensen.com/code/2007/08/16/c3p0-configuration/"/>
   <updated>2007-08-16T02:18:11-07:00</updated>
   <id>http://benjchristensen.com/code/2007/08/16/c3p0-configuration</id>
   <content type="html">&lt;p&gt;http://www.hibernate.org/214.html&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;testConnectionOnCheckout&lt;/strong&gt; Must be set in c3p0.properties, C3P0 default: false&lt;/p&gt;

&lt;p&gt;Don&amp;#39;t use it, this feature is very expensive. If set to true, an operation will be performed at every connection checkout to verify that the connection is valid. A better choice is to verify connections periodically using c3p0.idleConnectionTestPeriod.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Akamai Web Services Acceleration</title>
   <link href="http://benjchristensen.com/infrastructure/2007/07/18/akamai-web-services-acceleration/"/>
   <updated>2007-07-18T00:01:08-07:00</updated>
   <id>http://benjchristensen.com/infrastructure/2007/07/18/akamai-web-services-acceleration</id>
   <content type="html">&lt;p&gt;Web Services served through Akamai&amp;#39;s acceleration take 61% of the time without acceleration.&lt;/p&gt;

&lt;p&gt;Time in image is in milliseconds.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/07/spexlive-akamai-vs-direct.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2007/07/spexlive-akamai-vs-direct.png&quot; alt=&quot;spexlive-akamai-vs-direct.png&quot;&gt; &lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Technical Status Report</title>
   <link href="http://benjchristensen.com/fun/2007/06/03/technical-status-report/"/>
   <updated>2007-06-03T14:50:15-07:00</updated>
   <id>http://benjchristensen.com/fun/2007/06/03/technical-status-report</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/06/dilbert2007060174573.jpg&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2007/06/dilbert2007060174573.jpg&quot; alt=&quot;dilbert2007060174573.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Java and Adobe Flex</title>
   <link href="http://benjchristensen.com/code/tools/2007/05/06/java-and-adobe-flex/"/>
   <updated>2007-05-06T22:47:21-07:00</updated>
   <id>http://benjchristensen.com/code/tools/2007/05/06/java-and-adobe-flex</id>
   <content type="html">&lt;p&gt;Bruce Eckel talking about &amp;quot;Hybridizing Java&amp;quot; through the use of Flex for the UI.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.artima.com/weblogs/viewpost.jsp?thread=193593&quot;&gt; http://www.artima.com/weblogs/viewpost.jsp?thread=193593&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://www.flex.org/java/&quot;&gt;Flex.org&lt;/a&gt; for more information.&lt;/p&gt;

&lt;p&gt;I&amp;#39;m starting to get tired of continually messing with DHTML, CSS and AJAX ... it may be the right time for Flex now that it&amp;#39;s version 2, it&amp;#39;s going opensource, and costs are down.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sales Campaign</title>
   <link href="http://benjchristensen.com/fun/2007/04/04/sales-campaign/"/>
   <updated>2007-04-04T12:06:50-07:00</updated>
   <id>http://benjchristensen.com/fun/2007/04/04/sales-campaign</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/04/dilbert-increase-sales-small.jpg&quot;&gt;&lt;img src=&quot;https://benjchristensen.files.wordpress.com/2007/04/dilbert-increase-sales-small.thumbnail.jpg&quot; alt=&quot;Dilbert Sales Campaign&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sort Performance</title>
   <link href="http://benjchristensen.com/code/performance/2007/04/03/sort-performance/"/>
   <updated>2007-04-03T07:30:01-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2007/04/03/sort-performance</id>
   <content type="html">&lt;p&gt;We did some simple testing on various sort algorithms we found and compared them with the Java Arrays.sort QuickSort implementation.&lt;/p&gt;

&lt;p&gt;This is rudimentary testing since it&amp;#39;s not attempting to test all the variety of distributions of numbers that could exist and should be tested.&lt;/p&gt;

&lt;p&gt;That being said, we are creating a collection of 50k, 500k, or 5million numbers randomly generated, and then cloning that collection to be sorted by each of the algorithms.&lt;/p&gt;

&lt;p&gt;This first test had 1/2 the numbers as 4 digits, the other half as 5 digits meaning that in the larger collects, there should be a lot of duplicates.&lt;/p&gt;

&lt;p&gt;The second test below had 1/2 the numbers as 4 digits, the other half as 8 digits.&lt;/p&gt;

&lt;p&gt;This change in number of digits makes dramatic changes for FlashSort and completely breaks it.&lt;/p&gt;

&lt;p&gt;Radix is just bad all the time ... I have yet to figure out where it&amp;#39;s strength lies.&lt;/p&gt;

&lt;p&gt;This is not thorough enough to make any conclusion, but I found it interesting nonetheless.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Test 1 with 4 &amp;amp; 5 digit numbers&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Run with 50k&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 15ms
FlashSort.sort(int) =&amp;gt; 11ms  Valid: true
fastqs.sort(int) =&amp;gt; 10ms  Valid: true
eqsort.sort(int) =&amp;gt; 16ms  Valid: true
radix.sort(int) =&amp;gt; 175ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 5) =&amp;gt; 130ms  Valid: true&lt;/h2&gt;

&lt;h2&gt;Run with 500k&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 101ms
FlashSort.sort(int) =&amp;gt; 56ms  Valid: true
fastqs.sort(int) =&amp;gt; 72ms  Valid: true
eqsort.sort(int) =&amp;gt; 96ms  Valid: true
radix.sort(int) =&amp;gt; 2164ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 5) =&amp;gt; 1203ms  Valid: true&lt;/h2&gt;

&lt;h2&gt;Run with 5million&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 748ms
FlashSort.sort(int) =&amp;gt; 717ms  Valid: true
fastqs.sort(int) =&amp;gt; 780ms  Valid: true
eqsort.sort(int) =&amp;gt; 1625ms  Valid: true
radix.sort(int) =&amp;gt; 82218ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 5) =&amp;gt; 11387ms  Valid: true&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Test 1 with 4 &amp;amp; 8 digit numbers&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Run with 50k&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 14ms
FlashSort.sort(int) =&amp;gt; 662ms  Valid: true
fastqs.sort(int) =&amp;gt; 10ms  Valid: true
eqsort.sort(int) =&amp;gt; 11ms  Valid: true
radix.sort(int) =&amp;gt; 294ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 8 ) =&amp;gt; 225ms  Valid: true&lt;/h2&gt;

&lt;h2&gt;Run with 500k&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 91ms
FlashSort.sort(int) =&amp;gt; 17832ms  Valid: true
fastqs.sort(int) =&amp;gt; 72ms  Valid: true
eqsort.sort(int) =&amp;gt; 95ms  Valid: true
radix.sort(int) =&amp;gt; 2066ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 8 ) =&amp;gt; 2003ms  Valid: true&lt;/h2&gt;

&lt;h2&gt;Run with 5million&lt;/h2&gt;

&lt;p&gt;Arrays.sort(int) =&amp;gt; 909ms
FlashSort.sort(int) =&amp;gt; 197796ms  Valid: true
fastqs.sort(int) =&amp;gt; 825ms  Valid: true
eqsort.sort(int) =&amp;gt; 1494ms  Valid: true
radix.sort(int) =&amp;gt; 22957ms  Valid: true&lt;/p&gt;

&lt;h2&gt;radix.sort(int, 8 ) =&amp;gt; 20041ms  Valid: true&lt;/h2&gt;
</content>
 </entry>
 
 <entry>
   <title>ARL Radix Sort</title>
   <link href="http://benjchristensen.com/code/performance/2007/03/29/arl-radix-sort/"/>
   <updated>2007-03-29T13:42:37-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2007/03/29/arl-radix-sort</id>
   <content type="html">&lt;p&gt;Very cool whitepaper on ARL Radix Sort showing how it&amp;#39;s better than Quicksort and normal Radix sort.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nik.no/2002/Maus.pdf&quot;&gt; http://www.nik.no/2002/Maus.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;... (April 2nd) ... never was able to find a working implementation to try out though ...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>High Performance Java Collections</title>
   <link href="http://benjchristensen.com/code/performance/2007/03/28/high-performance-java-collections/"/>
   <updated>2007-03-28T14:25:33-07:00</updated>
   <id>http://benjchristensen.com/code/performance/2007/03/28/high-performance-java-collections</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve been using Gnu Trove collections for years very happily, but someone just sent me a link to something new ...&lt;/p&gt;

&lt;p&gt;http://fastutil.dsi.unimi.it/&lt;/p&gt;

&lt;p&gt;It looks quite interesting to go try out.&lt;/p&gt;

&lt;p&gt;Another related project by the same guys is: http://mg4j.dsi.unimi.it/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Elements of a Roadmap</title>
   <link href="http://benjchristensen.com/architecture/management%20&amp;%20leadership/2007/03/24/elements-of-a-roadmap/"/>
   <updated>2007-03-24T16:53:22-07:00</updated>
   <id>http://benjchristensen.com/architecture/management%20&amp;%20leadership/2007/03/24/elements-of-a-roadmap</id>
   <content type="html">&lt;p&gt;I found a good list of elements for a roadmap by &lt;a href=&quot;http://blogs.msdn.com/nickmalik/archive/2007/03/12/so-what-s-in-a-roadmap-anyway.aspx&quot;&gt;NickMalik&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Purpose of this Document  - why write the doc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stakeholder Chart - whose needs are being met with the solution&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Signoff Chart - timestamp and id of person who signs off.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;High Level Platform Capabilities - the solution capabilities demanded by the business&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Business Drivers for the Capabilities - the list of business programs or business teams that will use the system&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Capability Demand - which business are asking for which capabilities.  An interesting grid.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Technical Interdependencies - what other systems rely on this solution.  What other systems does this solution rely on?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Enterprise Architecture Concerns - what agreements have been made with EA to get alignment of the solution to EA standards.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Architectural Context - one or more diagrams showing how the solution platform will evolve over time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Methodology - how this document and concensus was created.  What meetings were held.  Who was in the room.  (it matters)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Roadmap schedule - what timelines everything thinks are reasonable for delivering the needs to different business customers&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;System Quality Attributes - what quality attributes will be stressed in each of the iterations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alternatives considered - what alternatives to this roadmap were considered and why this one was chosen.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Roadmap Risks - what could go wrong and who is assigned to watch for it&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Platform Historical Narrative - previous decisions and narrative so that we can always answer the question: how did we ever get in a bind like this?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Double Check Locking</title>
   <link href="http://benjchristensen.com/code/2007/03/13/double-check-locking/"/>
   <updated>2007-03-13T09:40:38-07:00</updated>
   <id>http://benjchristensen.com/code/2007/03/13/double-check-locking</id>
   <content type="html">&lt;p&gt;Recently re-visited the double-check-locking pattern (or anti-pattern).&lt;/p&gt;

&lt;p&gt;It doesn&amp;#39;t work in JDK 1.4 and earlier ... however, in JDK 5, it&amp;#39;s updated memory model allows it to be used safely.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Double-checked_locking&quot;&gt;Wikipedia - Double Check Locking
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blogs.sun.com/cwebster/entry/double_check_locking&quot;&gt;Sun Blog on JDK 5 and Double Check Locking
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Another possible solution that has the benefit of enforcing compilation ONLY with JDK 1.5 and later is a use of something called AtomicReference.&lt;/p&gt;

&lt;p&gt;I haven&amp;#39;t played with them yet, but some information can be found at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www-128.ibm.com/developerworks/java/library/j-jtp04186/&quot;&gt;Introduction to Non-Blocking Algorithms&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>32-bit versus 64-bit JDK Memory Usage</title>
   <link href="http://benjchristensen.com/code/performance/2007/02/16/32-bit-versus-64-bit-jdk-memory-usage/"/>
   <updated>2007-02-16T13:06:00-08:00</updated>
   <id>http://benjchristensen.com/code/performance/2007/02/16/32-bit-versus-64-bit-jdk-memory-usage</id>
   <content type="html">&lt;p&gt;Summary of analysis performed September 2006.&lt;/p&gt;

&lt;p&gt;Testing Strategy&lt;/p&gt;

&lt;p&gt;To ensure the tests performed were reliable and behaved the same every time with as few variables as possible, a simple program (a single java class) was written which loops indefinitely, adding objects to a collection until it runs out of memory.&lt;/p&gt;

&lt;p&gt;This test was performed with both Integer and String objects, and then executed with 3 different JVMs with varying heap settings.&lt;/p&gt;

&lt;p&gt;The results and details of these tests are documented in later chapters.&lt;/p&gt;

&lt;p&gt;JVMs tested:
- JDK 1.4.2 32-bit
- JDK 1.5 32-bit
- JDK 1.5 64-bit&lt;/p&gt;

&lt;p&gt;Operating Systems Tested
- Solaris 10 on Opterons
- Suse Linux 10 on Opterons&lt;/p&gt;

&lt;p&gt;The tests are far from exhaustive, but were enough to derive numbers and patterns whereby the JVMs can be sized accurately and recommendations made.&lt;/p&gt;

&lt;p&gt;Findings&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Tests performed consistently on both Linux and Solaris (except for maximum heap sizes)&lt;/li&gt;
&lt;li&gt;JDK 5 64-bit takes between 40% - 50% more memory on average than either 32-bit JVM&lt;/li&gt;
&lt;li&gt;&lt;p&gt;JDK 1.4 32-bit is slightly more memory efficient than JDK 5 32-bit
o It is slightly better than JDK 5 32-bit in Integer tests
o It is exactly the same as JDK 5 32-bit in String tests&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Solaris 10 can run a 32-bit JVM up to 3.5GB&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Suse Linux can run a 32-bit JVM up to 2GB&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A 64-bit JVM was successfully run at 20GB on Suse Linux&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A 2GB 32-bit JVM is approximately equivalent to a 3GB 64-bit JVM in number of objects stored
o ie. On Suse Linux, if more than 2GB heap is needed, then one must jump to a 3GB 64-bit JVM to achieve the same amount of storage
o ie. On Solaris, if more than 3.5GB heap is needed, then one must jump to a 5GB 64-bit JVM to achieve the same amount of storage&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Recommendations&lt;/p&gt;

&lt;p&gt;Based upon these findings, it is recommended that JDK 5 32-bit be used as the default JVM, and 64-bit used if more memory is needed than what can be allocated to a 32-bit JVM with the understanding of the ratio one must increase to account for the change to a 64-bit data model.&lt;/p&gt;

&lt;p&gt;The reasons for choosing JDK 5 over JDK 1.4 are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;JDK 5 is the current recommended production JVM from Sun Microsystems
o It has been out for more than 2 years and is at its 8th maintenance release (JDK 1.5_08)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;General performance improvements from JDK 1.4 to JDK 5
o http://java.sun.com/j2se/1.5.0/docs/guide/performance/speed.html
o http://java.sun.com/j2se/1.5.0/docs/guide/vm/index.html&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Improved garbage collection algorithms, particularly for multi-processor machines
o http://java.sun.com/docs/hotspot/gc5.0/gc&lt;em&gt;tuning&lt;/em&gt;5.html&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;64-bit JVM available on AMD Opterons when larger heap sizes required (not available for JDK 1.4)
o http://java.sun.com/j2se/1.5.0/docs/relnotes/features.html#platform_proc64&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Summary&lt;/p&gt;

&lt;p&gt;The tests performed confirmed that the 64-bit JVM does indeed use more memory than the 32-bit JVMs, but that it behaves consistently and can be calculated, and therefore planned for.
It is recommended to use JDK 5 32-bit as the default JVM, and the 64-bit variant when larger heap sizes are required.&lt;/p&gt;

&lt;p&gt;Java Source File: &lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/04/memorytestjava.doc&quot;&gt;MemoryTest.java&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Keyword Search - Spelling Suggestions</title>
   <link href="http://benjchristensen.com/code/2007/01/08/keyword-search-spelling-suggestions/"/>
   <updated>2007-01-08T09:19:00-08:00</updated>
   <id>http://benjchristensen.com/code/2007/01/08/keyword-search-spelling-suggestions</id>
   <content type="html">&lt;p&gt;Here are some valuable links related to how to provide spelling suggestions in keyword search.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://today.java.net/pub/a/today/2005/08/09/didyoumean.html&quot;&gt;Lucene: Did you mean?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://aspell.net/&quot;&gt;GNU Aspell&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jazzy.sourceforge.net/&quot;&gt;Jazzy&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www-128.ibm.com/developerworks/java/library/j-jazzy/&quot;&gt;Can&amp;#39;t beat Jazzy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jaspell.sourceforge.net/&quot;&gt;JaSpell&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordlist.sourceforge.net/&quot;&gt;Wordlist&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://acl.ldc.upenn.edu/acl2004/emnlp/pdf/Cucerzan.pdf&quot;&gt;Whitepaper&lt;/a&gt; on exploiting past search history&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Spellcheck&quot;&gt;SpellCheck on Wikipedia&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is a commercial option in Java if Jazzy isn&amp;#39;t good enough ...&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.thesolutioncafe.com/java-spell-checker.html&quot;&gt;JSpell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And some interesting links on N-Grams that Lucene and Google use:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://googleresearch.blogspot.com/2006/08/all-our-n-gram-are-belong-to-you.html&quot;&gt;Google Releases N-Grams&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/N-gram&quot;&gt;Wikipedia - N-Gram
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Dual Big Screens for Development</title>
   <link href="http://benjchristensen.com/2007/01/05/dual-big-screens-for-development/"/>
   <updated>2007-01-05T12:45:00-08:00</updated>
   <id>http://benjchristensen.com/2007/01/05/dual-big-screens-for-development</id>
   <content type="html">&lt;p&gt;Martin Fowler comments on something I agree with ... big screens increase productivity and make development easier.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://martinfowler.com/bliki/BigScreen.html&quot;&gt;http://martinfowler.com/bliki/BigScreen.html&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sun x4200 vs Sun T1000 => inQuireServer & inQuireWeb</title>
   <link href="http://benjchristensen.com/performance/2007/01/04/sun-x4200-vs-sun-t1000-inquireserver-inquireweb/"/>
   <updated>2007-01-04T23:03:00-08:00</updated>
   <id>http://benjchristensen.com/performance/2007/01/04/sun-x4200-vs-sun-t1000-inquireserver-inquireweb</id>
   <content type="html">&lt;p&gt;inQuireServer Tests&lt;/p&gt;

&lt;p&gt;A test was done using JMeter using an inQuire Client accessing an inQuire server running on the same local machine.&lt;/p&gt;

&lt;p&gt;This is done over JINI using JERI.&lt;/p&gt;

&lt;p&gt;Configuration was:
- Catalog: AIDC
- Server Heap: 1GB
- Client Heap: 512MB
- Server JVM: 1.5
- Client JVM: 1.5
- inQuire Build: 4th Jan 07
- Client side caching turned on: Yes&lt;/p&gt;

&lt;p&gt;The following image shows the results (times in ms):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp0.blogger.com/_CvV7agFF3Zc/RaKlfxUhp6I/AAAAAAAAACQ/VBstnK8RqIw/s1600-h/t1000-x4200-inquire-server.png&quot;&gt;&lt;img src=&quot;http://bp0.blogger.com/_CvV7agFF3Zc/RaKlfxUhp6I/AAAAAAAAACQ/VBstnK8RqIw/s400/t1000-x4200-inquire-server.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;
First Test - DC, Keyword and Complex&lt;/p&gt;

&lt;p&gt;The T1000 performs very poorly when the thread count is low.&lt;/p&gt;

&lt;p&gt;Interestingly however, even though it&amp;#39;s gap with the X4200 does reduce, it never gets better, or even close to as good as the X4200.&lt;/p&gt;

&lt;p&gt;And surprisingly, it crashes and burns when we try and hit 5000 threads -- a level that is ridiculously slow on the X4200, but at least it runs.&lt;/p&gt;

&lt;p&gt;Second Test - DC Only&lt;/p&gt;

&lt;p&gt;The second round of tests showed an interesting result -- that the T1000 performs MUCH better when IO intensive tasks are avoided -- such as keyword search which hits the filesystem.&lt;/p&gt;

&lt;p&gt;It&amp;#39;s still not as good as the X4200 at low thread counts, but much more reasonable -- and does end up scaling better than the X4200.&lt;/p&gt;

&lt;p&gt;However, in my opinion, the scale it shows is not nearly superior enough to the X4200 to sacrifice the performance at low or single thread counts, and especially not the lack of Filesystem IO.&lt;/p&gt;

&lt;p&gt;inQuireWeb Tests&lt;/p&gt;

&lt;p&gt;The next round of testing as against Tomcat running inQuireWeb backed by inQuireServer instances as already tested above.&lt;/p&gt;

&lt;p&gt;Client side caching was enabled in inQuireWeb so as to reduce hits to the servers and test Tomcat specifically.&lt;/p&gt;

&lt;p&gt;The following image shows how if Tomcat and the inQuireServer were on the same machine, the X4200 was superior, while if Tomcat was on the T1000, and inQuireServer on the X4200, then the T1000 came out on top when it started to scale.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp0.blogger.com/_CvV7agFF3Zc/RaKl0xUhp7I/AAAAAAAAACY/C4k0dvoE_Og/s1600-h/t1000-x4200-inquireweb.png&quot;&gt;&lt;img src=&quot;http://bp0.blogger.com/_CvV7agFF3Zc/RaKl0xUhp7I/AAAAAAAAACY/C4k0dvoE_Og/s400/t1000-x4200-inquireweb.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;So the conclusion from these tests are that the T1000 does indeed have certain niches where it can perform and scale better than the Opteron based X4200 -- but they are hard to find, and if you don&amp;#39;t fit that exact niche, a huge performance hit will be incurred.&lt;/p&gt;

&lt;p&gt;At this point, databases and the inQuireServer are out of the questions for the T1000 -- relegating it to a glorifed webserver ... able to host Apache and/or Tomat, as long as the heavy lifting of searches and IO are done elsewhere -- such as on the X4200.&lt;/p&gt;

&lt;p&gt;Ben&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sun x4200 vs Sun T1000 => Load Server</title>
   <link href="http://benjchristensen.com/performance/2007/01/01/sun-x4200-vs-sun-t1000-load-server/"/>
   <updated>2007-01-01T23:06:00-08:00</updated>
   <id>http://benjchristensen.com/performance/2007/01/01/sun-x4200-vs-sun-t1000-load-server</id>
   <content type="html">&lt;p&gt;Testing the Sun T1000 and Sun X4200 continues ...&lt;/p&gt;

&lt;p&gt;... with the databases loaded, I&amp;#39;m now starting the inQuire Server with various types of configuration involving indexing in MEMORY, FILESYSTEM or DATABASE.&lt;/p&gt;

&lt;p&gt;I understand that these processes are still primarily single-threaded ... but I&amp;#39;m so far not very impressed by the T1000.&lt;/p&gt;

&lt;p&gt;If it takes 7+ times longer to initialize a process before I can even get to a point where parallel processing can occur, it&amp;#39;s questionable if it&amp;#39;s worth it.&lt;/p&gt;

&lt;p&gt;And ... the inQuire Keyword FILESYSTEM implementation is really slow and needs to be replaced.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp1.blogger.com/_CvV7agFF3Zc/RZoE59x2RNI/AAAAAAAAABs/a_b6ioJyZX4/s1600-h/t1000vsx4200-load.png&quot;&gt;
&lt;/a&gt;&lt;a href=&quot;http://bp1.blogger.com/_CvV7agFF3Zc/RaKf4BUhp5I/AAAAAAAAACE/RvKnopcAJo0/s1600-h/t1000-x4200-load.png&quot;&gt;&lt;img src=&quot;http://bp1.blogger.com/_CvV7agFF3Zc/RaKf4BUhp5I/AAAAAAAAACE/RvKnopcAJo0/s400/t1000-x4200-load.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sun x4200 vs Sun T1000 => Importing Content</title>
   <link href="http://benjchristensen.com/performance/2007/01/01/sun-x4200-vs-sun-t1000-importing-content/"/>
   <updated>2007-01-01T18:03:00-08:00</updated>
   <id>http://benjchristensen.com/performance/2007/01/01/sun-x4200-vs-sun-t1000-importing-content</id>
   <content type="html">&lt;p&gt;Here are some numbers showing performance of our inQuire Importer against a MySQL 5.x database using our IT North American catalog with 500k+ products.&lt;/p&gt;

&lt;p&gt;Basically it seems the T1000 is HORRIBLE for this type of application.&lt;/p&gt;

&lt;p&gt;Of it&amp;#39;s 32 available CPU cores, generally only 1 of them is being used during these processes -- when multiprocessing maybe 4 or 5 of them.&lt;/p&gt;

&lt;p&gt;The X4200 basically ends up being 7x faster than the T1000.&lt;/p&gt;

&lt;p&gt;Next tests are using Tomcat on the T1000 to try it&amp;#39;s multiprocessing.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RZm-kdx2RMI/AAAAAAAAABc/R_EJA6xG9N4/s1600-h/t1000vsx4200-imports.png&quot;&gt;&lt;img src=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RZm-kdx2RMI/AAAAAAAAABc/R_EJA6xG9N4/s400/t1000vsx4200-imports.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>U3 on Flash drive very uncool</title>
   <link href="http://benjchristensen.com/2006/12/05/u3-on-flash-drive-very-uncool/"/>
   <updated>2006-12-05T23:30:00-08:00</updated>
   <id>http://benjchristensen.com/2006/12/05/u3-on-flash-drive-very-uncool</id>
   <content type="html">&lt;p&gt;I agree with this post &lt;a href=&quot;http://www.mischel.com/diary/2006/06/23.htm&quot;&gt;http://www.mischel.com/diary/2006/06/23.htm&lt;/a&gt;  &lt;/p&gt;

&lt;p&gt;Why does a flash drive come with a permanent CD-ROM partition on it that can&amp;#39;t be removed by formatting and that mounts every time I put it in?  &lt;/p&gt;

&lt;p&gt;Very wrong. Very.  &lt;/p&gt;

&lt;p&gt;... a little later while trying to remove the stupid thing ... it&amp;#39;s even worse ... the only uninstaller available is for Windows only! Freak! (http://www.u3.com/uninstall/) I really don&amp;#39;t like this company.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RXZx53FH-TI/AAAAAAAAAAk/IUyoVzpqoP4/s1600-h/Picture+1.png&quot;&gt;&lt;img src=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RXZx53FH-TI/AAAAAAAAAAk/IUyoVzpqoP4/s320/Picture+1.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Terracotta</title>
   <link href="http://benjchristensen.com/2006/12/05/terracotta/"/>
   <updated>2006-12-05T21:55:00-08:00</updated>
   <id>http://benjchristensen.com/2006/12/05/terracotta</id>
   <content type="html">&lt;p&gt;Looks very cool ...&lt;/p&gt;

&lt;p&gt;http://terracotta.org/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Web Service Performance with Netli/Akamai</title>
   <link href="http://benjchristensen.com/performance/2006/12/05/web-service-performance-with-netliakamai/"/>
   <updated>2006-12-05T21:02:00-08:00</updated>
   <id>http://benjchristensen.com/performance/2006/12/05/web-service-performance-with-netliakamai</id>
   <content type="html">&lt;p&gt;Web Service tests performed against Netli and Akamai.&lt;/p&gt;

&lt;p&gt;First column is origin, second is Netli, third is Akamai.&lt;/p&gt;

&lt;p&gt;Each test executed the same request/response 25 times and gave the average.&lt;/p&gt;

&lt;p&gt;It alternated between each of the 3 sources, doing 1 request at a time, so a total of 75 in a single test.&lt;/p&gt;

&lt;p&gt;NOTE: Servers are located in Los Angeles -- so the times for the client also being in Los Angeles are deceiving.&lt;/p&gt;

&lt;p&gt;November Web Service Tests&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp3.blogger.com/_CvV7agFF3Zc/RXZPIHFH-SI/AAAAAAAAAAU/ylUXkEEc0jw/s1600-h/summary-webservices.png&quot;&gt;&lt;img src=&quot;http://bp3.blogger.com/_CvV7agFF3Zc/RXZPIHFH-SI/AAAAAAAAAAU/ylUXkEEc0jw/s400/summary-webservices.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Dec 5/6 Web Service Tests&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RXdHTnFH-UI/AAAAAAAAAAw/Jf93TNrXf0g/s1600-h/web-services-dec6.png&quot;&gt;&lt;img src=&quot;http://bp2.blogger.com/_CvV7agFF3Zc/RXdHTnFH-UI/AAAAAAAAAAw/Jf93TNrXf0g/s400/web-services-dec6.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Charts with Javascript</title>
   <link href="http://benjchristensen.com/user%20interface/2006/11/27/charts-with-javascript/"/>
   <updated>2006-11-27T10:07:00-08:00</updated>
   <id>http://benjchristensen.com/user%20interface/2006/11/27/charts-with-javascript</id>
   <content type="html">&lt;p&gt;Cool javascript charting library ...
&lt;a href=&quot;http://www.liquidx.net/plotkit/&quot;&gt;
http://www.liquidx.net/plotkit/&lt;/a&gt;
&lt;a href=&quot;http://media.liquidx.net/js/plotkit-tests/dynamic.html&quot;&gt;
http://media.liquidx.net/js/plotkit-tests/dynamic.html&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>WebApp Performance Optimizations</title>
   <link href="http://benjchristensen.com/performance/user%20interface/2006/11/13/performance-optimizations/"/>
   <updated>2006-11-13T23:56:00-08:00</updated>
   <id>http://benjchristensen.com/performance/user%20interface/2006/11/13/performance-optimizations</id>
   <content type="html">&lt;p&gt;Playing around with real-world performance optimizations found JSMin to work quite well ... and very big gains by doing the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;combining multiple Javascript files into a single file&lt;/li&gt;
&lt;li&gt;using a JSMin servlet filter to minimize and cache in memory the Javascript file to return&lt;/li&gt;
&lt;li&gt;adding a filter to add HTTP Header caching to static files&lt;/li&gt;
&lt;li&gt;reducing file sizes for product images&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>C3P0 Validation</title>
   <link href="http://benjchristensen.com/code/2006/11/13/c3p0-validation/"/>
   <updated>2006-11-13T23:53:00-08:00</updated>
   <id>http://benjchristensen.com/code/2006/11/13/c3p0-validation</id>
   <content type="html">&lt;p&gt;We were getting random broken connections ... the following properties got rid of them.&lt;/p&gt;

&lt;p&gt;c3p0.testConnectionOnCheckout=true
c3p0.preferredTestQuery=select 1&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://adnanm.blogspot.com/2007/07/monitoring-c3p0-using-jmxjconsole.html&quot;&gt;Adnan&amp;#39;s site&lt;/a&gt; for more information on C3P0.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Javascript optimization?</title>
   <link href="http://benjchristensen.com/performance/user%20interface/2006/10/30/javascript-optimization/"/>
   <updated>2006-10-30T11:18:00-08:00</updated>
   <id>http://benjchristensen.com/performance/user%20interface/2006/10/30/javascript-optimization</id>
   <content type="html">&lt;p&gt;From what I can tell ... the best bets are:&lt;/p&gt;

&lt;p&gt;Use this to minimize file size: http://alex.dojotoolkit.org/shrinksafe/&lt;/p&gt;

&lt;p&gt;Then enabled mod&lt;em&gt;deflate rather than mod&lt;/em&gt;gzip&lt;/p&gt;

&lt;p&gt;... make sure Apache is doing compression in memory, and not on the filesystem.&lt;/p&gt;

&lt;p&gt;Then, actually change JS and CSS filenames each time they change so we can forcefully set very long cache refresh times so they never expire.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Javascript and CSS Optimization</title>
   <link href="http://benjchristensen.com/performance/user%20interface/2006/10/30/javascript-and-css-optimization/"/>
   <updated>2006-10-30T10:21:00-08:00</updated>
   <id>http://benjchristensen.com/performance/user%20interface/2006/10/30/javascript-and-css-optimization</id>
   <content type="html">&lt;p&gt;Some good links on the subject ...&lt;/p&gt;

&lt;p&gt;http://yuiblog.com/blog/2006/10/16/pageweight-yui0114/&lt;/p&gt;

&lt;p&gt;http://www.crockford.com/javascript/jsmin.html&lt;/p&gt;

&lt;p&gt;http://dojotoolkit.org/docs/compressor_system.html&lt;/p&gt;

&lt;p&gt;http://www.thinkvitamin.com/features/webapps/serving-javascript-fast&lt;/p&gt;

&lt;p&gt;http://www.die.net/musings/page&lt;em&gt;load&lt;/em&gt;time/&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Example of Manually Doing a GZIP HTTP Request</title>
   <link href="http://benjchristensen.com/code/2006/10/27/example-of-manually-doing-a-gzip-http-request/"/>
   <updated>2006-10-27T12:35:00-07:00</updated>
   <id>http://benjchristensen.com/code/2006/10/27/example-of-manually-doing-a-gzip-http-request</id>
   <content type="html">&lt;p&gt;GET /inQuireWeb/pages/home.jsp HTTP/1.1
Host: inquire.etilize.com
Connection: close
Accept-Encoding: gzip
Accept: text/xml,application/xml,application/xhtml+xml,text/html;
Accept-Language: en-us,en;q=0.5
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Databases in appserver environments ...</title>
   <link href="http://benjchristensen.com/code/2006/09/25/databases-in-appserver-environments/"/>
   <updated>2006-09-25T20:31:00-07:00</updated>
   <id>http://benjchristensen.com/code/2006/09/25/databases-in-appserver-environments</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.xigole.com/software/jisql.jsp&quot;&gt;Jisql&lt;/a&gt; is the only way to survive in a server environment -- on a server with no client access to the db, except for the app you&amp;#39;re trying to debug ...&lt;/p&gt;

&lt;p&gt;Use Jisql from the command line :-)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sandwich</title>
   <link href="http://benjchristensen.com/fun/2006/09/14/sandwich/"/>
   <updated>2006-09-14T14:46:00-07:00</updated>
   <id>http://benjchristensen.com/fun/2006/09/14/sandwich</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/04/sandwich.png&quot;&gt;&lt;img src=&quot;http://benjchristensen.files.wordpress.com/2007/04/sandwich.png&quot; alt=&quot;Sandwich&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Add All New Files with SVN</title>
   <link href="http://benjchristensen.com/code/2006/09/01/add-all-new-files-with-svn/"/>
   <updated>2006-09-01T17:46:00-07:00</updated>
   <id>http://benjchristensen.com/code/2006/09/01/add-all-new-files-with-svn</id>
   <content type="html">&lt;p&gt;Add this to .bash_profile for a quick command line for adding all new files in a working directory.&lt;/p&gt;

&lt;p&gt;svn&lt;em&gt;add&lt;/em&gt;all(){
svn status | grep &amp;quot;^?&amp;quot; | awk &amp;#39;{print $2}&amp;#39; | xargs svn add
}&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Multithreaded in Javascript</title>
   <link href="http://benjchristensen.com/code/user%20interface/2006/04/10/multithreaded-in-javascript/"/>
   <updated>2006-04-10T15:56:00-07:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2006/04/10/multithreaded-in-javascript</id>
   <content type="html">&lt;p&gt;http://www.onjava.com/lpt/a/6539&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>JBoss and session persistence</title>
   <link href="http://benjchristensen.com/code/2006/03/31/jboss-and-session-persistence/"/>
   <updated>2006-03-31T14:25:00-08:00</updated>
   <id>http://benjchristensen.com/code/2006/03/31/jboss-and-session-persistence</id>
   <content type="html">&lt;p&gt;JBoss 4.0.3 by default has session persistence turned off.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.jboss.org/wiki/Wiki.jsp?page=DisableSessionPersistence&quot;&gt;JBoss WIKI&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the context.xml file:&lt;/p&gt;

&lt;h1&gt;pwd&lt;/h1&gt;

&lt;p&gt;/apps/jboss/server/default/deploy/jbossweb-tomcat55.sar&lt;/p&gt;

&lt;h1&gt;more context.xml&lt;/h1&gt;

&lt;p&gt;org.jboss.web.tomcat.security.RunAsListener&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>J2EE Security in JBoss</title>
   <link href="http://benjchristensen.com/code/2006/03/24/j2ee-security-in-jboss/"/>
   <updated>2006-03-24T15:10:00-08:00</updated>
   <id>http://benjchristensen.com/code/2006/03/24/j2ee-security-in-jboss</id>
   <content type="html">&lt;p&gt;In the login-config.xml file&lt;/p&gt;

&lt;p&gt;&lt;application-policy name = &quot;VTNSite&quot;&gt;
&lt;authentication&gt;&lt;/p&gt;

&lt;p&gt;&lt;login-module code=&quot;org.jboss.security.auth.spi.UsersRolesLoginModule&quot; flag = &quot;required&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;module-option name=&quot;usersProperties&quot;&gt;props/console-users.properties&lt;/module-option&gt;&lt;/p&gt;

&lt;p&gt;&lt;module-option name=&quot;rolesProperties&quot;&gt;props/console-roles.properties&lt;/module-option&gt;&lt;/p&gt;

&lt;p&gt;&lt;/login-module&gt;&lt;/p&gt;

&lt;p&gt;&lt;/authentication&gt;
&lt;/application-policy&gt;&lt;/p&gt;

&lt;p&gt;/server/default/conf/props&amp;gt; more console-roles.properties &lt;/p&gt;

&lt;h1&gt;A sample roles.properties file for use with the UsersRolesLoginModule&lt;/h1&gt;

&lt;p&gt;admin=VTNSysAdmin&lt;/p&gt;

&lt;p&gt;/server/default/conf/props&amp;gt; more console-users.properties &lt;/p&gt;

&lt;h1&gt;A sample users.properties file for use with the UsersRolesLoginModule&lt;/h1&gt;

&lt;p&gt;admin=mypassword&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Prototype Documentation</title>
   <link href="http://benjchristensen.com/code/2006/03/23/prototype-documentation/"/>
   <updated>2006-03-23T18:38:00-08:00</updated>
   <id>http://benjchristensen.com/code/2006/03/23/prototype-documentation</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.sergiopereira.com/articles/prototype.js.html&quot;&gt;http://www.sergiopereira.com/articles/prototype.js.html&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How projects go ...</title>
   <link href="http://benjchristensen.com/fun/2006/03/07/how-projects-go/"/>
   <updated>2006-03-07T17:08:00-08:00</updated>
   <id>http://benjchristensen.com/fun/2006/03/07/how-projects-go</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://benjchristensen.files.wordpress.com/2007/04/software-project.jpg&quot;&gt;&lt;img src=&quot;https://benjchristensen.files.wordpress.com/2007/04/software-project.thumbnail.jpg&quot; alt=&quot;Software Project&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>WTP 1.5M4</title>
   <link href="http://benjchristensen.com/tools/2006/02/11/wtp-15m4/"/>
   <updated>2006-02-11T21:40:00-08:00</updated>
   <id>http://benjchristensen.com/tools/2006/02/11/wtp-15m4</id>
   <content type="html">&lt;p&gt;I&amp;#39;m running Eclipse 3.2M4 and WTP 1.5M4 and so far things seem to be working well.&lt;/p&gt;

&lt;p&gt;It&amp;#39;s a pain to convert a MyEclipse project in SVN, but straightforward ...&lt;/p&gt;

&lt;p&gt;When checking out from CVS/SVN, if a .project file exists, it automatically configures the project with that. To allow me to checkout the project as a &amp;quot;Dynamic Web App&amp;quot;, I had to delete the .project file in SVN first.&lt;/p&gt;

&lt;p&gt;The files I removed in SVN are:&lt;/p&gt;

&lt;p&gt;.project
.classpath&lt;/p&gt;

&lt;p&gt;Here is an image showing the project in Eclipse.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://photos1.blogger.com/blogger/1034/1888/1600/Picture%204.png&quot;&gt;&lt;img src=&quot;http://photos1.blogger.com/blogger/1034/1888/320/Picture%204.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This next picture shows how my &amp;quot;Project Preferences&amp;quot; looks ... particularly the &amp;quot;Project Facets&amp;quot; which is how WTP dictates what a project is ... Java and Dynamic Web Module are necessary ones.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://photos1.blogger.com/blogger/1034/1888/1600/Picture%205.png&quot;&gt;&lt;img src=&quot;http://photos1.blogger.com/blogger/1034/1888/320/Picture%205.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This picture shows the server manager.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://photos1.blogger.com/blogger/1034/1888/1600/Picture%207.png&quot;&gt;&lt;img src=&quot;http://photos1.blogger.com/blogger/1034/1888/320/Picture%207.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I personally don&amp;#39;t like waiting for validation so I turned off several of the validators. The following picture shows it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://photos1.blogger.com/blogger/1034/1888/1600/Picture%206.png&quot;&gt;&lt;img src=&quot;http://photos1.blogger.com/blogger/1034/1888/320/Picture%206.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ben&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Eclipse WTP 1.0</title>
   <link href="http://benjchristensen.com/tools/2006/02/11/eclipse-wtp-10/"/>
   <updated>2006-02-11T16:17:00-08:00</updated>
   <id>http://benjchristensen.com/tools/2006/02/11/eclipse-wtp-10</id>
   <content type="html">&lt;p&gt;Just been playing with WTP 1.0 from Eclipse to see if I can use it instead of MyEclipseIDE.&lt;/p&gt;

&lt;p&gt;It took some playing around to get it working and a feel for it ... it&amp;#39;s pretty close to being able to take care of everything we need ... without the bloat that MyEclipseIDE is becoming.&lt;/p&gt;

&lt;p&gt;It also seems to have a nice server deployment/management system ...&lt;/p&gt;

&lt;p&gt;This particular bug is the clincher that&amp;#39;s making me wait until 1.5 is released to re-evaluate.&lt;/p&gt;

&lt;p&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=121603&lt;/p&gt;

&lt;p&gt;Ben&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Subclipse and Subversion</title>
   <link href="http://benjchristensen.com/tools/2006/02/02/subclipse-and-subversion/"/>
   <updated>2006-02-02T11:26:00-08:00</updated>
   <id>http://benjchristensen.com/tools/2006/02/02/subclipse-and-subversion</id>
   <content type="html">&lt;p&gt;Subclipse is a pretty decent plugin for Subversion ... though it feels like it still has some maturing to do ...&lt;/p&gt;

&lt;p&gt;Here are two items in particular we&amp;#39;ve run into ...&lt;/p&gt;

&lt;p&gt;1) Folder named &amp;quot;tags&amp;quot; doesn&amp;#39;t think it&amp;#39;s under version control&lt;/p&gt;

&lt;p&gt;If a folder is named &amp;quot;tags&amp;quot; anywhere ... and it says it&amp;#39;s ignored, or won&amp;#39;t synchronize etc, then go into Preferences for Team -&amp;gt; Ignored Resources and uncheck &amp;quot;tags&amp;quot;&lt;/p&gt;

&lt;p&gt;2) Rename of Class name or other file fails with an SVN error&lt;/p&gt;

&lt;p&gt;On Windows ... if all you&amp;#39;re doing is changing the CASE of a filename ... it will fail since Windows is case-insensitive.&lt;/p&gt;

&lt;p&gt;So ... you need to change the name to something different first .... then to the renamed file with different case.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ClassName&lt;/li&gt;
&lt;li&gt;ClassNameOld&lt;/li&gt;
&lt;li&gt;CLASSName&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ben&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Order by with Row limit in Oracle</title>
   <link href="http://benjchristensen.com/code/2006/01/13/order-by-with-row-limit-in-oracle/"/>
   <updated>2006-01-13T18:17:00-08:00</updated>
   <id>http://benjchristensen.com/code/2006/01/13/order-by-with-row-limit-in-oracle</id>
   <content type="html">&lt;p&gt;http://www.sleberknight.com:8080/roller/page/sleberkn/20050714&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;select * from person where last&lt;em&gt;name = &amp;#39;Smith&amp;#39; and rownum
When you run that query, you find much different results than you expect. This is because Oracle performs the query and applies the rownum to each row in the results before applying the order by clause. So the question is how in the world do you use Oracle&amp;#39;s rownum in concert with an order by clause and get the correct results. I cheated. I have been using Hibernate for a while on an Oracle database and know it is able to handle this exact situation - that is, limiting the number of results and applying an order by clause to a query. So I set the hibernate.show&lt;/em&gt;sql property to true and looked at what it generated for a query. It turns out to be very simple and makes use of a subselect:&lt;/p&gt;

&lt;p&gt;select * from (
select * from person where last&lt;em&gt;name = &amp;#39;Smith&amp;#39; order by last&lt;/em&gt;name, first_name
)
where rownum&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>JSTL: List Sizes</title>
   <link href="http://benjchristensen.com/code/2005/12/19/jstl-list-sizes/"/>
   <updated>2005-12-19T22:32:00-08:00</updated>
   <id>http://benjchristensen.com/code/2005/12/19/jstl-list-sizes</id>
   <content type="html">&lt;p&gt;This link is useful for getting list sizes etc using JSTL:&lt;/p&gt;

&lt;p&gt;http://forum.java.sun.com/thread.jspa?threadID=484828&amp;amp;messageID=3731101&lt;/p&gt;

&lt;p&gt;Here is the piece for testing a certain size:&lt;/p&gt;

&lt;p&gt;&lt;c:**if** test=&quot;${osms[1] ne null}&quot;&gt;&lt;/p&gt;

&lt;p&gt;And if using JSTL 1.1 to get the size:&lt;/p&gt;

&lt;p&gt;&lt;c:**if** test=&quot;${fn:length(list) &gt; 1}&amp;quot;&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>More cool AJAX links ...</title>
   <link href="http://benjchristensen.com/code/user%20interface/2005/11/19/more-cool-ajax-links/"/>
   <updated>2005-11-19T13:14:00-08:00</updated>
   <id>http://benjchristensen.com/code/user%20interface/2005/11/19/more-cool-ajax-links</id>
   <content type="html">&lt;p&gt;On the Prototype website there are already links to these sites, but
they&amp;#39;re worth noting ... I haven&amp;#39;t used them yet but likely will.&lt;/p&gt;

&lt;p&gt;http://script.aculo.us/
http://openrico.org/rico/home.page&lt;/p&gt;

&lt;p&gt;This e-mail is privileged, confidential and subject to copyright. Any unauthorised use or disclosure of its contents is prohibited.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Content Management Systems -- JSR 170 and Magnolia</title>
   <link href="http://benjchristensen.com/architecture/code/2005/11/19/content-management-systems-jsr-170-and-magnolia/"/>
   <updated>2005-11-19T13:14:00-08:00</updated>
   <id>http://benjchristensen.com/architecture/code/2005/11/19/content-management-systems-jsr-170-and-magnolia</id>
   <content type="html">&lt;p&gt;In the past week I&amp;#39;ve done a bunch of research on content management systems, and in particular the Java standard JSR 170.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ve been playing with Magnolia and so far am fairly impressed with how it works -- though not so impressed with the backend repository which in this case is JackRabbit, the open source reference implementation.&lt;/p&gt;

&lt;p&gt;It appears though that for a fairly reasonable price I can get the Enterprise version of Magnolia that uses the commercial JSR-170 compliant repository from Day (http://www.day.com/site/en/index.html). It sounds like it should be MUCH better ... and is very likely what all the big name companies use that Magnolia lists on their site. I&amp;#39;ve requested them to contact me but haven&amp;#39;t heard back yet.&lt;/p&gt;

&lt;p&gt;JSR-170 definitely is sounding nice ... though it seems like it still has a way to go before it fully matures as it&amp;#39;s quite new.&lt;/p&gt;

&lt;p&gt;Also, the opensource community obviously has not had enough time to make a decent enterprise implementation, as Jackrabbit doesn&amp;#39;t cut it. For example ... I have the system running with JackRabbit ... it only support filesystem persistence right now, so I try to connect another client to it and .... it doesn&amp;#39;t work ( the files are locked) .... so that means it won&amp;#39;t work so well except for small things.&lt;/p&gt;

&lt;p&gt;Also, I see no nice way of connecting remotely to the repository using the open source version of Magnolia.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ll continue researching this in the coming week.&lt;/p&gt;
</content>
 </entry>
 

</feed>
